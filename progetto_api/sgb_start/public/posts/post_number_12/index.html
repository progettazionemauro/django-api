<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>My New Hugo Site</title>
<meta name="keywords" content="">
<meta name="description" content="Welcome to StackEdit! Ultimo aggiornamento h. 17:50 Hi! I&rsquo;m your first Markdown file in StackEdit. If you want to learn about StackEdit, you can read me. If you want to play with Markdown, you can edit me. Once you have finished with me, you can create new files by opening the file explorer on the left corner of the navigation bar.
Files StackEdit stores your files in your browser, which means all your files are automatically saved locally and are accessible offline!">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/post_number_12/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/post_number_12/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about_map/about/" title="MAP">
                    <span>MAP</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/data_from_json/data_json" title="Tabella Json">
                    <span>Tabella Json</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/django_retrieve/django_retrieve" title="Django Retrieve">
                    <span>Django Retrieve</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/data_from_endpoint/data_from_endpoint" title="Endpoint">
                    <span>Endpoint</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/vue_retrieve/vue_retrieve" title="Vue Endpoint">
                    <span>Vue Endpoint</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">


<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/"></a></div>
    <h1 class="post-title entry-hint-parent">
      
    </h1>
    <div class="post-meta">140 min

</div>
  </header> 
  <div class="post-content"><h1 id="welcome-to-stackedit">Welcome to StackEdit!<a hidden class="anchor" aria-hidden="true" href="#welcome-to-stackedit">#</a></h1>
<p>Ultimo aggiornamento h. 17:50
Hi! I&rsquo;m your first Markdown file in <strong>StackEdit</strong>. If you want to learn about StackEdit, you can read me. If you want to play with Markdown, you can edit me. Once you have finished with me, you can create new files by opening the <strong>file explorer</strong> on the left corner of the navigation bar.</p>
<h1 id="files">Files<a hidden class="anchor" aria-hidden="true" href="#files">#</a></h1>
<p>StackEdit stores your files in your browser, which means all your files are automatically saved locally and are accessible <strong>offline!</strong></p>
<h2 id="create-files-and-folders">Create files and folders<a hidden class="anchor" aria-hidden="true" href="#create-files-and-folders">#</a></h2>
<p>The file explorer is accessible using the button in left corner of the navigation bar. You can create a new file by clicking the <strong>New file</strong> button in the file explorer. You can also create folders by clicking the <strong>New folder</strong> button.</p>
<h2 id="switch-to-another-file">Switch to another file<a hidden class="anchor" aria-hidden="true" href="#switch-to-another-file">#</a></h2>
<p>All your files and folders are presented as a tree in the file explorer. You can switch from one to another by clicking a file in the tree.</p>
<h2 id="rename-a-file">Rename a file<a hidden class="anchor" aria-hidden="true" href="#rename-a-file">#</a></h2>
<p>You can rename the current file by clicking the file name in the navigation bar or by clicking the <strong>Rename</strong> button in the file explorer.</p>
<h2 id="delete-a-file">Delete a file<a hidden class="anchor" aria-hidden="true" href="#delete-a-file">#</a></h2>
<p>You can delete the current file by clicking the <strong>Remove</strong> button in the file explorer. The file will be moved into the <strong>Trash</strong> folder and automatically deleted after 7 days of inactivity.</p>
<h2 id="export-a-file">Export a file<a hidden class="anchor" aria-hidden="true" href="#export-a-file">#</a></h2>
<p>You can export the current file by clicking <strong>Export to disk</strong> in the menu. You can choose to export the file as plain Markdown, as HTML using a Handlebars template or as a PDF.</p>
<h1 id="synchronization">Synchronization<a hidden class="anchor" aria-hidden="true" href="#synchronization">#</a></h1>
<p>Synchronization is one of the biggest features of StackEdit. It enables you to synchronize any file in your workspace with other files stored in your <strong>Google Drive</strong>, your <strong>Dropbox</strong> and your <strong>GitHub</strong> accounts. This allows you to keep writing on other devices, collaborate with people you share the file with, integrate easily into your workflow&hellip; The synchronization mechanism takes place every minute in the background, downloading, merging, and uploading file modifications.</p>
<p>There are two types of synchronization and they can complement each other:</p>
<ul>
<li>
<p>The workspace synchronization will sync all your files, folders and settings automatically. This will allow you to fetch your workspace on any other device.</p>
<blockquote>
<p>To start syncing your workspace, just sign in with Google in the menu.</p>
</blockquote>
</li>
<li>
<p>The file synchronization will keep one file of the workspace synced with one or multiple files in <strong>Google Drive</strong>, <strong>Dropbox</strong> or <strong>GitHub</strong>.</p>
<blockquote>
<p>Before starting to sync files, you must link an account in the <strong>Synchronize</strong> sub-menu.</p>
</blockquote>
</li>
</ul>
<h2 id="open-a-file">Open a file<a hidden class="anchor" aria-hidden="true" href="#open-a-file">#</a></h2>
<p>You can open a file from <strong>Google Drive</strong>, <strong>Dropbox</strong> or <strong>GitHub</strong> by opening the <strong>Synchronize</strong> sub-menu and clicking <strong>Open from</strong>. Once opened in the workspace, any modification in the file will be automatically synced.</p>
<h2 id="save-a-file">Save a file<a hidden class="anchor" aria-hidden="true" href="#save-a-file">#</a></h2>
<p>You can save any file of the workspace to <strong>Google Drive</strong>, <strong>Dropbox</strong> or <strong>GitHub</strong> by opening the <strong>Synchronize</strong> sub-menu and clicking <strong>Save on</strong>. Even if a file in the workspace is already synced, you can save it to another location. StackEdit can sync one file with multiple locations and accounts.</p>
<h2 id="synchronize-a-file">Synchronize a file<a hidden class="anchor" aria-hidden="true" href="#synchronize-a-file">#</a></h2>
<p>Once your file is linked to a synchronized location, StackEdit will periodically synchronize it by downloading/uploading any modification. A merge will be performed if necessary and conflicts will be resolved.</p>
<p>If you just have modified your file and you want to force syncing, click the <strong>Synchronize now</strong> button in the navigation bar.</p>
<blockquote>
<p><strong>Note:</strong> The <strong>Synchronize now</strong> button is disabled if you have no file to synchronize.</p>
</blockquote>
<h2 id="manage-file-synchronization">Manage file synchronization<a hidden class="anchor" aria-hidden="true" href="#manage-file-synchronization">#</a></h2>
<p>Since one file can be synced with multiple locations, you can list and manage synchronized locations by clicking <strong>File synchronization</strong> in the <strong>Synchronize</strong> sub-menu. This allows you to list and remove synchronized locations that are linked to your file.</p>
<h1 id="publication">Publication<a hidden class="anchor" aria-hidden="true" href="#publication">#</a></h1>
<p>Publishing in StackEdit makes it simple for you to publish online your files. Once you&rsquo;re happy with a file, you can publish it to different hosting platforms like <strong>Blogger</strong>, <strong>Dropbox</strong>, <strong>Gist</strong>, <strong>GitHub</strong>, <strong>Google Drive</strong>, <strong>WordPress</strong> and <strong>Zendesk</strong>. With <a href="http://handlebarsjs.com/">Handlebars templates</a>, you have full control over what you export.</p>
<blockquote>
<p>Before starting to publish, you must link an account in the <strong>Publish</strong> sub-menu.</p>
</blockquote>
<h2 id="publish-a-file">Publish a File<a hidden class="anchor" aria-hidden="true" href="#publish-a-file">#</a></h2>
<p>You can publish your file by opening the <strong>Publish</strong> sub-menu and by clicking <strong>Publish to</strong>. For some locations, you can choose between the following formats:</p>
<ul>
<li>Markdown: publish the Markdown text on a website that can interpret it (<strong>GitHub</strong> for instance),</li>
<li>HTML: publish the file converted to HTML via a Handlebars template (on a blog for example).</li>
</ul>
<h2 id="update-a-publication">Update a publication<a hidden class="anchor" aria-hidden="true" href="#update-a-publication">#</a></h2>
<p>After publishing, StackEdit keeps your file linked to that publication which makes it easy for you to re-publish it. Once you have modified your file and you want to update your publication, click on the <strong>Publish now</strong> button in the navigation bar.</p>
<blockquote>
<p><strong>Note:</strong> The <strong>Publish now</strong> button is disabled if your file has not been published yet.</p>
</blockquote>
<h2 id="manage-file-publication">Manage file publication<a hidden class="anchor" aria-hidden="true" href="#manage-file-publication">#</a></h2>
<p>Since one file can be published to multiple locations, you can list and manage publish locations by clicking <strong>File publication</strong> in the <strong>Publish</strong> sub-menu. This allows you to list and remove publication locations that are linked to your file.</p>
<h1 id="markdown-extensions">Markdown extensions<a hidden class="anchor" aria-hidden="true" href="#markdown-extensions">#</a></h1>
<p>StackEdit extends the standard Markdown syntax by adding extra <strong>Markdown extensions</strong>, providing you with some nice features.</p>
<blockquote>
<p><strong>ProTip:</strong> You can disable any <strong>Markdown extension</strong> in the <strong>File properties</strong> dialog.</p>
</blockquote>
<h2 id="smartypants">SmartyPants<a hidden class="anchor" aria-hidden="true" href="#smartypants">#</a></h2>
<p>SmartyPants converts ASCII punctuation characters into &ldquo;smart&rdquo; typographic punctuation HTML entities. For example:</p>
<table>
<thead>
<tr>
<th></th>
<th>ASCII</th>
<th>HTML</th>
</tr>
</thead>
<tbody>
<tr>
<td>Single backticks</td>
<td><code>'Isn't this fun?'</code></td>
<td>&lsquo;Isn&rsquo;t this fun?&rsquo;</td>
</tr>
<tr>
<td>Quotes</td>
<td><code>&quot;Isn't this fun?&quot;</code></td>
<td>&ldquo;Isn&rsquo;t this fun?&rdquo;</td>
</tr>
<tr>
<td>Dashes</td>
<td><code>-- is en-dash, --- is em-dash</code></td>
<td>&ndash; is en-dash, &mdash; is em-dash</td>
</tr>
</tbody>
</table>
<h2 id="katex">KaTeX<a hidden class="anchor" aria-hidden="true" href="#katex">#</a></h2>
<p>You can render LaTeX mathematical expressions using <a href="https://khan.github.io/KaTeX/">KaTeX</a>:</p>
<p>The <em>Gamma function</em> satisfying $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$ is via the Euler integral</p>
<p>$$
\Gamma(z) = \int_0^\infty t^{z-1}e^{-t}dt,.
$$</p>
<blockquote>
<p>You can find more information about <strong>LaTeX</strong> mathematical expressions <a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">here</a>.</p>
</blockquote>
<h2 id="uml-diagrams">UML diagrams<a hidden class="anchor" aria-hidden="true" href="#uml-diagrams">#</a></h2>
<p>You can render UML diagrams using <a href="https://mermaidjs.github.io/">Mermaid</a>. For example, this will produce a sequence diagram:</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">sequenceDiagram
Alice -&gt;&gt; Bob: Hello Bob, how are you?
Bob--&gt;&gt;John: How about you John?
Bob--x Alice: I am good thanks!
Bob-x John: I am good thanks!
Note right of John: Bob thinks a long&lt;br/&gt;long time, so long&lt;br/&gt;that the text does&lt;br/&gt;not fit on a row.

Bob--&gt;Alice: Checking with John...
Alice-&gt;John: Yes... John, how are you?
</code></pre><p>And this will produce a flow chart:</p>
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">graph LR
A[Square Rect] -- Link text --&gt; B((Circle))
A --&gt; C(Round Rect)
B --&gt; D{Rhombus}
C --&gt; D
```[toc]


# MARKUP HINTS
By Mauro alle h. 06 12 maggio 24
I have my README.md inside my project. Here are a method to work with your README.md separately while working on your vsc local project: Use an external Markdown editor like 

[Typora]: (https://typora.io/#feature)

** (a minimal markdown editor and reader) **. These editors provide a live preview feature by default. 

# BASH

- trovare la oporta occupata:
  - `lsof -i :8000`
  
- chiudere la porta occupata forzatamente:
  - `kill -9 32394(esempio)`
  
- vedere i comandi che iniziano per una determinata strina effettuati in precedenza:
  -  `history | grep &#34;kill (esempio)&#34;`

- trovare la porta occupata:
  - `lsof -i :8000`
  
- chiudere la porta occupata forzatamente:
  - `kill -9 32394(esempio)`
  
- vedere i comandi che iniziano per una determinata strina effettuati in precedenza:
  -  `history | grep &#34;kill (esempio)&#34;`
  
- Azione Bash - Quello che segue è uno script molto importante che permette nell&#39;ordine di 1) verificare se la porta 8000 (che viene utilizzata normalmente in fase di sviluppo) è occupata ed eventualmente chiuderla; 2) aprire Django 3) aprire hugo. Al momento sono presenti due file separati per una migliore comprensione:
```bash
- check_ports.sh

  \#!/bin/bash

  \# Check if any process is listening on port 8000

  if lsof -i :8000 &gt;/dev/null 2&gt;&amp;1; then

  ​    echo &#34;Port 8000 is in use.&#34;

  ​    \# Get the PID of the process using port 8000

  ​    pid=$(lsof -ti :8000)

  ​    \# Kill the process

  ​    echo &#34;Killing process with PID $pid&#34;

  ​    kill -9 &#34;$pid&#34;

  ​    echo &#34;Process killed.&#34;

  else

  ​    echo &#34;Port 8000 is not in use.&#34;

  fi
</code></pre><ul>
<li>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>run_project.sh
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Navigate to the Django project directory and run the server</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cd /progetto_api</span>
</span></span><span style="display:flex;"><span>python3 manage.py runserver &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Navigate to the Hugo project directory and run the server</span>
</span></span><span style="display:flex;"><span>cd ./sgb_start/
</span></span><span style="display:flex;"><span>hugo server -D
</span></span></code></pre></div></li>
</ul>
<p>Per cui lo script generare <strong>APRIRE I DUE PROGRAMMI</strong>  DJANGO E HUGO è il seguente (ADA PERFEZIONARE!!):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Check if any process is listening on port 8000</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> lsof -i :8000 &gt;/dev/null 2&gt;&amp;1; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;Port 8000 is in use.&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Get the PID of the process using port 8000</span>
</span></span><span style="display:flex;"><span>    pid<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>lsof -ti :8000<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Kill the process</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;Killing process with PID </span>$pid<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    kill -9 <span style="color:#e6db74">&#34;</span>$pid<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;Process killed.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;Port 8000 is not in use.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Navigate to the Django project directory and run the server</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cd /progetto_api</span>
</span></span><span style="display:flex;"><span>python3 manage.py runserver &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Navigate to the Hugo project directory and run the server</span>
</span></span><span style="display:flex;"><span>cd ./sgb_start/
</span></span><span style="display:flex;"><span>hugo server -D
</span></span></code></pre></div><p>Mentre il codice per chiudere i due programmi DJANGO e HUGO è il seguente (da perfezionare)!!!:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Find Django PID and send SIGTERM signal</span>
</span></span><span style="display:flex;"><span>django_pid<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>pidof python<span style="color:#66d9ef">)</span> <span style="color:#f92672">&amp;&amp;</span> kill <span style="color:#e6db74">&#34;</span>$django_pid<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;Django process terminated&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Find Hugo PID and send SIGTERM signal</span>
</span></span><span style="display:flex;"><span>hugo_pid<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>pidof hugo<span style="color:#66d9ef">)</span> <span style="color:#f92672">&amp;&amp;</span> kill <span style="color:#e6db74">&#34;</span>$hugo_pid<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;Hugo process terminated&#34;</span>
</span></span><span style="display:flex;"><span>ps aux | grep <span style="color:#e6db74">&#34;python manage.py runserver&#34;</span>; reset
</span></span></code></pre></div><h1 id="git--github">GIT &amp; GITHUB<a hidden class="anchor" aria-hidden="true" href="#git--github">#</a></h1>
<p>Riferimenti <a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">Mastering MarkDown</a></p>
<h3 id="ricordarsi-di-aggiungere-gitgnore">Ricordarsi di aggiungere .gitgnore<a hidden class="anchor" aria-hidden="true" href="#ricordarsi-di-aggiungere-gitgnore">#</a></h3>
<p><strong>- git add .gitignore</strong>
<strong>- git commit -m &ldquo;Add .gitignore to exclude compiled Python files&rdquo;</strong></p>
<h3 id="per-effettuare-il-push-da-origine-a-remoto">Per effettuare il push da origine a remoto<a hidden class="anchor" aria-hidden="true" href="#per-effettuare-il-push-da-origine-a-remoto">#</a></h3>
<p><strong>- git push origin implementazione-pagina</strong></p>
<h3 id="switch-to-the-new-branch">Switch to the New Branch:<a hidden class="anchor" aria-hidden="true" href="#switch-to-the-new-branch">#</a></h3>
<p><strong>- git checkout new-branch-name</strong></p>
<h3 id="creare-una-nuova-branch-e-posizionarsi-sulla-stessa">Creare una nuova branch e posizionarsi sulla stessa<a hidden class="anchor" aria-hidden="true" href="#creare-una-nuova-branch-e-posizionarsi-sulla-stessa">#</a></h3>
<ul>
<li>git checkout -b new-branch-name <em>(Il comando può essere visto come la sintesi dei due seguenti comandi:)</em></li>
</ul>
<p><strong>- git branch new-branch-name  # Create a new branch</strong>
<strong>- git checkout new-branch-name  # Switch to the new branch</strong></p>
<h2 id="youve-created-a-new-branch-template-tutorial-without-committing-changes-on-your-existing-branch-implementazione-pagina">You&rsquo;ve created a new branch (template-tutorial) without committing changes on your existing branch (implementazione-pagina)<a hidden class="anchor" aria-hidden="true" href="#youve-created-a-new-branch-template-tutorial-without-committing-changes-on-your-existing-branch-implementazione-pagina">#</a></h2>
<p>To address this, you&rsquo;ll need to follow these steps to commit your changes on the implementazione-pagina branch and then switch back to the template-tutorial branch. Here&rsquo;s a step-by-step guide:</p>
<ul>
<li>Commit Changes on implementazione-pagina:
Assuming you are currently on the template-tutorial branch, ** switch back to the implementazione-pagina branch:**</li>
</ul>
<p><code>git checkout implementazione-pagina</code></p>
<p>Now, add and commit your changes:</p>
<p><code>git add .</code>
<code>git commit -m &quot;Your commit message here&quot;</code></p>
<ul>
<li><strong>Push Changes to Remote (implementazione-pagina):</strong>
Assuming the remote branch is named implementazione-pagina:</li>
</ul>
<p><code>git push origin implementazione-pagina</code></p>
<ul>
<li>** Switch Back to template-tutorial:**
Now, switch back to the template-tutorial branch:</li>
</ul>
<p><code>git checkout template-tutorial</code></p>
<p><strong>If you haven&rsquo;t pushed the template-tutorial branch yet, you can push it to the remote repository when you&rsquo;re ready:</strong></p>
<p><code>git push origin template-tutorial</code></p>
<p><strong>How can see from my vsc local if a git branch is present also in the remote github?</strong></p>
<p><code>git fetch --all git branch -a </code>
This fetches all branches from the remote repository and lists both local and remote branches. Remote branches are prefixed with &ldquo;remotes/origin/&rdquo;. Check if your branch is listed among the remotes.</p>
<p><strong>Come posso creare una nuova branch in local, e poi crearla anche in Github, poi effettuare il push e rendere questa branch principale?</strong></p>
<p>Create a new branch locally and switch to it (chimiamo la nuova branch template-tutorial):
<code>git checkout -b template-tutorial</code></p>
<p>Push the new branch to GitHub:</p>
<p><code>git push origin template-tutorial</code></p>
<p>Set the upstream for the new branch:</p>
<p><code>git branch --set-upstream-to=origin/template-tutorial template-tutorial</code>![alt]( &lsquo;{&ldquo;class&rdquo;: &ldquo;&rdquo;, &ldquo;title&rdquo;: &ldquo;&rdquo;}&rsquo;)</p>
<p>Now, further pushes can be simplified to:</p>
<p><code>git push</code></p>
<p>To revert the changes and go back to the original commit before the changes, you can use the following commands:
<code>git reset --hard HEAD git clean -fd</code></p>
<p>The first command (git reset &ndash;hard HEAD) resets your branch to the latest commit, discarding changes. The second command (git clean -fd) removes untracked files and directories. Use them with caution, as they are not reversible.</p>
<p>-fd stands for what?
In the context of the git clean command:</p>
<p>-f stands for force.
-d stands for directory.
Together, -fd means force removal of untracked directories. This option is used to remove untracked files and directories forcefully.</p>
<h2 id="delete-a-local-branch-and-also-delete-it-on-the-remote-repository-on-github">delete a local branch and also delete it on the remote repository on GitHub<a hidden class="anchor" aria-hidden="true" href="#delete-a-local-branch-and-also-delete-it-on-the-remote-repository-on-github">#</a></h2>
<p>Delete the local branch:</p>
<p><code>git branch -d branch_name</code>![alt]( &lsquo;{&ldquo;class&rdquo;: &ldquo;&rdquo;, &ldquo;title&rdquo;: &ldquo;&rdquo;}&rsquo;)</p>
<p>Replace branch_name with the name of the branch you want to delete.</p>
<p>If the branch contains unmerged changes, you might need to force delete it:</p>
<p><code>git branch -D branch_name</code></p>
<p>Delete the remote branch:</p>
<p><code>git push origin --delete branch_name</code></p>
<p>This will delete the branch on the remote repository (GitHub).</p>
<p>Update your local repository to reflect the changes on the remote:</p>
<p><code>git fetch --prune</code></p>
<p>The &ndash;prune flag removes any remote tracking branches that no longer exist on the remote.</p>
<h2 id="i-want-to-synch-another-an-oldest-branch-named-template-tutorial-with-a-newest-branch-named-template-sheetlike-and-after-delete-this-last-one-template-sheetlike">I want to synch another an oldest branch named &ldquo;template-tutorial&rdquo; with a newest branch named template-sheetlike and after delete this last one (template-sheetlike)<a hidden class="anchor" aria-hidden="true" href="#i-want-to-synch-another-an-oldest-branch-named-template-tutorial-with-a-newest-branch-named-template-sheetlike-and-after-delete-this-last-one-template-sheetlike">#</a></h2>
<p>Switch to the template-tutorial branch:
<code>git switch template-tutorial</code></p>
<p>Rebase template-sheetlike onto template-tutorial:
<code>git rebase template-sheetlike</code></p>
<p>Push the changes to the remote repository:
<code>git push origin template-tutorial --force</code>
Note: Force-pushing after a rebase rewrites the commit history. Use it with caution, especially if the branch has already been shared with others</p>
<p>Delete the template-sheetlike branch:
<code>git branch -d template-sheetlike</code>
<code>git push origin --delete template-sheetlike</code></p>
<h2 id="automate-the-copy-of-a-file-from-a-repo-to-another-when-pushing-the-commit">Automate the copy of a file from a repo to another when pushing the commit<a hidden class="anchor" aria-hidden="true" href="#automate-the-copy-of-a-file-from-a-repo-to-another-when-pushing-the-commit">#</a></h2>
<p>So let&rsquo;s say that i have cheatsheet.md that i update regularly as it would be a wiki page. This file with the same name is present on different local repo. Let&rsquo;s say that i am working into my local repo named /home/mauro/Scrivania/dJANGO_apI/progetto_api/cheatsheet.md.md. When I do a commit adn after a push into github repo <a href="https://github.com/progettazionemauro/django-api">https://github.com/progettazionemauro/django-api</a> I want automatically copy this file and update the commit also into my <a href="https://github.com/progettazionemauro/wiki-wag">https://github.com/progettazionemauro/wiki-wag</a> How can do that automatically?</p>
<p>To automatically copy and update the <code>cheatsheet.md</code> file in another GitHub repository whenever you push changes to the first repository, you can use GitHub Actions. GitHub Actions allows you to define workflows that run in response to various events, such as pushing to a repository. Here&rsquo;s a simple example:</p>
<h2 id="theory">Theory<a hidden class="anchor" aria-hidden="true" href="#theory">#</a></h2>
<ol>
<li>
<h3 id="create-a-github-actions-workflow"><strong>Create a GitHub Actions Workflow:</strong><a hidden class="anchor" aria-hidden="true" href="#create-a-github-actions-workflow">#</a></h3>
<p>In your Django API repository (<code>https://github.com/progettazionemauro/django-api</code>), create a directory named <code>.github/workflows</code> if it doesn&rsquo;t already exist.</p>
<p>Inside this directory, create a file named, for example, <code>sync_cheatsheet.yml</code> with the following content:</p>
<pre tabindex="0"><code>name: Sync Cheatsheet

on:
  push:
    branches:
      - main

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Copy cheatsheet to other repository
      run: |
        cp cheatsheet.md /path/to/wiki-wag-repo
        cd /path/to/wiki-wag-repo
        git config user.email &#34;your-email@example.com&#34;
        git config user.name &#34;Your Name&#34;
        git add cheatsheet.md
        git commit -m &#34;Sync cheatsheet from django-api repository&#34;
        git push origin main
</code></pre><p>Replace <code>/path/to/wiki-wag-repo</code> with the actual path to your local <code>wiki-wag</code> repository.</p>
</li>
<li>
<p><strong>Commit and Push Workflow:</strong></p>
<p>Commit the changes and push them to your Django API repository:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add .github/workflows/sync_cheatsheet.yml
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Add sync cheatsheet workflow&#34;</span>
</span></span><span style="display:flex;"><span>git push origin main
</span></span></code></pre></div></li>
<li>
<p><strong>Run the Workflow:</strong></p>
<p>The workflow will run automatically when you push changes to the <code>main</code> branch. It will copy the <code>cheatsheet.md</code> file to the specified path in the <code>wiki-wag</code> repository and commit the changes there.</p>
</li>
</ol>
<p>Make sure to replace the placeholder values in the workflow file (<code>your-email@example.com</code>, <code>Your Name</code>, and <code>/path/to/wiki-wag-repo</code>) with your actual email, name, and the path to the <code>wiki-wag</code> repository.</p>
<p>Here are step-by-step instructions to set up the GitHub Actions workflow for syncing the <code>cheatsheet.md</code> file from the Django API repository to the <code>wiki-wag</code> repository:</p>
<h4 id="step-1-create-the-workflow-file">Step 1: Create the Workflow File<a hidden class="anchor" aria-hidden="true" href="#step-1-create-the-workflow-file">#</a></h4>
<ol>
<li>
<p>Open your Django API repository in your code editor or on GitHub.</p>
</li>
<li>
<p>Inside the <code>.github/workflows</code> directory (create it if it doesn&rsquo;t exist), create a new file named, for example, <code>sync_cheatsheet.yml</code>.</p>
</li>
<li>
<p>Copy and paste the following content into <code>sync_cheatsheet.yml</code>:</p>
<pre tabindex="0"><code>yamlCopy codename: Sync Cheatsheet

on:
  push:
    branches:
      - main

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Copy cheatsheet to other repository
      run: |
        cp cheatsheet.md /path/to/wiki-wag-repo
        cd /path/to/wiki-wag-repo
        git config user.email &#34;your-email@example.com&#34;
        git config user.name &#34;Your Name&#34;
        git add cheatsheet.md
        git commit -m &#34;Sync cheatsheet from django-api repository&#34;
        git push origin main
</code></pre><p>Replace <code>/path/to/wiki-wag-repo</code>, <code>&quot;your-email@example.com&quot;</code>, and <code>&quot;Your Name&quot;</code> with the actual path to your local <code>wiki-wag</code> repository, your email, and your GitHub username.</p>
</li>
</ol>
<h4 id="step-2-commit-and-push-workflow-file">Step 2: Commit and Push Workflow File<a hidden class="anchor" aria-hidden="true" href="#step-2-commit-and-push-workflow-file">#</a></h4>
<ol>
<li>
<p>In your terminal, navigate to the Django API repository.</p>
</li>
<li>
<p>Run the following commands to stage, commit, and push the workflow file:</p>
<pre tabindex="0"><code>bashCopy codegit add .github/workflows/sync_cheatsheet.yml
git commit -m &#34;Add sync cheatsheet workflow&#34;
git push origin main
</code></pre></li>
</ol>
<h4 id="step-3-run-the-workflow">Step 3: Run the Workflow<a hidden class="anchor" aria-hidden="true" href="#step-3-run-the-workflow">#</a></h4>
<ol>
<li>Visit the Actions tab on your GitHub repository to see the status of your workflow. You should see the &ldquo;Sync Cheatsheet&rdquo; workflow running or completed.</li>
</ol>
<h4 id="step-4-verify-changes-in-the-wiki-wag-repository">Step 4: Verify Changes in the <code>wiki-wag</code> Repository<a hidden class="anchor" aria-hidden="true" href="#step-4-verify-changes-in-the-wiki-wag-repository">#</a></h4>
<ol>
<li>
<p>After the workflow completes, check your <code>wiki-wag</code> repository for the synced changes to the <code>cheatsheet.md</code> file.</p>
<p>If there are any issues or changes are not reflected as expected, review the GitHub Actions logs for the workflow to identify potential errors.</p>
</li>
</ol>
<p>That&rsquo;s it! You&rsquo;ve set up a GitHub Actions workflow to automatically sync the <code>cheatsheet.md</code> file from the Django API repository to the <code>wiki-wag</code> repository on each push to the <code>main</code> branch.</p>
<h5 id="break-down-the-content-of-the-github-actions-workflow-file-step-by-step">Break down the content of the GitHub Actions workflow file step by step:<a hidden class="anchor" aria-hidden="true" href="#break-down-the-content-of-the-github-actions-workflow-file-step-by-step">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Sync Cheatsheet</span>
</span></span></code></pre></div><ul>
<li>This line sets the name of the GitHub Actions workflow to &ldquo;Sync Cheatsheet.&rdquo;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">main</span>
</span></span></code></pre></div><ul>
<li>This section specifies the trigger for the workflow. The workflow will be triggered on each push to the <code>main</code> branch.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">sync</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span></code></pre></div><ul>
<li>Here, we define a job named &ldquo;sync&rdquo; that will run on the latest version of the Ubuntu operating system.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout repository</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v2</span>
</span></span></code></pre></div><ul>
<li>This step checks out the code from the repository, allowing subsequent steps to operate on the repository&rsquo;s contents.</li>
<li><code>uses: actions/checkout@v2</code>: This part specifies the action that will be used for this step. In GitHub Actions, an action is a reusable unit of code. The <code>actions/checkout</code> action is provided by GitHub and is commonly used to check out the source code of the repository.
<ul>
<li><code>@v2</code>: This refers to the version of the <code>actions/checkout</code> action to use. In this case, it&rsquo;s version 2 of the action. The <code>@v2</code> is a version tag that indicates a specific release or version of the action. Using a version tag ensures that the workflow is using a stable and known version of the action, making it less prone to unexpected changes.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Copy cheatsheet to other repository</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">run</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cp cheatsheet.md /path/to/wiki-wag-repo
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        cd /path/to/wiki-wag-repo</span>        
</span></span></code></pre></div><ul>
<li>In this step, the <code>cheatsheet.md</code> file is copied from the current repository to the specified path (<code>/path/to/wiki-wag-repo</code>). The subsequent commands are executed within the <code>wiki-wag</code> repository.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ae81ff">git config user.email &#34;your-email@example.com&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">git config user.name &#34;Your Name&#34;</span>
</span></span></code></pre></div><ul>
<li>These commands set the global Git configuration for the user&rsquo;s email and name in the <code>wiki-wag</code> repository.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>        git add cheatsheet.md
</span></span></code></pre></div><ul>
<li>This command stages the changes to the <code>cheatsheet.md</code> file for the next commit.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>        git commit -m <span style="color:#e6db74">&#34;Sync cheatsheet from django-api repository&#34;</span>
</span></span></code></pre></div><ul>
<li>This command creates a new commit with a commit message indicating that the <code>cheatsheet.md</code> file is being synced from the <code>django-api</code> repository.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>        git push origin main
</span></span></code></pre></div><ul>
<li>
<p>Finally, this command pushes the changes to the remote repository (<code>origin</code>) on the <code>main</code> branch.</p>
<h2 id="real-case-if-i-have-another-branch-othe-then-main-in-repo2-i-can-do-it">Real Case: If I have another branch othe then main in repo2 I can do it:<a hidden class="anchor" aria-hidden="true" href="#real-case-if-i-have-another-branch-othe-then-main-in-repo2-i-can-do-it">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#ae81ff">Sync Cheatsheet </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:  
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">push</span>:    
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">branches</span>:      
</span></span><span style="display:flex;"><span>			- <span style="color:#ae81ff">main </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:  
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">sync</span>:    
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest     </span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">steps</span>:    
</span></span><span style="display:flex;"><span>		- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout repository      </span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v2      </span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">with</span>:        
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">ref</span>: <span style="color:#ae81ff">opzione-pagina </span> <span style="color:#75715e"># Specify the branch you want to sync</span>
</span></span></code></pre></div></li>
</ul>
<h3 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h3>
<p>The GitHub Actions workflow automates the process of syncing the <code>cheatsheet.md</code> file from the <code>django-api</code> repository to the <code>wiki-wag</code> repository. It does so by copying the file, committing the changes, and pushing the commit to the <code>main</code> branch of the <code>wiki-wag</code> repository whenever changes are pushed to the <code>main</code> branch of the <code>django-api</code> repository.</p>
<h3 id="some-useful-notes">Some useful notes<a hidden class="anchor" aria-hidden="true" href="#some-useful-notes">#</a></h3>
<p>Merge:
Creates Merge Commits: When you merge one branch into another, Git creates a new merge commit that has two parent commits: <strong>one from the branch you&rsquo;re merging and another from the branch you&rsquo;re merging into.
This results in a non-linear history with multiple branches merging into each other</strong>
Preserves Original History:</p>
<p>The original commits from both branches remain unchanged. This approach keeps a clear record of when changes were made on each branch.</p>
<p>Rebase:
Linearizes History:</p>
<p>Rebase is used to linearize the commit history. It moves or combines a sequence of commits to a new base commit.
When you rebase one branch onto another, it effectively transplants the entire branch onto the tip of the other branch, creating a linear history.
No Merge Commits:</p>
<p>Unlike merge, rebase doesn&rsquo;t create additional merge commits.
It can result in a cleaner, more linear history.
When to Choose Each Approach:
Merge:</p>
<p>Use merge when you want to preserve the original commit history, especially when collaborating with others.
Good for feature branches and when you want to maintain a clear record of branch integration points.
Rebase:</p>
<p>Use rebase when you want a clean, linear history and don&rsquo;t mind rewriting commits.
Useful for feature branches before merging into a shared branch to avoid unnecessary merge commits.
Switch vs. Checkout:
git switch is a more modern and user-friendly command introduced in recent versions of Git. It is designed specifically for branch switching. If you&rsquo;re using a version of Git that supports git switch, you can replace git checkout with git switch:</p>
<p>Switching Branch:
git switch template-tutorial
Both commands essentially do the same thing in this context, but git switch provides a clearer and more explicit syntax for branch-related operations. If your Git version supports it, feel free to use git switch instead of git checkout.</p>
<h2 id="git-cheatsheet">GIT CHEATSHEET<a hidden class="anchor" aria-hidden="true" href="#git-cheatsheet">#</a></h2>
<p>git command to see the last 3 commit with oneline :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git log --oneline -n <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><h2 id="hooks">HOOKS<a hidden class="anchor" aria-hidden="true" href="#hooks">#</a></h2>
<h3 id="hook-per-sincronizzare-un-file-di-testo-da-stckbit-con-lintera-directory-proveniente-dal-local-questo-script-è-molto-potente-in-quanto-selettivamente-recupera-dal-remote-il-file-di-interesse-lo-sovrascrive-forzatamente-nella-locale-e-poi-qualsiasi-cambio-in-local-sul-file-non-viene-considerato">Hook per sincronizzare un file di testo da stckbit con l&rsquo;intera directory proveniente dal local. Questo script è molto potente in quanto selettivamente recupera dal remote il file di interesse lo sovrascrive forzatamente nella locale e poi qualsiasi cambio in local sul file non viene considerato<a hidden class="anchor" aria-hidden="true" href="#hook-per-sincronizzare-un-file-di-testo-da-stckbit-con-lintera-directory-proveniente-dal-local-questo-script-è-molto-potente-in-quanto-selettivamente-recupera-dal-remote-il-file-di-interesse-lo-sovrascrive-forzatamente-nella-locale-e-poi-qualsiasi-cambio-in-local-sul-file-non-viene-considerato">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">## Mauro 1/5/24 - h. 13:11</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fetch latest changes from the remote repository</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git fetch origin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Pull the latest version of cheatsheet.md from the remote and overwrite local changes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git pull origin main --force
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Remove any local changes to cheatsheet.md</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git checkout -- cheatsheet.md
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Continue with the rest of the script</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Add all changes to the staging area</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Commit all staged changes</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Auto-commit before pushing changes&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Push the commit to the remote repository</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git push origin main
</span></span></code></pre></div><h1 id="wagtail">WAGTAIL<a hidden class="anchor" aria-hidden="true" href="#wagtail">#</a></h1>
<h3 id="how-to-use-streamfield-for-mixed-contenthttpsdocswagtailorgenv521topicsstreamfieldhtml"><a href="https://docs.wagtail.org/en/v5.2.1/topics/streamfield.html">How to use StreamField for mixed content</a><a hidden class="anchor" aria-hidden="true" href="#how-to-use-streamfield-for-mixed-contenthttpsdocswagtailorgenv521topicsstreamfieldhtml">#</a></h3>
<hr>
<h3 id="streamfield-block-referencehttpsdocswagtailorgenv521referencestreamfieldblockshtmlstreamfield-block-reference"><a href="https://docs.wagtail.org/en/v5.2.1/reference/streamfield/blocks.html#streamfield-block-reference">StreamField block reference</a><a hidden class="anchor" aria-hidden="true" href="#streamfield-block-referencehttpsdocswagtailorgenv521referencestreamfieldblockshtmlstreamfield-block-reference">#</a></h3>
<h3 id="templating---jinjahttpsdocswagtailorgenv522referencejinja2html"><a href="https://docs.wagtail.org/en/v5.2.2/reference/jinja2.html">Templating - Jinja</a><a hidden class="anchor" aria-hidden="true" href="#templating---jinjahttpsdocswagtailorgenv522referencejinja2html">#</a></h3>
<h4 id="wrinting-templateshttpsdocswagtailorgenv522topicswriting_templateshtmlwriting-templates"><a href="https://docs.wagtail.org/en/v5.2.2/topics/writing_templates.html#writing-templates">Wrinting Templates</a><a hidden class="anchor" aria-hidden="true" href="#wrinting-templateshttpsdocswagtailorgenv522topicswriting_templateshtmlwriting-templates">#</a></h4>
<p>La regola da seguire è questa:</p>
<p><!-- raw HTML omitted --><code>code: class wagtail.fields.StreamField(blocks, use_json_field=None, blank=False, min_num=None, max_num=None, block_counts=None, collapsed=False)</code><!-- raw HTML omitted --></p>
<p>E questa la spiegazione:</p>
<p><strong>class wagtail.fields.StreamField</strong>: This line defines a class named StreamField in the wagtail.fields module.</p>
<p><strong>(blocks, use_json_field=None, blank=False, min_num=None, max_num=None, block_counts=None, collapsed=False)</strong>: These are the parameters that the StreamField class constructor (<strong>init</strong> method) accepts. Let&rsquo;s go through each one:</p>
<p><strong>blocks</strong>: This is a required parameter. It represents the blocks that can be used in the stream. It seems like it should be provided when creating an instance of StreamField.</p>
<p><strong>use_json_field</strong>=None: This is an optional parameter with a default value of None. It allows you to specify whether to use a JSON field for storage. If not provided, it defaults to None.</p>
<p><strong>blank</strong>=False: This is an optional parameter with a default value of False. It indicates whether the field is allowed to be blank when used in a form. If not provided, it defaults to False.</p>
<p><strong>min_num</strong>=None: This is an optional parameter with a default value of None. It specifies the minimum number of blocks required. If not provided, it defaults to None.</p>
<p><strong>max_num</strong>=None: This is an optional parameter with a default value of None. It specifies the maximum number of blocks allowed. If not provided, it defaults to None.</p>
<p><strong>block_counts</strong>=None: This is an optional parameter with a default value of None. It seems related to counting blocks. If not provided, it defaults to None.</p>
<p><strong>collapsed</strong>=False: This is an optional parameter with a default value of False. It indicates whether the blocks should be collapsed in the Wagtail admin interface. If not provided, it defaults to False</p>
<p>Così ad esempio per questo codice. Possiamo effettuare il breakdown di questo codice in base alla regola definita:</p>
<p>`class BlogPage(Page):
author = models.CharField(max_length=255, default=&lsquo;Default Author&rsquo;)
date = models.DateField(&ldquo;Post date&rdquo;)</p>
<pre><code>body = StreamField(
    [
        ('heading', blocks.CharBlock(form_classname=&quot;title&quot;)),
        ('paragraph', blocks.RichTextBlock()),
        ('image', ImageChooserBlock()),
        ('code', CodeBlock()),
        ('raw_html', RawHTMLBlock()),
    ],
    use_json_field=True
)

content_panels = Page.content_panels + [
    FieldPanel('author'),
    FieldPanel('date'),
    FieldPanel('body'),
]
</code></pre>
<p>`</p>
<p><strong>author</strong> = models.CharField(max_length=255, default=&lsquo;Default Author&rsquo;): This line defines a character field named author in the BlogPage class. It has a maximum length of 255 characters and a default value of &lsquo;Default Author&rsquo;.</p>
<p><strong>date</strong> = models.DateField(&ldquo;Post date&rdquo;): This line defines a date field named date in the BlogPage class with a human-readable name &ldquo;Post date&rdquo;.</p>
<p><strong>body</strong> = StreamField([&hellip;], use_json_field=True): This line defines a stream field named body in the BlogPage class. It allows the inclusion of different block types, such as CharBlock, RichTextBlock, ImageChooserBlock, CodeBlock, and RawHTMLBlock. <strong>The use_json_field parameter is set to True, indicating that a JSON field will be used for storage.</strong></p>
<p><strong>content_panels</strong> = Page.content_panels + [&hellip;]: This line defines the content panels for the Wagtail admin interface. It includes panels for &lsquo;author&rsquo;, &lsquo;date&rsquo;, and &lsquo;body&rsquo;.</p>
<p>Poi in particolare:</p>
<h2 id="content_panels-definition-in-the-blogpage-class">content_panels definition in the BlogPage class:<a hidden class="anchor" aria-hidden="true" href="#content_panels-definition-in-the-blogpage-class">#</a></h2>
<p><code>content_panels = Page.content_panels + [ FieldPanel('author'), FieldPanel('date'), FieldPanel('body'), ]</code></p>
<p><strong>Page.content_panels</strong>: This part includes the content panels defined in the parent Page class. It allows the inclusion of standard page fields, such as title, slug, publish date, etc.</p>
<p><strong>FieldPanel(&lsquo;author&rsquo;)</strong>: This adds a panel for the author field to the content panels. It&rsquo;s likely a simple text input for the author&rsquo;s name.</p>
<p><strong>FieldPanel(&lsquo;date&rsquo;)</strong>: This adds a panel for the date field, probably a date picker for selecting the post date.</p>
<p><strong>FieldPanel(&lsquo;body&rsquo;)</strong>: This adds a panel for the body field. Since it&rsquo;s a StreamField, it might include a dynamic set of blocks like headings, paragraphs, images, code blocks, and raw HTML.</p>
<h2 id="uso-dello-structbox-in-wagtail">Uso dello StructBox in Wagtail<a hidden class="anchor" aria-hidden="true" href="#uso-dello-structbox-in-wagtail">#</a></h2>
<p>Example Model with StructBlock
Consider a simple model for a page with a StreamField containing a StructBlock named &lsquo;person&rsquo;:</p>
<p><!-- raw HTML omitted -->` # models.py
from django.db import models
from wagtail.core.fields import StreamField
from wagtail.core import blocks
from wagtail.images.blocks import ImageChooserBlock
from wagtail.core.models import Page
from wagtail.admin.edit_handlers import FieldPanel, StreamFieldPanel</p>
<p>class BlogPage(Page):
body = StreamField([
(&lsquo;person&rsquo;, blocks.StructBlock([
(&lsquo;first_name&rsquo;, blocks.CharBlock()),
(&lsquo;surname&rsquo;, blocks.CharBlock()),
(&lsquo;photo&rsquo;, ImageChooserBlock(required=False)),
(&lsquo;biography&rsquo;, blocks.RichTextBlock()),
])),
(&lsquo;heading&rsquo;, blocks.CharBlock(form_classname=&ldquo;title&rdquo;)),
(&lsquo;paragraph&rsquo;, blocks.RichTextBlock()),
(&lsquo;image&rsquo;, ImageChooserBlock()),
], use_json_field=True)</p>
<pre><code>content_panels = Page.content_panels + [
    StreamFieldPanel('body'),
] `&lt;/span&gt;
</code></pre>
<p>Diagram Explanation
Blog Page with StreamField and StructBlock:</p>
<p>A BlogPage contains a StreamField named &lsquo;body&rsquo;.
&lsquo;body&rsquo; includes various block types, one of which is a StructBlock named &lsquo;person&rsquo;.
Person StructBlock:</p>
<p>The &lsquo;person&rsquo; block is a StructBlock containing fields like &lsquo;first_name&rsquo;, &lsquo;surname&rsquo;, &lsquo;photo&rsquo;, and &lsquo;biography&rsquo;.
Block Instances:</p>
<p>When editing a BlogPage, you can add multiple instances of different block types, including &lsquo;person&rsquo;. Each &lsquo;person&rsquo; block instance can have its own &lsquo;first_name&rsquo;, &lsquo;surname&rsquo;, &lsquo;photo&rsquo;, and &lsquo;biography&rsquo;</p>
<p><em><strong>Template Implementation</strong></em></p>
<p>To render this in a template, you can use the following:</p>
<pre tabindex="0"><code>`&lt;!-- templates/blog_page.html --&gt;
{% extends &#34;base.html&#34; %}

{% block content %}
    &lt;article&gt;
        {% for block in page.body %}
            {% if block.block_type == &#39;person&#39; %}
                &lt;div class=&#34;person&#34;&gt;
                    {% if block.value.photo %}
                        {% image block.value.photo width-400 %}
                    {% endif %}
                    &lt;h2&gt;{{ block.value.first_name }} {{ block.value.surname }}&lt;/h2&gt;
                    {{ block.value.biography }}
                &lt;/div&gt;
            {% else %}
                {# Rendering for other block types #}
                &lt;section class=&#34;{{ block.block_type }}&#34;&gt;
                    {% include_block block %}
                &lt;/section&gt;
            {% endif %}
        {% endfor %}
    &lt;/article&gt;
{% endblock %} 
</code></pre><hr>
<p><em><strong>Database Initialization</strong></em></p>
<p>When you run makemigrations and migrate after adding the StructBlock to your model, the necessary database tables and fields are created. The use_json_field=True parameter in the StreamField indicates that the data for the StreamField will be stored as JSON in the database.</p>
<p>Here&rsquo;s how you perform the migration:</p>
<p>bash
Copy code
python manage.py makemigrations
python manage.py migrate
After migration, you can create or edit a BlogPage instance through the Wagtail admin interface. The StructBlock fields will be part of the form for each &lsquo;person&rsquo; block within the &lsquo;body&rsquo; StreamField.</p>
<h3 id="riferimenti-rapidi-wagtail">Riferimenti Rapidi Wagtail<a hidden class="anchor" aria-hidden="true" href="#riferimenti-rapidi-wagtail">#</a></h3>
<ul>
<li><a href="https://www.outreachy.org/docs/internship/">Caso Studio web page</a></li>
<li><a href="https://docs.wagtail.org/en/v5.2.1/topics/streamfield.html">How to use Streamfield for mixed content</a></li>
<li><a href="https://docs.wagtail.org/en/v5.2.1/reference/streamfield/blocks.html#streamfield-block-reference">StreamFieldBlock Reference</a></li>
<li></li>
</ul>
<h2 id="caratteristiche-avanzate-di-diango---wagtail">Caratteristiche avanzate di Diango - Wagtail<a hidden class="anchor" aria-hidden="true" href="#caratteristiche-avanzate-di-diango---wagtail">#</a></h2>
<p>Uno dei porblemi che si incontrano effettuando delle tabelle all&rsquo;interno di wagtail ma in generale anche in Django è il caso pratico della renderizzazione degli headers di una tabella se si vogliono recuperare ad esempio i dati all&rsquo;interno delle celle della tabella.</p>
<p>Questo codice di esempio effettua il debug su ciò che è successo:</p>
<p>`<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
{% for column in block.value.columns %}
<!-- raw HTML omitted -->
{{ column.header|default:&ldquo;Column Header&rdquo; }}</p>
<pre><code>            &lt;!-- Debugging statements --&gt;
            &lt;p&gt;block.value.rows: {{ block.value.rows|list }}&lt;/p&gt;
            &lt;p&gt;block.value.rows.1: {{ block.value.rows|list.1|default:&quot;&quot; }}&lt;/p&gt;
            
            {% with block.value.rows|list.1|default:&quot;&quot; as row_values %}
                {{ row_values.0|default:&quot;&quot; }}
            {% endwith %}
        &lt;/th&gt;
    {% endfor %}
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<pre><code>                                &lt;th&gt;
                                    Column Header
                                    
                                    &lt;!-- Debugging statements --&gt;
                                    &lt;p&gt;block.value.rows: &amp;lt;generator object TypedTable.rows at 0x7f08958de2e0&amp;gt;&lt;/p&gt;
                                    &lt;p&gt;block.value.rows.1: &lt;/p&gt; `
</code></pre>
<p>Approfondendo la ricerca si artriva a tale indicazione
:::caution
The issue seems to be related to the fact that block.value.rows is a generator object. In Python, generators are lazy and can be consumed only once. If you try to iterate through the generator more than once, you will get an empty result on subsequent iterations.</p>
<p>In your case, it seems like the generator has been consumed once, which is why when you try to access block.value.rows.1, it doesn&rsquo;t contain any values.</p>
<p>To address this issue, you might want to convert the generator to a list so that you can iterate through it multiple times. However, since you are using the TypedTableBlock from wagtail.contrib.typed_table_block, you might need to adjust how you access the rows.</p>
<p>Here is a modification that converts the generator to a list before using it:</p>
<p>django
Copy code</p>
<!-- raw HTML omitted -->
<pre><code>            &lt;!-- Debugging statements --&gt;
            &lt;p&gt;block.value.rows: {{ block.value.rows|list }}&lt;/p&gt;
            &lt;p&gt;block.value.rows.1: {{ block.value.rows|list.1|default:&quot;&quot; }}&lt;/p&gt;
            
            {% with block.value.rows|list.1|default:&quot;&quot; as row_values %}
                {{ row_values.0|default:&quot;&quot; }}
            {% endwith %}
        &lt;/th&gt;
    {% endfor %}
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<h2 id="wagtail-upgrade-process">WAGTAIL Upgrade process<a hidden class="anchor" aria-hidden="true" href="#wagtail-upgrade-process">#</a></h2>
<p>We recommend upgrading one feature release at a time, even if your project is several versions behind the current one. This has a number of advantages over skipping directly to the newest release:</p>
<p>If anything breaks as a result of the upgrade, you will know which version caused it, and will be able to troubleshoot accordingly;</p>
<p>Deprecation warnings shown in the console output will notify you of any code changes you need to make before upgrading to the following version;</p>
<p>Some releases make database schema changes that need to be reflected on your project by running ./manage.py makemigrations - this is liable to fail if too many schema changes happen in one go.</p>
<p>Before upgrading to a new feature release:</p>
<p>Check your project’s console output for any deprecation warnings, and fix them where necessary;</p>
<p>Check the new version’s release notes, and the Compatible Django / Python versions table below, for any dependencies that need upgrading first;</p>
<p>Make a backup of your database.</p>
<p>To upgrade:</p>
<p>Update the wagtail line in your project’s requirements.txt file to specify the latest patch release of the version you wish to install. For example, to upgrade to version 1.8.x, the line should read:
`wagtail&gt;=1.8,&lt;1.9
Run:</p>
<p>pip install -r requirements.txt
./manage.py makemigrations
./manage.py migrate`</p>
<p>Make any necessary code changes as directed in the “Upgrade considerations” section of the release notes.</p>
<p>Test that your project is working as expected.</p>
<p>Remember that the JavaScript and CSS files used in the Wagtail admin may have changed between releases - if you encounter erratic behaviour on upgrading, ensure that you have cleared your browser cache. When deploying the upgrade to a production server, be sure to run ./manage.py collectstatic to make the updated static files available to the web server. In production, we recommend enabling ManifestStaticFilesStorage in the STATICFILES_STORAGE setting - this ensures that different versions of files are assigned distinct URLs.</p>
<h3 id="wagtail-compatibility-with-django---linkhttpsdocswagtailorgenlatestreleasesupgradinghtml">WAGTAIL COMPATIBILITY WITH DJANGO - <a href="https://docs.wagtail.org/en/latest/releases/upgrading.html">link</a><a hidden class="anchor" aria-hidden="true" href="#wagtail-compatibility-with-django---linkhttpsdocswagtailorgenlatestreleasesupgradinghtml">#</a></h3>
<h1 id="python">PYTHON<a hidden class="anchor" aria-hidden="true" href="#python">#</a></h1>
<h2 id="spiegazione-attraverso-codice-di-__init__-__getattribute__-e-super">Spiegazione attraverso codice di <strong>init</strong>, <strong>getattribute</strong> e super<a hidden class="anchor" aria-hidden="true" href="#spiegazione-attraverso-codice-di-__init__-__getattribute__-e-super">#</a></h2>
<p>Spesso nei moduli di wagtail si fa riferimento alla classazione e subclassazione. Avere chiri alcuni termini è necessario. Questa è la breve sintesi attraverso un sempio</p>
<p><code>class Vehicle: def </code><strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)`
</code></pre>
<p>This is a simple class representing a vehicle with a brand.
It has an <strong>init</strong> method that initializes the brand attribute and a start method to print a message when the vehicle starts.
Car (inherits from Vehicle):</p>
<p>python
Copy code
class Car(Vehicle):
def <strong>init</strong>(self, brand, model):
# No use of super()
​        self.model = model</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} {self.model} car started.&quot;)
</code></pre>
<p>This class represents a specific type of vehicle, a Car, inheriting from the Vehicle class.
It has its own <strong>init</strong> method, but it doesn&rsquo;t use super(), and it has a start method that overrides the start method in the Vehicle class.
CarWithSuper (inherits from Car):</p>
<p>class CarWithSuper(Car):
def <strong>init</strong>(self, brand, model, color):
super().<strong>init</strong>(brand, model)
self.color = color</p>
<pre><code>def start(self):
    super().start()
    print(f&quot;The {self.color} car is ready to go.&quot;)

def __getattribute__(self, name):
    # Modifying __getattribute__ to add a prefix to the brand attribute
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__(name)
    else:
        return super().__getattribute__(name)
</code></pre>
<p>This class inherits from Car and introduces a new attribute color.
It uses super() in the <strong>init</strong> method to call the <strong>init</strong> method of the parent class (Car).
It overrides the start method, calls the parent&rsquo;s start method using super(), and adds an additional message.
It also modifies <strong>getattribute</strong> to add a prefix (&ldquo;Awesome&rdquo;) to the brand attribute.
Examples:
Example without super(), <strong>init</strong>, and <strong>getattribute</strong>:</p>
<p><code>car_without_super = Car(brand=&quot;Toyota&quot;, model=&quot;Camry&quot;) print(car_without_super.model)  # Output: Camry An instance of Car is created without using super(). __init__ in Car is called, but __init__ of the parent (Vehicle) is not called. start method from Vehicle is not available in car_without_super. Example with super(), __init__, and __getattribute__: car_with_super = CarWithSuper(brand=&quot;Ford&quot;, model=&quot;Mustang&quot;, color=&quot;red&quot;) print(car_with_super.brand)  # Output: Awesome Ford car_with_super.start()  # Output: Ford Mustang car started. The red car is ready to go.</code></p>
<p>An instance of CarWithSuper is created using super() to call <strong>init</strong> of the parent (Car).
<strong>getattribute</strong> is modified to add a prefix to the brand attribute.
start method calls the parent&rsquo;s (Car) start method using super() and adds an additional message.
Roles:</p>
<p><em><strong><strong>init</strong>:</strong></em>
Used for initializing the attributes of an object.
In the inheritance chain, it&rsquo;s common to use super().<strong>init</strong>(&hellip;) to call the initializer of the parent class.</p>
<p><em><strong><strong>getattribute</strong>:</strong></em> Called whenever an attribute of an object is accessed.
Can be modified to customize attribute access.
Used here to modify the behavior of accessing the brand attribute.</p>
<p><em><strong>super():</strong></em> Used to refer to the parent class.
In <strong>init</strong>, it&rsquo;s used to call the initializer of the parent class.
In methods, it&rsquo;s used to call methods from the parent class.
In the provided example, super() helps maintain the hierarchy in inheritance, ensuring that the methods of the parent classes are appropriately called. <strong>init</strong> is used for object initialization, and <strong>getattribute</strong> is modified to customize attribute access.</p>
<h3 id="vediamo-ora-cosa-succede-se-non-utilizziamo-i-metodi">Vediamo ora cosa succede se non utilizziamo i metodi<a hidden class="anchor" aria-hidden="true" href="#vediamo-ora-cosa-succede-se-non-utilizziamo-i-metodi">#</a></h3>
<h3 id="assenza-di-__init__">Assenza di <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#assenza-di-__init__">#</a></h3>
<p>If you don&rsquo;t use the <strong>init</strong> method in the Vehicle class, the class will still be valid, but instances of the class won&rsquo;t have a constructor to initialize their state. The <strong>init</strong> method is a special method in Python classes that is automatically called when an object is created. It is used for initializing the attributes of the object.</p>
<p>Here&rsquo;s what happens when you don&rsquo;t include <strong>init</strong>:</p>
<p>python
Copy code
class Vehicle:
def start(self):
print(&ldquo;Vehicle started.&rdquo;)</p>
<h3 id="creating-an-instance-without-__init__">Creating an instance without <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-without-__init__">#</a></h3>
<p>vehicle_instance = Vehicle()</p>
<h3 id="this-will-not-raise-an-error-but-the-instance-wont-have-a-brand-attribute">This will not raise an error, but the instance won&rsquo;t have a &lsquo;brand&rsquo; attribute.<a hidden class="anchor" aria-hidden="true" href="#this-will-not-raise-an-error-but-the-instance-wont-have-a-brand-attribute">#</a></h3>
<h3 id="if-you-try-to-access-brand-it-will-result-in-an-attributeerror">If you try to access &lsquo;brand&rsquo;, it will result in an AttributeError.<a hidden class="anchor" aria-hidden="true" href="#if-you-try-to-access-brand-it-will-result-in-an-attributeerror">#</a></h3>
<p>print(vehicle_instance.start())  # Output: Vehicle started.
print(vehicle_instance.brand)  # AttributeError: &lsquo;Vehicle&rsquo; object has no attribute &lsquo;brand&rsquo;
In the example above, creating an instance of Vehicle without an <strong>init</strong> method is allowed. However, without an <strong>init</strong> method, instances won&rsquo;t have any attributes initialized during instantiation. If you try to access an attribute that hasn&rsquo;t been defined, you will get an AttributeError.</p>
<p>Including the <strong>init</strong> method allows you to initialize the state of an object when it is created. For example:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<h3 id="creating-an-instance-with-__init__">Creating an instance with <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-with-__init__">#</a></h3>
<p>vehicle_instance = Vehicle(brand=&ldquo;Toyota&rdquo;)</p>
<p><code>Now, the 'brand' attribute is initialized during instantiation.</code>
print(vehicle_instance.start())  # Output: Toyota vehicle started.
print(vehicle_instance.brand)  # Output: Toyota
In the second example, the <strong>init</strong> method is used to initialize the brand attribute when a Vehicle instance is created. This ensures that the instance has a properly initialized state from the beginning.</p>
<h2 id="ed-ora-quando-posso-usare-e-non-usare-__getattribute__">Ed ora quando posso usare e non usare <strong>getattribute</strong>?<a hidden class="anchor" aria-hidden="true" href="#ed-ora-quando-posso-usare-e-non-usare-__getattribute__">#</a></h2>
<p>If you don&rsquo;t define the <strong>getattribute</strong> method in a class, Python will use the default behavior for attribute access. The default behavior involves looking up the attribute in the object&rsquo;s dictionary and returning its value if found. If the attribute is not found in the object&rsquo;s dictionary, Python looks for the attribute in the class hierarchy.</p>
<p>Here&rsquo;s what happens if you don&rsquo;t use <strong>getattribute</strong>:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<h2 id="creating-an-instance-without-__getattribute__">Creating an instance without <strong>getattribute</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-without-__getattribute__">#</a></h2>
<p>vehicle_instance = Vehicle(brand=&ldquo;Toyota&rdquo;)</p>
<h3 id="accessing-the-brand-attribute-without-a-custom-__getattribute__">Accessing the &lsquo;brand&rsquo; attribute without a custom <strong>getattribute</strong><a hidden class="anchor" aria-hidden="true" href="#accessing-the-brand-attribute-without-a-custom-__getattribute__">#</a></h3>
<p>print(vehicle_instance.brand)  # Output: Toyota</p>
<h3 id="the-default-behavior-is-used-and-there-is-no-need-for-a-custom-__getattribute__-in-this-case">The default behavior is used, and there is no need for a custom <strong>getattribute</strong> in this case.<a hidden class="anchor" aria-hidden="true" href="#the-default-behavior-is-used-and-there-is-no-need-for-a-custom-__getattribute__-in-this-case">#</a></h3>
<p>In the example above, we create a Vehicle class with an <strong>init</strong> method to initialize the brand attribute. When we access the brand attribute, the default attribute access behavior is used, and there is no need for a custom <strong>getattribute</strong>. The attribute is found in the instance&rsquo;s dictionary, and its value is returned.</p>
<p>The <strong>getattribute</strong> method is a powerful tool for customizing attribute access, and it allows you to intercept attribute access calls and customize the behavior. However, in many cases, you may not need to override it, and the default behavior is sufficient for basic attribute access. Only when you need to customize the attribute access behavior should you consider defining a <strong>getattribute</strong> method.</p>
<p>In the example provided, the <strong>getattribute</strong> method is used to customize the behavior of accessing the brand attribute in the CarWithSuper class. Specifically, it adds a prefix (&ldquo;Awesome&rdquo;) to the value of the brand attribute before returning it.</p>
<p>Here&rsquo;s the relevant part of the code:</p>
<p>python
Copy code
class CarWithSuper(Car):
# &hellip;</p>
<pre><code>def __getattribute__(self, name):
    # Modifying __getattribute__ to add a prefix to the brand attribute
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__(name)
    else:
        return super().__getattribute__(name)
</code></pre>
<p>In this case, the <strong>getattribute</strong> method is modifying the behavior of accessing the brand attribute. Without this customization, accessing car_with_super.brand would simply return the value of the brand attribute. With the custom <strong>getattribute</strong>, it returns the value with the added prefix.</p>
<p>So, you might need to use <strong>getattribute</strong> when you want to customize or intercept attribute access calls and modify the behavior based on your specific requirements. It&rsquo;s a powerful tool, but it should be used judiciously, as unnecessary or incorrect use may lead to unexpected behavior and potential issues.</p>
<h2 id="mixin">MIXIN<a hidden class="anchor" aria-hidden="true" href="#mixin">#</a></h2>
<p>L&rsquo;esempio esposto e che di seguito si ripropone risulta anche un ottimo esempio di mixin</p>
<p>Yes, the provided example with Vehicle, Car, and CarWithSuper can be considered an example of mixin-like behavior. Let me break it down:</p>
<p>Vehicle Class:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<p>This is the base class representing a generic vehicle. It has an <strong>init</strong> method to initialize the brand attribute and a start method.</p>
<p>Car Class (Inherits from Vehicle):</p>
<p>python
Copy code
class Car(Vehicle):
def <strong>init</strong>(self, brand, model):
super().<strong>init</strong>(brand)
self.model = model</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} {self.model} car started.&quot;)
</code></pre>
<p>The Car class inherits from Vehicle. It has its own <strong>init</strong> method but uses super() to call the <strong>init</strong> method of the parent class (Vehicle). It also has its own start method, overriding the start method of Vehicle.</p>
<p>CarWithSuper Class (Inherits from Car):</p>
<p>python
Copy code
class CarWithSuper(Car):
def <strong>init</strong>(self, brand, model, color):
super().<strong>init</strong>(brand, model)
self.color = color</p>
<pre><code>def start(self):
    super().start()
    print(f&quot;The {self.color} car is ready to go.&quot;)

def __getattribute__(self, name):
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__('brand')
    else:
        return super().__getattribute__(name)
</code></pre>
<p>The CarWithSuper class inherits from Car and introduces a new attribute (color). It uses super() to call the <strong>init</strong> method of the parent class (Car). It also overrides the start method, calling the parent&rsquo;s (Car) start method using super() and adding an additional message. Additionally, it modifies <strong>getattribute</strong> to add a prefix (&ldquo;Awesome&rdquo;) to the brand attribute.</p>
<p>So, in this example, the classes are organized in a way that exhibits mixin-like behavior. The CarWithSuper class enhances the behavior of the Car class by adding attributes and modifying methods, and it uses super() to maintain the hierarchy and call methods from parent classes. While it may not strictly adhere to the classic definition of a mixin, it shares some characteristics of mixin-like behavior.</p>
<h3 id="definizione-di-mixin">Definizione di mixin<a hidden class="anchor" aria-hidden="true" href="#definizione-di-mixin">#</a></h3>
<p>In object-oriented programming, a mixin is a class that provides a certain functionality to be inherited by a subclass, but is not meant to stand alone. Mixins are used to enhance the functionality of a class without the need for multiple inheritance.</p>
<p>Here are some key characteristics and features of mixins:</p>
<p>Purpose-Specific Functionality: Mixins are designed to provide a specific set of functionalities or behaviors that can be easily added to other classes. They encapsulate a piece of behavior.</p>
<p>Reusability: Mixins promote code reuse. Instead of duplicating code in multiple classes, you can create a mixin and include it in various classes that need that particular behavior.</p>
<p>No Standalone Use: Mixins are not meant to be instantiated or used independently. They lack the complete implementation to be used as standalone classes. They are intended to be combined with other classes.</p>
<p>Flexible Composition: Since a class can inherit from multiple mixins, it allows for flexible composition of functionalities. This is in contrast to languages that do not support multiple inheritance directly.</p>
<p>Avoids Diamond Problem: Mixins can help avoid the &ldquo;diamond problem&rdquo; that arises in languages with multiple inheritance, where a class inherits from two classes that have a common ancestor.</p>
<p>Small and Focused: Mixins are typically small and focused on a specific task. This makes them easy to understand, maintain, and reuse.</p>
<h2 id="the-subprocess-module-wrapping-programs-with-python">THE subprocess Module: Wrapping Programs With Python<a hidden class="anchor" aria-hidden="true" href="#the-subprocess-module-wrapping-programs-with-python">#</a></h2>
<p>If you’ve ever wanted to simplify your command-line scripting or use Python alongside command-line applications—or any applications for that matter—then the Python <code>subprocess</code> module can help. From running shell commands and command-line applications to launching applications, the Python <code>subprocess</code> module can help.</p>
<h3 id="processes-and-subprocesses">Processes and Subprocesses<a hidden class="anchor" aria-hidden="true" href="#processes-and-subprocesses">#</a></h3>
<p>First off, you might be wondering why there’s a  <code>sub</code>  in the Python  <code>subprocess</code>  module name. And what exactly is a process, anyway?
Whenever you use a computer, you’ll always be interacting with programs. A  <strong>process</strong>  is the operating system’s abstraction of a running program. So, using a computer always involve processes. Start menus, app bars, command-line interpreters, text editors, browsers, and more—every application comprises one or more processes.</p>
<p>A typical operating system will report hundreds or even thousands of running processes. However, central  <em>processing</em>  units (CPUs) typically only have a handful of cores, which means that they can only run a handful of instructions simultaneously. So, you may wonder how thousands of processes can appear to run at the same time.</p>
<p>In short, the operating system is a marvelous multitasker—as it has to be. The CPU is the brain of a computer, but it operates at the  timescale. Most other components of a computer are far slower than the CPU. For instance, a magnetic hard disk read takes thousands of times longer than a typical CPU operation.</p>
<p>If a process needs to write something to the hard drive, or wait for a response from a remote server, then the CPU would sit idle  <em>most of the time</em>. Multitasking keeps the CPU busy.</p>
<p>Part of what makes the operating system so great at multitasking is that it’s fantastically organized too. The operating system keeps track of processes in a process table or  <a href="https://en.wikipedia.org/wiki/Process_control_block">process control block</a>. In this table, you’ll find the process’s  <a href="https://realpython.com/why-close-file-python/#in-short-files-are-resources-limited-by-the-operating-system">file handles</a>, security context, references to its  <a href="https://en.wikipedia.org/wiki/Address_space">address spaces</a>, and more.</p>
<p>The process table allows the operating system to abandon a particular process at will, because it has all the information it needs to come back and continue with the process at a later time. A process may be interrupted many thousands of times during execution, but the operating system always finds the exact point where it left off upon returning.</p>
<p>An operating system doesn’t boot up with thousands of processes, though. Many of the processes you’re familiar with are started by you. In the next section, you’ll look into the lifetime of a process.</p>
<h3 id="process-lifetime">Process Lifetime<a hidden class="anchor" aria-hidden="true" href="#process-lifetime">#</a></h3>
<p>Think of how you might start a Python application from the command line. This is an instance of your command-line  <em>process</em>  starting a Python  <em>process</em>:</p>
<p><a href="https://files.realpython.com/media/Peek_2022-05-06_11-31.b24eb35f6ed0.gif"><img loading="lazy" src="https://files.realpython.com/media/Peek_2022-05-06_11-31.b24eb35f6ed0.gif" alt="Animation of basic process creation"  />
</a></p>
<p>The process that starts another process is referred to as the  <strong>parent</strong>, and the new process is referred to as the  <strong>child</strong>. The parent and child processes run mostly independently. Sometimes the child inherits specific resources or contexts from the parentand nformation about processes is kept in a table. Each process keeps track of its parents, which allows the process hierarchy to be represented as a tree.</p>
<h3 id="process-creation-mechanism-on-unix-based-systems">Process Creation Mechanism on Unix-based Systems<a hidden class="anchor" aria-hidden="true" href="#process-creation-mechanism-on-unix-based-systems">#</a></h3>
<p>Here&rsquo;s a breakdown of the process creation mechanism on Unix-based systems, focusing on the key concepts and functionalities:</p>
<p><strong>1. fork() System Call:</strong></p>
<ul>
<li>The foundation of process creation in Unix systems is the <code>fork()</code> system call.</li>
<li>When a process calls <code>fork()</code>, the kernel creates a <strong>copy</strong> of the calling process. This copy is called the <strong>child process</strong>, while the original process becomes the <strong>parent process</strong>.</li>
<li>Both parent and child processes share the same memory space initially. This might seem inefficient, but it allows for quick process creation and efficient memory sharing when needed.</li>
</ul>
<p><strong>2. Process Identifier (PID):</strong></p>
<ul>
<li>The kernel assigns a unique identifier, called a <strong>Process Identifier (PID)</strong>, to each process. This PID helps the system differentiate between processes and manage their resources.</li>
<li>After the <code>fork()</code> call, both the parent and child process receive the PID of the child process as the return value. However, they can distinguish their own identity using functions like <code>getpid()</code>.</li>
</ul>
<p><strong>3. The Exec Family of Functions:</strong></p>
<ul>
<li>Once a child process is created with <code>fork()</code>, it typically doesn&rsquo;t continue executing the original program&rsquo;s code.</li>
<li>The child process usually replaces its code and data space with a new program using functions like <code>execve()</code>, <code>execvp()</code>, or others from the <code>exec</code> family.</li>
<li>These functions take the path to the executable file and optional arguments as input.</li>
<li>By replacing its code with the new program, the child process essentially starts executing a completely different program.</li>
</ul>
<p><strong>4. Memory Management:</strong></p>
<ul>
<li>After <code>fork()</code>, the parent and child processes share the same memory space. However, any changes made by one process are not reflected immediately in the other&rsquo;s memory.</li>
<li>When either process modifies memory, a technique called <strong>copy-on-write</strong> is employed. The kernel creates a copy of the modified memory page for the modifying process, allowing them to have independent memory regions for further changes.</li>
</ul>
<p><strong>5. Resource Inheritance:</strong></p>
<ul>
<li>The child process inherits most resources from the parent process, including file descriptors, open files, signal handlers (with some exceptions), and environment variables. This inheritance simplifies program execution as the child process inherits a ready-made environment.</li>
</ul>
<p><strong>Overall Flow:</strong></p>
<ol>
<li>Parent process calls <code>fork()</code>.</li>
<li>Kernel creates a copy of the parent process (child process).</li>
<li>Both parent and child receive the child&rsquo;s PID.</li>
<li>Child process usually replaces its code with a new program using <code>exec</code> functions.</li>
<li>Memory management employs copy-on-write to maintain independent memory spaces for parent and child.</li>
<li>Child process inherits most resources from the parent.</li>
</ol>
<p><strong>Additional Notes:</strong></p>
<ul>
<li>This explanation provides a basic overview. There are additional details and complexities involved in process creation, like process states, scheduling, and signals.</li>
<li>The <code>wait()</code> system call allows the parent process to wait for the child process to finish execution.</li>
<li>Inter-process communication (IPC) mechanisms enable processes to communicate and share data after creation.</li>
</ul>
<p>This knowledge should provide a solid foundation for understanding process creation on Unix-based systems. You can explore further details in resources like the Unix man pages for <code>fork()</code>, <code>exec</code>, and related functions.</p>
<h3 id="interaction-with-fork-with-user--application-oshardware">Interaction with fork() with user / application /OS/Hardware<a hidden class="anchor" aria-hidden="true" href="#interaction-with-fork-with-user--application-oshardware">#</a></h3>
<p><img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Operating_system_placement.svg/165px-Operating_system_placement.svg.png" alt=""  />

<code>fork</code> system call interacts with these components on a Unix-based system:</p>
<p><strong>1. User Initiates Action:</strong></p>
<ul>
<li>The process starts with a user initiating an action. This could involve launching an application or performing some task within an existing application.</li>
</ul>
<p><strong>2. Application Requests New Process (Optional):</strong></p>
<ul>
<li>The application itself might not directly call <code>fork</code>. However, in some cases, an application might request the creation of a new process to handle a specific subtask within the application. This would involve the application making a system call (not directly <code>fork</code> itself) to the operating system to create a new process.</li>
</ul>
<p><strong>3. Operating System Kernel and fork():</strong></p>
<ul>
<li>The core interaction happens at the operating system kernel level. When <code>fork()</code> is called (either by the application or the kernel itself for some reason), the kernel creates a copy of the existing process. This copied process is called the child process, and the original process becomes the parent process.</li>
</ul>
<p><strong>4. Memory and Resource Management:</strong></p>
<ul>
<li>The kernel needs to manage resources for both the parent and child processes. This includes memory, CPU time, and access to devices.</li>
<li>Initially, both parent and child processes share the same memory space. However, a technique called copy-on-write (COW) is often used to optimize memory usage. With COW, memory pages are only copied when either process tries to modify them.</li>
</ul>
<p><strong>5. Hardware and Process Execution:</strong></p>
<ul>
<li>The hardware itself (CPU, memory, devices) doesn&rsquo;t directly understand <code>fork</code>. It operates based on instructions provided by the kernel.</li>
<li>The kernel manages the context switching between the parent and child processes, ensuring each gets a slice of CPU time to execute instructions.</li>
</ul>
<p><strong>Overall Interaction Summary:</strong></p>
<p>The <code>fork</code> system call primarily interacts with the operating system kernel. It triggers the creation of a new process and the kernel manages the resource allocation (including memory) for both parent and child processes. The hardware executes instructions provided by the kernel for both processes, and the kernel employs context switching to ensure efficient CPU utilization.</p>
<p><strong>Important Note:</strong></p>
<p>The diagram you sent depicts a high-level view of system components. The <code>fork</code> system call and process creation happen within the operating system kernel, which is not explicitly shown in the diagram.</p>
<h3 id="flow-representing-the-fork-system-call-at-the-kernel-level-on-unix-based-systems">Flow representing the <code>fork</code> system call at the kernel level on Unix-based systems:<a hidden class="anchor" aria-hidden="true" href="#flow-representing-the-fork-system-call-at-the-kernel-level-on-unix-based-systems">#</a></h3>
<p><strong>Components:</strong></p>
<ol>
<li><strong>Parent Process:</strong> This represents the existing process before calling <code>fork</code>. It has its own memory space, registers, and program counter (PC) holding the current instruction.</li>
<li><strong>Kernel (Fork System Call):</strong> This symbolizes the core of the operating system responsible for handling <code>fork</code>.</li>
<li><strong>Process Descriptor Table (PDT):</strong> This table maintains information about all processes in the system, including the parent process.</li>
<li><strong>Memory Management Unit (MMU):</strong> This hardware component translates virtual addresses used by processes to physical memory addresses.</li>
<li><strong>Memory (Code, Data, Stack):</strong> This represents the memory space containing the program code, data, and stack of the parent process.</li>
</ol>
<p><strong>Process of <code>fork</code>:</strong></p>
<ol>
<li><strong><code>fork</code> System Call:</strong> The parent process initiates the <code>fork</code> system call through a system call interface.</li>
<li><strong>Kernel Creates Child Process Descriptor:</strong> The kernel allocates a new entry in the Process Descriptor Table (PDT) for the child process. This entry will hold information about the child process, including its state and resources.</li>
<li><strong>Memory Space Copying (Logical):</strong> The kernel doesn&rsquo;t physically copy the entire memory space of the parent process initially. Instead, it creates a copy of the memory mappings for the child process in the MMU. Both parent and child processes share the same physical memory pages until one of them tries to modify the data.</li>
<li><strong>Registers and Program Counter Copying:</strong> The kernel copies the values of all CPU registers from the parent process to the child process. This ensures the child process starts execution at the same instruction point as the parent process when it called <code>fork</code>.</li>
<li><strong>New File Descriptors and Resources:</strong> The kernel allocates new file descriptors and other resources (like open network connections) for the child process. These resources might be shared or duplicated depending on the specific resource type.</li>
</ol>
<p><strong>Post-<code>fork</code> State:</strong></p>
<ul>
<li>The parent and child processes now exist as independent entities with their own process descriptors, memory mappings, and registers.</li>
<li>They share the same physical memory pages initially (through copy-on-write), but any modifications by either process will trigger a copy of the modified page for that specific process.</li>
<li>Both processes are typically in a &ldquo;ready&rdquo; state, waiting to be scheduled for CPU execution by the kernel.</li>
</ul>
<p><strong>Additional Notes:</strong></p>
<ul>
<li>This is a simplified diagram, and the actual implementation of <code>fork</code> can vary depending on the specific operating system.</li>
<li>The diagram doesn&rsquo;t show the hardware itself (CPU, memory) but represents the interaction through the MMU.</li>
<li>Context switching between parent and child processes is managed by the kernel after <code>fork</code>.</li>
</ul>
<p>I hope this visual representation provides a clearer understanding of how <code>fork</code> works at the kernel level. Feel free to ask if you have any further questions about specific details in the diagram.</p>
<p>The parent-child relationship between a process and its subprocess isn’t always the same. Sometimes the two processes will share specific resources, like inputs and outputs, but sometimes they won’t. Sometimes child processes live longer than the parent. A child outliving the parent can lead to  <a href="https://en.wikipedia.org/wiki/Orphan_process">orphaned</a>  or  <a href="https://en.wikipedia.org/wiki/Zombie_process">zombie</a>  processes, though more discussion about those is outside the scope of this tutorial.</p>
<p>When a process has finished running, it’ll usually end. Every process, on exit, should return an integer. This integer is referred to as the  <strong>return code</strong>  or  <a href="https://en.wikipedia.org/wiki/Exit_status">exit status</a>. Zero is synonymous with success, while any other value is considered a failure. Different integers can be used to indicate the reason why a process has failed.</p>
<p>In the same way that you can return a value from a function in Python, the operating system expects an integer return value from a process once it exits. This is why the canonical  <a href="https://en.wikipedia.org/wiki/C_(programming_language)">C</a>  <code>main()</code>  function usually returns an integer:</p>
<pre><code>C

`// minimal_program.c

int  main(){
  return  0;
}` 
</code></pre>
<p>This example shows a minimal amount of C code necessary for the file to compile with  <a href="https://gcc.gnu.org/"><code>gcc</code></a>  without any warnings. It has a  <code>main()</code>  function that returns an integer. When this program runs, the operating system will interpret its execution as successful since it returns zero.</p>
<h3 id="active-processes-on-your-systemhttpsrealpythoncompython-subprocessactive-processes-on-your-system-permanent-link">Active Processes on Your System<a href="https://realpython.com/python-subprocess/#active-processes-on-your-system" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#active-processes-on-your-systemhttpsrealpythoncompython-subprocessactive-processes-on-your-system-permanent-link">#</a></h3>
<p>You may be curious to see what processes are running on your system right now. To do that, you can use platform-specific utilities to track them:</p>
<ul>
<li><a href="https://realpython.com/python-subprocess/#windows-1">Windows</a></li>
<li><a href="https://realpython.com/python-subprocess/#linux-macos-1">Linux + macOS</a></li>
</ul>
<p>For UNIX-based systems, there are many command-line utilities to choose from:</p>
<ul>
<li><a href="https://man7.org/linux/man-pages/man1/top.1.html"><code>top</code></a>: The classic process and resource monitor, often installed by default. Once it’s running, to see the tree view, also called the forest view, press  Shift+V. The forest view may not work on the default macOS  <code>top</code>.</li>
<li><a href="https://htop.dev/"><code>htop</code></a>: More advanced and user-friendly version of  <code>top</code>.</li>
<li><a href="https://man7.org/linux/man-pages/man1/pcp-atop.1.html"><code>atop</code></a>: Another version of  <code>top</code>  with more information, but more technical.</li>
<li><a href="https://pypi.org/project/bpytop/"><code>bpytop</code></a>: A Python implementation of  <code>top</code>  with nice visuals.</li>
<li><a href="https://en.wikipedia.org/wiki/Pstree"><code>pstree</code></a>: A utility specifically to explore the process tree.</li>
</ul>
<p>On macOS, you also have the  <a href="https://support.apple.com/guide/activity-monitor/welcome/mac">Activity Monitor</a>  application in your utilities. In the View menu, if you select  <em>All Processes, Hierarchically</em>, you should be able to see your process tree.</p>
<p>You can also explore the Python  <a href="https://github.com/giampaolo/psutil">psutil</a>  library, which allows you to retrieve running process information on both Windows and UNIX-based systems.</p>
<p>One universal attribute of process tracking across systems is that each process has a  <strong>process identification number</strong>, or  <strong>PID</strong>, which is a unique integer to identify the process within the context of the operating system. You’ll see this number on most of the utilities listed above.</p>
<p>Along with the PID, it’s typical to see the resource usage, such as  <a href="https://en.wikipedia.org/wiki/Central_processing_unit">CPU</a>  percentage and amount of  <a href="https://en.wikipedia.org/wiki/Random-access_memory">RAM</a>  that a particular process is using. This is the information that you look for if a program is hogging all your resources.</p>
<p>The resource utilization of processes can be useful for developing or debugging scripts that use the  <code>subprocess</code>  module, even though you don’t need the PID, or any information about what resources processes are using in the code itself. While playing with the examples that are coming up, consider leaving a representation of the process tree open to see the new processes pop up.</p>
<p>You now have a bird’s-eye view of processes. You’ll deepen your mental model throughout the tutorial, but now it’s time to see how to start your own processes with the Python  <code>subprocess</code>  module.</p>
<h2 id="overview-of-the-python--subprocess--module">Overview of the Python  <code>subprocess</code>  Module<a hidden class="anchor" aria-hidden="true" href="#overview-of-the-python--subprocess--module">#</a></h2>
<p>The Python  <code>subprocess</code>  module is for launching child processes. These processes can be anything from GUI applications to the shell. The parent-child relationship of processes is where the  <strong>sub</strong>  in the  <code>subprocess</code>  name comes from. When you use  <code>subprocess</code>, Python is the parent that creates a new child process. What that new child process is, is up to you.</p>
<p>Python  <code>subprocess</code>  was  <a href="https://peps.python.org/pep-0324/">originally proposed and accepted</a>  for Python 2.4 as an alternative to using the  <a href="https://docs.python.org/3/library/os.html"><code>os</code>  module</a>. Some documented changes have happened as late as 3.8. The examples in this article were tested with Python 3.10.4, but you only need 3.8+ to follow along with this tutorial.</p>
<p>Most of your interaction with the Python  <code>subprocess</code>  module will be via the  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.run"><code>run()</code></a>  function. This  <a href="https://en.wikipedia.org/wiki/Blocking_(computing)">blocking</a>  function will start a process and  <em>wait</em>  until the new process exits before moving on.</p>
<p>The  <a href="https://docs.python.org/3/library/subprocess.html#using-the-subprocess-module">documentation</a>  recommends using  <code>run()</code>  for all cases that it can handle. For edge cases where you need more control, the  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen"><code>Popen</code></a>  class can be used.  <code>Popen</code>  is the underlying class for the whole  <code>subprocess</code>  module. All functions in the  <code>subprocess</code>  module are convenience wrappers around the  <code>Popen()</code>  constructor and its instance methods. Near the end of this tutorial, you’ll  <a href="https://realpython.com/python-subprocess/#the-popen-class">dive into</a>  the  <code>Popen</code>  class.
You may come across other functions like  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.call"><code>call()</code></a>,  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_call"><code>check_call()</code></a>, and  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.check_output"><code>check_output()</code></a>, but these belong to the older  <code>subprocess</code>  <a href="https://en.wikipedia.org/wiki/API">API</a>  from Python 3.5 and earlier. Everything these three functions do can be replicated with the newer  <code>run()</code>  function. The older API is mainly still there for backwards compatibility, and you won’t cover it in this tutorial.</p>
<p>There’s also a fair amount of redundancy in the  <code>subprocess</code>  module, meaning that there are various ways to achieve the same end goal. You won’t be exploring all variations in this tutorial. What you will find, though, are robust techniques that should keep you on the right path.</p>
<h2 id="basic-usage-of-the-python--subprocess--module">Basic Usage of the Python  <code>subprocess</code>  Module<a hidden class="anchor" aria-hidden="true" href="#basic-usage-of-the-python--subprocess--module">#</a></h2>
<p>In this section, you’ll take a look at some of the most basic examples demonstrating the usage of the  <code>subprocess</code>  module. You’ll start by exploring a bare-bones command-line timer program with the  <code>run()</code>  function.</p>
<h2 id="basic-usage-of-the-python--subprocess">Basic Usage of the Python  <code>subprocess</code><a hidden class="anchor" aria-hidden="true" href="#basic-usage-of-the-python--subprocess">#</a></h2>
<p>In this section, you’ll take a look at some of the most basic examples demonstrating the usage of the  <code>subprocess</code>  module. You’ll start by exploring a bare-bones command-line timer program with the  <code>run()</code>  function.</p>
<h3 id="the-timer-example">The Timer Example<a hidden class="anchor" aria-hidden="true" href="#the-timer-example">#</a></h3>
<p>To come to grips with the Python  <code>subprocess</code>  module, you’ll want a bare-bones program to run and experiment with. For this, you’ll use a program written in Python:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span>  argparse  <span style="color:#f92672">import</span>  ArgumentParser
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span>  time  <span style="color:#f92672">import</span>  sleep
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>parser  <span style="color:#f92672">=</span>  ArgumentParser()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>parser<span style="color:#f92672">.</span>add_argument(<span style="color:#e6db74">&#34;duration&#34;</span>, type<span style="color:#f92672">=</span>int) <span style="color:#75715e"># Changed argument name to &#34;duration&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>args  <span style="color:#f92672">=</span>  parser<span style="color:#f92672">.</span>parse_args()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Starting timer of </span><span style="color:#e6db74">{</span>args<span style="color:#f92672">.</span>duration<span style="color:#e6db74">}</span><span style="color:#e6db74"> seconds&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>  _  <span style="color:#f92672">in</span>  range(args<span style="color:#f92672">.</span>duration):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;**&#34;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>, flush<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sleep(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Bravo Mauuro!&#34;</span>) <span style="color:#960050;background-color:#1e0010">```</span>
</span></span></code></pre></div><p>enter code hereThe timer program uses  to accept an integer as an argument. The integer represents the number of seconds that the timer should wait until exiting, which the program uses  <a href="https://realpython.com/python-sleep/"><code>sleep()</code></a>  to achieve. It’ll play a small animation representing each passing second until it exits:</p>
<p>It’s not much, but the key is that it serves as a cross-platform process that runs for a few seconds and which you can easily tinker with. You’ll be calling it with  <code>subprocess</code>  as if it were a separate executable.</p>
<p>Each item in the sequence represents a  <a href="https://en.wikipedia.org/wiki/Lexical_analysis#Token">token</a>  which is used for a system call to start a new process.</p>
<h3 id="the-use-of--subprocess--to-run-any-apphttpsrealpythoncompython-subprocessthe-use-of-subprocess-to-run-any-app-permanent-link">The Use of  <code>subprocess</code>  to Run Any App<a href="https://realpython.com/python-subprocess/#the-use-of-subprocess-to-run-any-app" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the-use-of--subprocess--to-run-any-apphttpsrealpythoncompython-subprocessthe-use-of-subprocess-to-run-any-app-permanent-link">#</a></h3>
<p>With  <code>subprocess</code>, you aren’t limited to text-based applications like the shell. You can call any application that you can with the Start menu or app bar, as long as you know the precise name or path of the program that you want to run:</p>
<p>Python</p>
<p><code>&gt;&gt;&gt; subprocess.run([&quot;gedit&quot;]) CompletedProcess(args=['gedit'], returncode=0)</code></p>
<p>Depending on your Linux distribution, you may have a different text editor, such as  <code>kate</code>,  <code>leafpad</code>,  <code>kwrite</code>, or  <code>enki</code>.</p>
<p>These commands should open up a text editor window. Usually  <code>CompletedProcess</code>  won’t get returned until you close the editor window. Yet in the case of macOS, since you need to run the launcher process  <a href="https://ss64.com/osx/open.html"><code>open</code></a>  to launch  <a href="https://support.apple.com/guide/textedit/welcome/mac">TextEdit</a>, the  <code>CompletedProcess</code>  gets returned straight away.</p>
<p>Launcher processes are in charge of launching a specific process and then ending. Sometimes programs, such as web browsers, have them built in. The mechanics of launcher processes is out of the scope of this tutorial, but suffice to say that they’re able to manipulate the operating system’s process tree to reassign parent-child relationships.</p>
<p><strong>Note:</strong>  There are many problems that you might initially reach for  <code>subprocess</code>  to solve, but then you’ll find a specific module or library that solves it for you. This tends to be a theme with  <code>subprocess</code>  since it is quite a low-level utility.</p>
<p>An example of something that you might want to do with  <code>subprocess</code>  is to open a web browser to a specific page. However, for that, it’s probably best to use the Python module  <a href="https://docs.python.org/3/library/webbrowser.html"><code>webbrowser</code></a>. The  <code>webbrowser</code>  module uses  <code>subprocess</code>  <a href="https://github.com/python/cpython/blob/3.10/Lib/webbrowser.py#L9">under the hood</a>  but handles all the finicky cross-platform and browser differences that you might encounter.</p>
<p>Then again,  <code>subprocess</code>  can be a remarkably useful tool to get something done quickly. If you don’t need a full-fledged library, then  <code>subprocess</code>  can be your  <a href="https://en.wikipedia.org/wiki/Swiss_Army_knife">Swiss Army knife</a>. It all depends on your use case. More discussion on this topic will come  <a href="https://realpython.com/python-subprocess/#use-cases-for-the-shell-and-subprocess">later</a>.</p>
<p>You’ve successfully started new processes using Python! That’s  <code>subprocess</code>  at its most basic. Next up, you’ll take a closer look at the  <code>CompletedProcess</code>  object that’s returned from  <code>run()</code>.</p>
<h3 id="the--completedprocess--objecthttpsrealpythoncompython-subprocessthe-completedprocess-object-permanent-link">The  <code>CompletedProcess</code>  Object<a href="https://realpython.com/python-subprocess/#the-completedprocess-object" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the--completedprocess--objecthttpsrealpythoncompython-subprocessthe-completedprocess-object-permanent-link">#</a></h3>
<p>When you use  <code>run()</code>, the return value is an instance of the  <code>CompletedProcess</code>  class. As the name suggests,  <code>run()</code>  returns the object only once the child process has ended. It has various attributes that can be helpful, such as the  <code>args</code>  that were used for the process and the  <code>returncode</code>.</p>
<p>To see this clearly, you can assign the result of  <code>run()</code>  to a variable, and then access its attributes such as  <code>.returncode</code>:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>completed_process = subprocess.run([&ldquo;python&rdquo;, &ldquo;timer.py&rdquo;])
usage: timer.py [-h] time
timer.py: error: the following arguments are required: time</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>completed_process.returncode
2`</p>
</blockquote>
</blockquote>
</blockquote>
<p>The process has a return code that indicates failure, but it  <strong>doesn’t raise an  <a href="https://realpython.com/python-exceptions/">exception</a></strong>. Typically, when a  <code>subprocess</code>  process fails, you’ll always want an exception to be raised, which you can do by passing in a  <code>check=True</code>  argument:</p>
<p>Python</p>
<p><code>&gt;&gt;&gt; completed_process = subprocess.run( ...     [&quot;python&quot;, &quot;timer.py&quot;], ...     check=True ... ) ... usage: timer.py [-h] time timer.py: error: the following arguments are required: time Traceback (most recent call last): ... subprocess.CalledProcessError: Command '['python', 'timer.py']' returned non-zero exit status 2.</code></p>
<p>There are various ways to deal with failures, some of which will be covered in the next section. The important point to note for now is that  <code>run()</code>  won’t necessarily raise an exception if the process fails unless you’ve passed in a  <code>check=True</code>  argument.</p>
<p>The  <code>CompletedProcess</code>  also has a few attributes relating to  <a href="https://en.wikipedia.org/wiki/Input/output">input/output (I/O)</a>, which you’ll cover in more detail in the  <a href="https://realpython.com/python-subprocess/#communication-with-processes">communicating with processes</a>  section. Before communicating with processes, though, you’ll learn how to handle errors when coding with  <code>subprocess</code>.</p>
<h2 id="subprocess--exceptionshttpsrealpythoncompython-subprocesssubprocess-exceptions-permanent-link"><code>subprocess</code>  Exceptions<a href="https://realpython.com/python-subprocess/#subprocess-exceptions" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#subprocess--exceptionshttpsrealpythoncompython-subprocesssubprocess-exceptions-permanent-link">#</a></h2>
<p>As you saw earlier, even if a process exits with a return code that represents failure, Python won’t raise an exception. For most use cases of the  <code>subprocess</code>  module, this isn’t ideal. If a process fails, you’ll usually want to handle it somehow, not just carry on.</p>
<p>A lot of  <code>subprocess</code>  use cases involve short personal scripts that you might not spend much time on, or at least  <a href="https://xkcd.com/1319/">shouldn’t spend much time on</a>. If you’re tinkering with a script like this, then you’ll want  <code>subprocess</code>  to fail early and loudly.</p>
<h3 id="calledprocesserror--for-non-zero-exit-codehttpsrealpythoncompython-subprocesscalledprocesserror-for-non-zero-exit-code-permanent-link"><code>CalledProcessError</code>  for Non-Zero Exit Code<a href="https://realpython.com/python-subprocess/#calledprocesserror-for-non-zero-exit-code" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#calledprocesserror--for-non-zero-exit-codehttpsrealpythoncompython-subprocesscalledprocesserror-for-non-zero-exit-code-permanent-link">#</a></h3>
<p>If a process returns an exit code that isn’t zero, you should interpret that as a failed process. Contrary to what you might expect, the Python  <code>subprocess</code>  module does  <em>not</em>  automatically raise an exception on a non-zero exit code. A failing process is typically not something you want your program to pass over silently, so you can pass a  <code>check=True</code>  argument to  <code>run()</code>  to raise an exception:</p>
<p>Python</p>
<p><code>&gt;&gt;&gt; completed_process = subprocess.run( ...     [&quot;python&quot;, &quot;timer.py&quot;], ...     check=True ... ) ... usage: timer.py [-h] time timer.py: error: the following arguments are required: time Traceback (most recent call last): ... subprocess.CalledProcessError: Command '['python', 'timer.py']' returned non-zero exit status 2.</code></p>
<p>The  <code>CalledProcessError</code>  is raised as soon as the subprocess runs into a non-zero return code. If you’re developing a short personal script, then perhaps this is good enough for you. If you want to handle errors more gracefully, then read on to the section on  <a href="https://realpython.com/python-subprocess/#an-example-of-exception-handling">exception handling</a>.</p>
<p>One thing to bear in mind is that the  <code>CalledProcessError</code>  does not apply to processes that may hang and block your execution indefinitely. To guard against that, you’d want to take advantage of the  <code>timeout</code>  parameter.</p>
<h3 id="timeoutexpired--for-processes-that-take-too-longhttpsrealpythoncompython-subprocesstimeoutexpired-for-processes-that-take-too-long-permanent-link"><code>TimeoutExpired</code>  for Processes That Take Too Long<a href="https://realpython.com/python-subprocess/#timeoutexpired-for-processes-that-take-too-long" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#timeoutexpired--for-processes-that-take-too-longhttpsrealpythoncompython-subprocesstimeoutexpired-for-processes-that-take-too-long-permanent-link">#</a></h3>
<p>Sometimes processes aren’t well behaved, and they might take too long or just hang indefinitely. To handle those situations, it’s always a good idea to use the  <code>timeout</code>  parameter of the  <code>run()</code>  function.</p>
<p>Passing a  <code>timeout=1</code>  argument to  <code>run()</code>  will cause the function to shut down the process and raise a  <code>TimeoutExpired</code>  error after one second:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>subprocess.run([&ldquo;python&rdquo;, &ldquo;timer.py&rdquo;, &ldquo;5&rdquo;], timeout=1)
Starting timer of 5 seconds
.Traceback (most recent call last):
&hellip;
subprocess.TimeoutExpired: Command &lsquo;[&lsquo;python&rsquo;, &rsquo;timer.py&rsquo;, &lsquo;5&rsquo;]&rsquo; timed out
after 1.0 seconds`</p>
</blockquote>
</blockquote>
</blockquote>
<p>In this example, the first dot of the timer animation was output, but the subprocess was shut down before being able to complete.</p>
<p>The other type of error that might happen is if the program doesn’t exist on that particular system, which raises one final type of error.</p>
<h3 id="filenotfounderror--for-programs-that-dont-existhttpsrealpythoncompython-subprocessfilenotfounderror-for-programs-that-dont-exist-permanent-link"><code>FileNotFoundError</code>  for Programs That Don’t Exist<a href="https://realpython.com/python-subprocess/#filenotfounderror-for-programs-that-dont-exist" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#filenotfounderror--for-programs-that-dont-existhttpsrealpythoncompython-subprocessfilenotfounderror-for-programs-that-dont-exist-permanent-link">#</a></h3>
<p>The final type of exception you’ll be looking at is the  <code>FileNotFoundError</code>, which is raised if you try and call a program that doesn’t exist on the target system:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>subprocess.run([&ldquo;now_you_see_me&rdquo;])
Traceback (most recent call last):
&hellip;
FileNotFoundError: The system cannot find the file specified`</p>
</blockquote>
</blockquote>
</blockquote>
<p>This type of error is raised no matter what, so you don’t need to pass in any arguments for the  <code>FileNotFoundError</code>.</p>
<p>Those are the main exceptions that you’ll run into when using the Python  <code>subprocess</code>  module. For many use cases, knowing the exceptions and making sure that you use  <code>timeout</code>  and  <code>check</code>  arguments will be enough. That’s because if the subprocess fails, then that usually means that your script has failed.</p>
<p>However, if you have a more complex program, then you may want to handle errors more gracefully. For instance, you may need to call many processes over a long period of time. For this, you can use the  <a href="https://realpython.com/python-exceptions/#the-try-and-except-block-handling-exceptions"><code>try</code>  …  <code>except</code></a>  construct.</p>
<h3 id="an-example-of-exception-handlinghttpsrealpythoncompython-subprocessan-example-of-exception-handling-permanent-link">An Example of Exception Handling<a href="https://realpython.com/python-subprocess/#an-example-of-exception-handling" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#an-example-of-exception-handlinghttpsrealpythoncompython-subprocessan-example-of-exception-handling-permanent-link">#</a></h3>
<p>Here’s a code snippet that shows the main exceptions that you’ll want to handle when using  <code>subprocess</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#f92672">import</span> subprocess
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    subprocess<span style="color:#f92672">.</span>run(
</span></span><span style="display:flex;"><span>        [<span style="color:#e6db74">&#34;python&#34;</span>, <span style="color:#e6db74">&#34;timer.py&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>], timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, check<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">FileNotFoundError</span> <span style="color:#66d9ef">as</span> exc:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Process failed because the executable could not be found.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span>exc<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> subprocess<span style="color:#f92672">.</span>CalledProcessError <span style="color:#66d9ef">as</span> exc:
</span></span><span style="display:flex;"><span>    print(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Process failed because did not return a successful return code. &#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Returned </span><span style="color:#e6db74">{</span>exc<span style="color:#f92672">.</span>returncode<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span>exc<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> subprocess<span style="color:#f92672">.</span>TimeoutExpired <span style="color:#66d9ef">as</span> exc:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Process timed out.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span>exc<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)<span style="color:#960050;background-color:#1e0010">`</span> 
</span></span></code></pre></div><p>This snippet shows you an example of how you might handle the three main exceptions raised by the  <code>subprocess</code>  module.</p>
<p>Now that you’ve used  <code>subprocess</code>  in its basic form and handled some exceptions, it’s time to get familiar with what it takes to interact with the shell.</p>
<h2 id="introduction-to-the-shell-and-text-based-programs-with--subprocesshttpsrealpythoncompython-subprocessintroduction-to-the-shell-and-text-based-programs-with-subprocess-permanent-link">Introduction to the Shell and Text-Based Programs With  <code>subprocess</code><a href="https://realpython.com/python-subprocess/#introduction-to-the-shell-and-text-based-programs-with-subprocess" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#introduction-to-the-shell-and-text-based-programs-with--subprocesshttpsrealpythoncompython-subprocessintroduction-to-the-shell-and-text-based-programs-with-subprocess-permanent-link">#</a></h2>
<p>Some of the most popular use cases of the  <code>subprocess</code>  module are to interact with text-based programs, typically available on the shell. That’s why in this section, you’ll start to explore all the moving parts involved when interacting with text-based programs, and perhaps question if you need the shell at all!</p>
<p>The shell is typically synonymous with the  <a href="https://en.wikipedia.org/wiki/Command-line_interface">command-line interface</a>  or CLI, but this terminology isn’t entirely accurate. There are actually two separate processes that make up the typical command-line experience:</p>
<ol>
<li><strong>The interpreter</strong>, which is typically thought of as the whole CLI. Common interpreters are Bash on Linux, Zsh on macOS, or PowerShell on Windows. In this tutorial, the interpreter will be referred to as the shell.</li>
<li><strong>The interface</strong>, which displays the output of the interpreter in a window and sends user keystrokes to the interpreter. The interface is a separate process from the shell, sometimes called a  <a href="https://en.wikipedia.org/wiki/Terminal_emulator">terminal emulator</a>.</li>
</ol>
<p>When on the command line, it’s common to think that you’re interacting directly with the shell, but you’re really interacting with the  <em>interface</em>. The interface takes care of sending your commands to the shell and displaying the shell’s output back to you.</p>
<p>With this important distinction in mind, it’s time to turn your attention to what  <code>run()</code>  is actually doing. It’s common to think that calling  <code>run()</code>  is somehow the same as typing a command in a terminal interface, but there are important differences.</p>
<p>While all new process are created with the same  <a href="https://en.wikipedia.org/wiki/System_call">system calls</a>, the context from which the system call is made is different. The  <code>run()</code>  function can make a system call directly and doesn’t need to go through the shell to do so:</p>
<p>In fact, many programs that are thought of as shell programs, such as  <a href="https://git-scm.com/">Git</a>, are really just  <em>text-based</em>  programs that don’t need a shell to run. This is especially true of UNIX environments, where all of the familiar utilities like  <code>ls</code>,  <code>rm</code>,  <code>grep</code>, and  <code>cat</code>  are actually separate executables that can be called directly:</p>
<p>Python</p>
<p>`&raquo;&gt; # Linux or macOS</p>
<blockquote>
<blockquote>
<blockquote>
<p>import subprocess
subprocess.run([&ldquo;ls&rdquo;])
timer.py
CompletedProcess(args=[&rsquo;ls&rsquo;], returncode=0)`</p>
</blockquote>
</blockquote>
</blockquote>
<p>There are some tools that are specific to shells, though. Finding tools embedded within the shell is far more common on Windows shells like PowerShell, where commands like  <code>ls</code>  are  <em>part of the shell itself</em>  and not separate executables like they are in a UNIX environment:</p>
<p>Python</p>
<p>`&raquo;&gt; # Windows</p>
<blockquote>
<blockquote>
<blockquote>
<p>import subprocess
subprocess.run([&ldquo;ls&rdquo;])
Traceback (most recent call last):
&hellip;
FileNotFoundError: [WinError 2] The system cannot find the file specified`</p>
</blockquote>
</blockquote>
</blockquote>
<p>In PowerShell,  <code>ls</code>  is the default alias for  <code>Get-ChildItem</code>, but calling that won’t work either because  <code>Get-ChildItem</code>  isn’t a separate executable—it’s  <em>part of PowerShell</em>  itself.</p>
<p>The fact that many text-based programs can operate independently from the shell may make you wonder if you can cut out the middle process—namely, the shell—and use  <code>subprocess</code>  directly with the text-based programs typically associated with the shell.</p>
<h3 id="use-cases-for-the-shell-and--subprocesshttpsrealpythoncompython-subprocessuse-cases-for-the-shell-and-subprocess-permanent-link">Use Cases for the Shell and  <code>subprocess</code><a href="https://realpython.com/python-subprocess/#use-cases-for-the-shell-and-subprocess" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#use-cases-for-the-shell-and--subprocesshttpsrealpythoncompython-subprocessuse-cases-for-the-shell-and-subprocess-permanent-link">#</a></h3>
<p>There are a few common reasons why you might want to call the shell with the  <code>Python</code>  subprocess module:</p>
<ul>
<li>When you know certain commands are only available via the shell, which is more common in Windows</li>
<li>When you’re experienced in writing shell scripts with a particular shell, so you want to leverage your ability there to do certain tasks while still working primarily in Python</li>
<li>When you’ve inherited a large shell script that might do nothing that Python couldn’t do, but would take a long time to reimplement in Python</li>
</ul>
<p>This isn’t an exhaustive list!</p>
<p>You might use the shell to wrap programs or to do some text processing. However, the syntax can be very cryptic when compared to Python. With Python, text processing workflows are easier to write, easier to maintain,  <a href="https://stackoverflow.com/a/4493209/10445017">generally more performant</a>, and cross-platform to boot. So it’s well worth considering going without the shell.</p>
<p>What often happens, though, is that you just don’t have the time or it’s not worth the effort to reimplement existing shell scripts in Python. In those cases, using  <code>subprocess</code>  for some  <a href="https://www.youtube.com/watch?v=Jd8ulMb6_ls">sloppy Python</a>  isn’t a bad thing!</p>
<p>Common reasons for using  <code>subprocess</code>  itself are similar in nature to using the shell with  <code>subprocess</code>:</p>
<ul>
<li>When you have to use or analyze a  <a href="https://en.wikipedia.org/wiki/Black_box">black box</a>, or even a  <a href="https://en.wikipedia.org/wiki/White_box_(software_engineering)">white box</a></li>
<li>When you want a wrapper for an application</li>
<li>When you need to launch another application</li>
<li>As an alternative to basic shell scripts</li>
</ul>
<p><strong>Note:</strong>  A  <a href="https://en.wikipedia.org/wiki/Black_box">black box</a>  could be a program that can be freely used but whose source code isn’t available, so there’s no way to know exactly what it does and no way to modify its internals.</p>
<p>Similarly, a  <a href="https://en.wikipedia.org/wiki/White_box_(software_engineering)">white box</a>  could be a program whose source code is available but can’t be changed. It could also be a program whose source code you could change, but its complexity means that it would take you a long time to get your head around it to be able to change it.</p>
<p>In these cases, you can use  <code>subprocess</code>  to wrap your boxes of varying opacity, bypassing any need to change or reimplement things in Python.</p>
<p>Often you’ll find that for  <code>subprocess</code>  use cases, there will be a dedicated library for that task. Later in the tutorial, you’ll examine a  <a href="https://realpython.com/python-subprocess/#creating-a-new-project-an-example">script that creates a Python project</a>, complete with a  <a href="https://realpython.com/python-virtual-environments-a-primer/">virtual environment</a>  and a fully initialized  <a href="https://realpython.com/python-git-github-intro/">Git</a>  repository. However, the  <a href="https://github.com/cookiecutter/cookiecutter">Cookiecutter</a>  and  <a href="https://copier.readthedocs.io/">Copier</a>  libraries already exist for that purpose.</p>
<p>Even though specific libraries might be able to do your task, it may still be worth doing things with  <code>subprocess</code>. For one, it might be much faster for you to execute what you already know how to do, rather than learning a new library.</p>
<p>Additionally, if you’re sharing this script with friends or colleagues, it’s convenient if your script is pure Python without any other dependencies, especially if your script needs to go on minimal environments like servers or embedded systems.</p>
<p>However, if you’re using  <code>subprocess</code>  instead of  <code>pathlib</code>  to read and write a few files with Bash, you might want to consider learning how to  <a href="https://realpython.com/read-write-files-python/">read and write</a>  with Python. Learning how to read and write files doesn’t take long, and it’ll definitely be worth it for such a common task.</p>
<p>With that out of the way, it’s time to get familiar with the shell environments on both Windows and UNIX-based systems.</p>
<h3 id="basic-usage-of--subprocess--with-unix-based-shellshttpsrealpythoncompython-subprocessbasic-usage-of-subprocess-with-unix-based-shells-permanent-link">Basic Usage of  <code>subprocess</code>  With UNIX-Based Shells<a href="https://realpython.com/python-subprocess/#basic-usage-of-subprocess-with-unix-based-shells" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#basic-usage-of--subprocess--with-unix-based-shellshttpsrealpythoncompython-subprocessbasic-usage-of-subprocess-with-unix-based-shells-permanent-link">#</a></h3>
<p>To run a shell command using  <code>run()</code>, the  <code>args</code>  should contain the shell that you want to use, the flag to indicate that you want it to run a specific command, and the command that you’re passing in:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>subprocess.run([&ldquo;bash&rdquo;, &ldquo;-c&rdquo;, &ldquo;ls /usr/bin | grep pycode&rdquo;])
pycodestyle
pycodestyle-3
pycodestyle-3.10
CompletedProcess(args=[&lsquo;bash&rsquo;, &lsquo;-c&rsquo;, &rsquo;ls /usr/bin | grep pycode&rsquo;], returncode=0)`</p>
</blockquote>
</blockquote>
</blockquote>
<p>Here a common shell command is demonstrated. It uses  <code>ls</code>  piped into  <code>grep</code>  to filter some of the entries. The shell is handy for this kind of operation because you can take advantage of the pipe operator (<code>|</code>). You’ll cover pipes in more detail  <a href="https://realpython.com/python-subprocess/#pipes-and-the-shell">later</a>.</p>
<p>You can replace  <code>bash</code>  with the shell of your choice. The  <code>-c</code>  flag stands for  <em>command</em>, but may be different depending on the shell that you’re using. This is almost the exact equivalent of what happens when you add the  <code>shell=True</code>  argument:</p>
<p>Python</p>
<p><code>&gt;&gt;&gt; subprocess.run([&quot;ls /usr/bin | grep pycode&quot;], shell=True) pycodestyle pycodestyle-3 pycodestyle-3.10 CompletedProcess(args=['ls /usr/bin | grep pycode'], returncode=0)</code></p>
<p>The  <code>shell=True</code>  argument uses  <code>[&quot;sh&quot;, &quot;-c&quot;, ...]</code>  behind the scenes, so it’s almost the equivalent of the previous example.</p>
<p><strong>Note:</strong>  On UNIX-based systems, the  <code>sh</code>  shell was traditionally the  <a href="https://en.wikipedia.org/wiki/Bourne_shell">Bourne shell</a>. That said, the Bourne shell is now quite old, so many operating systems use  <code>sh</code>  as a link to  <a href="https://www.gnu.org/software/bash/">Bash</a>  or  <a href="https://en.wikipedia.org/wiki/Almquist_shell#dash">Dash</a>.</p>
<p>This can often be different from the shell used with the terminal interface that you interact with. For instance, since macOS Catalina, the default shell that you’ll find on the command-line app has changed from Bash to  <a href="https://www.zsh.org/">Zsh</a>, yet  <code>sh</code>  often still points to Bash. Likewise, on Ubuntu,  <code>sh</code>  points to Dash, but the default that you typically interact with on the command-line application is still Bash.</p>
<p>So, calling  <code>sh</code>  on your system may result in a different shell than what is found in this tutorial. Nevertheless, the examples should all still work.</p>
<p>You’ll note that the token after  <code>&quot;-c&quot;</code>  should be one single token, with all the spaces included. Here you’re giving control to the shell to parse the command. If you were to include more tokens, this would be interpreted as more options to pass to the shell executable, not as additional commands to run inside the shell.</p>
<h3 id="a-security-warninghttpsrealpythoncompython-subprocessa-security-warning-permanent-link">A Security Warning<a href="https://realpython.com/python-subprocess/#a-security-warning" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#a-security-warninghttpsrealpythoncompython-subprocessa-security-warning-permanent-link">#</a></h3>
<p>If at any point you plan to get user input and somehow translate that to a call to  <code>subprocess</code>, then you have to be very careful of  <a href="https://en.wikipedia.org/wiki/Code_injection">injection</a>  attacks. That is, take into account potential malicious actors. There are many ways to cause havoc if you just let people run code on your machine.</p>
<p>To use a very simplistic example, where you take user input and send it, unfiltered, to subprocess to run on the shell:</p>
<pre tabindex="0"><code>-   [Windows](https://realpython.com/python-subprocess/#windows-3)
-   [Linux + macOS](https://realpython.com/python-subprocess/#linux-macos-3)

Python

`# unsafe_program.py

import subprocess

# ...

subprocess.run([&#34;bash&#34;, &#34;-c&#34;, f&#34;ls {input()}&#34;])

# ...` 
</code></pre><p>You can imagine the intended use case is to wrap  <code>ls</code>  and add something to it. So the expected user behavior is to provide a path like  <code>&quot;/home/realpython/&quot;</code>. However, if a malicious actor realized what was happening, they could execute almost any code they wanted. Take the following, for instance, but  <strong>be careful with this</strong>:</p>
<blockquote>
<p><code>/home/realpython/; echo 'You could've been hacked: rm -rf /*'</code></p>
</blockquote>
<p>Again,  <strong>beware</strong>! These innocent-looking lines could try and delete everything on the system! In this case the malicious part is in quotes, so it won’t run, but if the quotes were not there, you’d be in trouble. The key part that does this is the call to  <code>rm</code>  with the relevant flags to recursively delete all files, folders, and subfolders, and it’ll work to force the deletion through. It can run the  <code>echo</code>  and potentially the  <code>rm</code>  as entirely separate commands by adding semicolons, which act as command separators allowing what would usually be multiple lines of code to run on one line.</p>
<p>Running these malicious commands would cause irreparable damage to the file system, and would require reinstalling the operating system. So, beware!</p>
<p>Luckily, the operating system wouldn’t let you do this to some particularly important files. The  <code>rm</code>  command would need to use  <a href="https://en.wikipedia.org/wiki/Sudo"><code>sudo</code></a>  in UNIX-based systems, or be run as an administrator in Windows to be completely successful in its mayhem. The command would probably delete a lot of important stuff before stopping, though.</p>
<p>So, make sure that if you’re dynamically building user inputs to feed into a  <code>subprocess</code>  call, then you’re very careful! With that warning, coming up you’ll be covering using the outputs of commands and chaining commands together—in short, how to communicate with processes once they’ve started.</p>
<h2 id="communication-with-processes">Communication With Processes<a hidden class="anchor" aria-hidden="true" href="#communication-with-processes">#</a></h2>
<p>You’ve used the  <code>subprocess</code>  module to execute programs and send basic commands to the shell. But something important is still missing. For many tasks that you might want to use  <code>subprocess</code>  for, you might want to dynamically send inputs or use the outputs in your Python code later.</p>
<p>To communicate with your process, you first should understand a little bit about how processes communicate in general, and then you’ll take a look at two examples to come to grips with the concepts.</p>
<h3 id="the-standard-io-streamshttpsrealpythoncompython-subprocessthe-standard-io-streams-permanent-link">The Standard I/O Streams<a href="https://realpython.com/python-subprocess/#the-standard-io-streams" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the-standard-io-streamshttpsrealpythoncompython-subprocessthe-standard-io-streams-permanent-link">#</a></h3>
<p>A  <a href="https://en.wikipedia.org/wiki/Stream_(computing)">stream</a>  at its most basic represents a sequence of elements that aren’t available all at once. When you  <a href="https://realpython.com/working-with-files-in-python/">read characters and lines from a file</a>, you’re working with a stream in the form of a file object, which at its most basic is a  <a href="https://realpython.com/why-close-file-python/#in-short-files-are-resources-limited-by-the-operating-system">file descriptor</a>. File descriptors are often used for streams. So, it’s not uncommon to see the terms  <em>stream</em>,  <em>file</em>, and  <em>file-like</em>  used interchangeably.</p>
<p>When processes are initialized, there are three special streams that a process makes use of. A process does the following:</p>
<ol>
<li>Reads  <code>stdin</code>  for input</li>
<li>Writes to  <code>stdout</code>  for general output</li>
<li>Writes to  <code>stderr</code>  for error reporting</li>
</ol>
<p>These are the  <a href="https://en.wikipedia.org/wiki/Standard_streams">standard streams</a>—a cross-platform pattern for process communication.</p>
<p>Sometimes the child process inherits these streams from the parent. This is what’s happening when you use  <code>subprocess.run()</code>  in the REPL and are able to see the output of the command. The  <code>stdout</code>  of the Python interpreter is inherited by the subprocess.</p>
<p>When you’re in a REPL environment, you’re looking at a command-line interface process, complete with the three standard I/O streams. The interface has a shell process as a child process, which itself has a Python REPL as a child. In this situation, unless you specify otherwise,  <code>stdin</code>  comes from the keyboard, while  <code>stdout</code>  and  <code>stderr</code>  are displayed on-screen. The interface, the shell, and the REPL share the streams:</p>
<p><a href="https://files.realpython.com/media/2022-05-31_17_26_47-process__Figma.f98ed0f101b2.png"><img loading="lazy" src="https://files.realpython.com/media/2022-05-31_17_26_47-process__Figma.f98ed0f101b2.png" alt="Diagram demonstrating the structure of processes involved in repl environment"  />
</a></p>
<p>You can think of the standard I/O streams as byte dispensers. The subprocess fills up  <code>stdout</code>  and  <code>stderr</code>, and you fill up  <code>stdin</code>. Then you read the bytes in  <code>stdout</code>  and  <code>stderr</code>, and the subprocess reads from  <code>stdin</code>.</p>
<p>As with a dispenser, you can stock  <code>stdin</code>  before it gets linked up to a child process. The child process will then read from  <code>stdin</code>  as and when it needs to. Once a process has read from a stream, though, the bytes are dispensed. You can’t go back and read them again:</p>
<p>These three streams, or files, are the basis for communicating with your process. In the next section, you’ll start to see this in action by getting the output of a magic number generator program.</p>
<h3 id="the-magic-number-generator-examplehttpsrealpythoncompython-subprocessthe-magic-number-generator-example-permanent-link">The Magic Number Generator Example<a href="https://realpython.com/python-subprocess/#the-magic-number-generator-example" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the-magic-number-generator-examplehttpsrealpythoncompython-subprocessthe-magic-number-generator-example-permanent-link">#</a></h3>
<p>Often, when using the  <code>subprocess</code>  module, you’ll want to use the output for something and not just display the output as you have been doing so far. In this section, you’ll use a magic number generator that outputs, well, a magic number.</p>
<p>Imagine that the magic number generator is some obscure program, a black box, inherited across generations of  <a href="https://xkcd.com/705/">sysadmins</a>  at your job. It outputs a magic number that you need for your secret calculations. You’ll read from the  <code>stdout</code>  of  <code>subprocess</code>  and use it in your wrapper Python program:</p>
<p>Python</p>
<p>`# magic_number.py</p>
<p>from random import randint</p>
<p>print(randint(0, 1000))`</p>
<p>Okay, not really so magical. That said, it’s not the magic number generator that you’re interested in—it’s interacting with a hypothetical black box with  <code>subprocess</code>  that’s interesting. To grab the number generator’s output to use later, you can pass in a  <code>capture_output=True</code>  argument to  <code>run()</code>:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic_number_process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;], capture_output=True
&hellip; )
magic_number_process.stdout
b'769\n&rsquo;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>Passing a  <code>capture_output</code>  argument of  <code>True</code>  to  <code>run()</code>  makes the output of the process available at the  <code>.stdout</code>  attribute of the completed process object. You’ll note that it’s returned as a  <a href="https://docs.python.org/3/library/stdtypes.html#bytes-objects">bytes object</a>, so you need to be mindful of  <a href="https://realpython.com/python-subprocess/#the-decoding-of-standard-streams">encodings</a>  when reading it.</p>
<p>Also note that the  <code>.stdout</code>  attribute of the  <code>CompletedProcess</code>  is no longer a stream. The stream has been read, and it’s stored as a bytes object in the  <code>.stdout</code>  attribute.</p>
<p>With the output available, you can use more than one subprocess to grab values and operate on them in your code:</p>
<pre><code>Python

`&gt;&gt;&gt; import subprocess
&gt;&gt;&gt; sum(
...     int(
...         subprocess.run(
...             [&quot;python&quot;, &quot;magic_number.py&quot;], capture_output=True
...         ).stdout
...     )
...     for _ in range(2)
... )
1085` 
</code></pre>
<p>In this example, you start two magic number processes that fetch two magic numbers and then add them together. For now, you rely on the automatic decoding of the bytes object by the  <code>int()</code>  constructor. In the next section, though, you’ll learn how to decode and encode explicitly.</p>
<h3 id="the-decoding-of-standard-streamshttpsrealpythoncompython-subprocessthe-decoding-of-standard-streams-permanent-link">The Decoding of Standard Streams<a href="https://realpython.com/python-subprocess/#the-decoding-of-standard-streams" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the-decoding-of-standard-streamshttpsrealpythoncompython-subprocessthe-decoding-of-standard-streams-permanent-link">#</a></h3>
<p>Processes communicate in bytes, and you have a few different ways to deal with  <a href="https://realpython.com/python-encodings-guide/">encoding and decoding</a>  these bytes. Beneath the surface,  <code>subprocess</code>  has a few ways of getting into  <a href="https://github.com/python/cpython/blob/3.10/Lib/subprocess.py#L849"><em>text mode</em></a>.</p>
<p><em>Text mode</em>  means that  <code>subprocess</code>  will try to take care of encoding itself. To do that, it needs to know what character encoding to use. Most of the options for doing this in  <code>subprocess</code>  will try to use the default encoding. However, you generally  <a href="https://peps.python.org/pep-0597/#using-the-default-encoding-is-a-common-mistake">want to be explicit about what encoding to use</a>  to prevent a bug that would be hard to find in the future.</p>
<p>You can pass a  <code>text=True</code>  argument for Python to take care of encodings using the default encoding. But, as mentioned, it’s always safer to specify the encodings explicitly using the  <code>encoding</code>  argument, as not all systems work with the  <em>nearly</em>  universal  <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>:</p>
<p>Python</p>
<p>`&raquo;&gt; magic_number_process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;], capture_output=True, encoding=&ldquo;utf-8&rdquo;
&hellip; )
&hellip;</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic_number_process.stdout
&lsquo;647\n&rsquo;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>If in  <em>text mode</em>, the  <code>.stdout</code>  attribute on a  <code>CompletedProcess</code>  is now a string and not a bytes object.</p>
<p>You can also decode the bytes returned by calling the  <code>.decode()</code>  method on the  <code>stdout</code>  attribute directly, without requiring  <em>text mode</em>  at all:</p>
<p>Python</p>
<p>`&raquo;&gt; magic_number_process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;], capture_output=True
&hellip; )
&hellip;</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic_number_process.stdout.decode(&ldquo;utf-8&rdquo;)
&lsquo;72\n&rsquo;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>There are other ways to put  <code>run()</code>  into  <em>text mode</em>. You can also set a  <code>True</code>  value for  <code>errors</code>  or  <code>universal_newlines</code>, which will also put  <code>run()</code>  into  <em>text mode</em>. This may seem redundant, but much of this is kept for backwards compatibility, seeing as the  <code>subprocess</code>  module has changed over the years.</p>
<p>Now that you know how to read and decode the output of a process, it’s time to take a look at writing to the input of a process.</p>
<h3 id="reaction-game-examplehttpsrealpythoncompython-subprocessreaction-game-example-permanent-link">Reaction Game Example<a href="https://realpython.com/python-subprocess/#reaction-game-example" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#reaction-game-examplehttpsrealpythoncompython-subprocessreaction-game-example-permanent-link">#</a></h3>
<p>In this section, you’ll use  <code>subprocess</code>  to interact with a command-line game. It’s a basic program that’s designed to test a human’s reaction time. With your knowledge of standard I/O streams, though, you’ll be able to hack it! The source code of the game makes use of the  <a href="https://realpython.com/python-time-module/"><code>time</code></a>  and  <a href="https://realpython.com/python-random/"><code>random</code></a>  module:</p>
<p>Python</p>
<p>`# reaction_game.py</p>
<p>from time import perf_counter, sleep
from random import random</p>
<p>print(&ldquo;Press enter to play&rdquo;)
input()
print(&ldquo;Ok, get ready!&rdquo;)
sleep(random() * 5 + 1)
print(&ldquo;go!&rdquo;)
start = perf_counter()
input()
end = perf_counter()
print(f&quot;You reacted in {(end  -  start)  *  1000:.0f} milliseconds!\nGoodbye!&quot;)`</p>
<p>The program starts, asks for the user to press enter, and then after a random amount of time will ask the user to press enter again. It  <a href="https://realpython.com/python-timer/">measures</a>  from the time the message appears to the time the user presses enter, or at least that’s what the game developer thinks:</p>
<p>The  <code>input()</code>  function will read from  <code>stdin</code>  until it reaches a newline, which means an  Enter  keystroke in this context. It returns everything it consumed from  <code>stdin</code>  except the newline. With that knowledge, you can use  <code>subprocess</code>  to interact with this game:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;reaction_game.py&rdquo;], input=&quot;\n\n&quot;, encoding=&ldquo;utf-8&rdquo;
&hellip; )
&hellip;
Press enter to play
Ok, get ready!
go!
You reacted in 0 milliseconds!
Goodbye!`</p>
</blockquote>
</blockquote>
</blockquote>
<p>A reaction time of 0 milliseconds! Not bad! Considering the  <a href="https://humanbenchmark.com/tests/reactiontime/statistics">average human reaction time</a>  is around 270 milliseconds, your program is definitely superhuman. Note that the game rounds its output, so 0 milliseconds doesn’t mean it’s instantaneous.</p>
<p>The  <code>input</code>  argument passed to  <code>run()</code>  is a string consisting of two newlines. The  <code>encoding</code>  parameter is set to  <code>utf-8</code>, which puts  <code>run()</code>  into  <em>text mode</em>. This sets up the process for it to receive the input you that give it.</p>
<p>Before the program starts,  <code>stdin</code>  is stocked, waiting for the program to consume the newlines it contains. One newline is consumed to start the game, and the next newline is consumed to react to  <code>go!</code>.</p>
<p>Now that you know what’s happening—namely that  <code>stdin</code>  can be  <em>stocked</em>, as it were—you can hack the program yourself without  <code>subprocess</code>. If you start the game and then press  Enter  a few times, that’ll stock up  <code>stdin</code>  with a few newlines that the program will automatically consume once it gets to the  <code>input()</code>  line. So your reaction time is really only the time it takes for the reaction game to execute  <code>start = time()</code>  and consume an input:</p>
<p>The game developer gets wise to this, though, and vows to release another version, which will guard against this exploit. In the meantime, you’ll peek a bit further under the hood of  <code>subprocess</code>  and learn about how it wires up the standard I/O streams.</p>
<h2 id="pipes-and-the-shellhttpsrealpythoncompython-subprocesspipes-and-the-shell-permanent-link">Pipes and the Shell<a href="https://realpython.com/python-subprocess/#pipes-and-the-shell" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#pipes-and-the-shellhttpsrealpythoncompython-subprocesspipes-and-the-shell-permanent-link">#</a></h2>
<p>To really understand subprocesses and the redirection of streams, you really need to understand pipes and what they are. This is especially true if you want to wire up two processes together, feeding one  <code>stdout</code>  into another process’s  <code>stdin</code>, for instance. In this section, you’ll be coming to grips with pipes and how to use them with the  <code>subprocess</code>  module.</p>
<h3 id="introduction-to-pipeshttpsrealpythoncompython-subprocessintroduction-to-pipes-permanent-link">Introduction to Pipes<a href="https://realpython.com/python-subprocess/#introduction-to-pipes" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#introduction-to-pipeshttpsrealpythoncompython-subprocessintroduction-to-pipes-permanent-link">#</a></h3>
<p>A pipe, or  <a href="https://en.wikipedia.org/wiki/Pipeline_(computing)">pipeline</a>, is a special stream that, instead of having one file handle as most files do, has two. One handle is read-only, and the other is write-only. The name is very descriptive—a pipe serves to pipe a byte stream from one process to another. It’s also buffered, so a process can write to it, and it’ll hold onto those bytes until it’s read, like a dispenser.</p>
<p>You may be used to seeing pipes on the command line, as you did in the  <a href="https://realpython.com/python-subprocess/#introduction-to-the-shell-and-text-based-programs-with-subprocess">section on shells</a>:</p>
<p>Shell</p>
<p><code>$ ls  /usr/bin  |  grep  python</code></p>
<p>This command tells the shell to create an  <code>ls</code>  process to list all the files in  <code>/usr/bin</code>. The pipe operator (<code>|</code>) tells the shell to create a pipe from the  <code>stdout</code>  of the  <code>ls</code>  process and feed it into the  <code>stdin</code>  of the  <code>grep</code>  process. The  <code>grep</code>  process filters out all the lines that don’t contain the string  <code>python</code>.</p>
<p>Windows doesn’t have  <code>grep</code>, but a rough equivalent of the same command would be as follows:</p>
<p>Windows PowerShell</p>
<p><code>PS&gt; ls &quot;C:\Program Files&quot; | Out-String -stream | Select-String windows</code></p>
<p>However, on Windows PowerShell, things work very differently. As you learned in the  <a href="https://realpython.com/python-subprocess/#basic-usage-of-subprocess-with-windows-shells">Windows shell section</a>  of this tutorial, the different commands are not separate executables. Therefore, PowerShell is internally redirecting the output of one command into another without starting new processes.</p>
<p><strong>Note:</strong>  If you don’t have access to a UNIX-based operating system but have Windows 10 or above, then you actually  <em>do</em>  have access to a UNIX-based operating system! Check out  <a href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux</a>, which will give you access to a fully featured Linux shell.</p>
<p>You can use pipes for different processes on PowerShell, though getting into the intricacies of which ones is outside the scope of this tutorial. For more information on PowerShell pipes, check out the  <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_pipelines">documentation</a>. So, for the rest of the pipe examples, only UNIX-based examples will be used, as the basic mechanism is the same for both systems. They’re not nearly as common on Windows, anyway.</p>
<p>If you want to let the shell take care of piping processes into one another, then you can just pass the whole string as a command into  <code>subprocess</code>:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>subprocess.run([&ldquo;sh&rdquo; , &ldquo;-c&rdquo;, &ldquo;ls /usr/bin | grep python&rdquo;])
python3
python3-config
python3.8
python3.8-config
&hellip;
CompletedProcess(&hellip;)`</p>
</blockquote>
</blockquote>
</blockquote>
<p>This way, you can let your chosen shell take care of piping one process into another, instead of trying to reimplement things in Python. This is a perfectly valid choice in certain situations.</p>
<p><a href="https://realpython.com/python-subprocess/#pipe-simulation-with-run">Later in the tutorial</a>, you’ll also come to see that you  <em>can’t</em>  pipe processes directly with  <code>run()</code>. For that, you’ll need the more complicated  <code>Popen()</code>. Actual piping is demonstrated in  <a href="https://realpython.com/python-subprocess/#connecting-two-processes-together-with-pipes">Connecting Two Porcesses Together With Pipes</a>, near the end of the tutorial.</p>
<p>Whether you mean to pipe one process into another with the  <code>subprocess</code>  module or not, the  <code>subprocess</code>  module makes extensive use of pipes behind the scenes.</p>
<h3 id="the-pipes-of--subprocesshttpsrealpythoncompython-subprocessthe-pipes-of-subprocess-permanent-link">The Pipes of  <code>subprocess</code><a href="https://realpython.com/python-subprocess/#the-pipes-of-subprocess" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the-pipes-of--subprocesshttpsrealpythoncompython-subprocessthe-pipes-of-subprocess-permanent-link">#</a></h3>
<p>The Python  <code>subprocess</code>  module uses pipes extensively to interact with the processes that it starts. In a previous example, you used the  <code>capture_output</code>  parameter to be able to access  <code>stdout</code>:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic_number_process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;], capture_output=True
&hellip; )
magic_number_process.stdout
b'769\n&rsquo;`</p>
</blockquote>
</blockquote>
</blockquote>
<p><code>capture_output=True</code>  is equivalent to explicitly setting the  <code>stdout</code>  and  <code>stderr</code>  parameters to the  <code>subprocess.PIPE</code>  constant:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>magic_number_process = subprocess.run(
&hellip;     [&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;],
&hellip;     stdout=subprocess.PIPE,
&hellip;     stderr=subprocess.PIPE
&hellip; )
&hellip;
magic_number_process.stdout
b'769\n&rsquo;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>The  <code>PIPE</code>  constant is nothing special. It’s just a number that indicates to  <code>subprocess</code>  that a pipe should be created. The function then creates a pipe to link up to the  <code>stdout</code>  of the subprocess, which the function then reads into the  <code>CompletedProcess</code>  object’s  <code>stdout</code>  attribute. By the time it’s a  <code>CompletedProcess</code>, it’s no longer a pipe, but a bytes object that can be accessed multiple times.</p>
<p><strong>Note:</strong>  Pipe buffers have a limited capacity. Depending on the system you are running on, you may easily run into that limit if you plan on holding large quantities of data in the buffer. To work around this limit, you can use normal files.</p>
<p>You can also pass a  <a href="https://realpython.com/working-with-files-in-python/#pythons-with-open-as-pattern">file object</a>  to any of the standard stream parameters:</p>
<p>Python</p>
<p>`&raquo;&gt; from tempfile import TemporaryFile</p>
<blockquote>
<blockquote>
<blockquote>
<p>with TemporaryFile() as f:
&hellip;     ls_process = subprocess.run([&ldquo;python&rdquo;, &ldquo;magic_number.py&rdquo;], stdout=f)
&hellip;     f.seek(0)
&hellip;     print(f.read().decode(&ldquo;utf-8&rdquo;))
&hellip;
0
554`</p>
</blockquote>
</blockquote>
</blockquote>
<p>You  <em>can’t</em>  pass a bytes object or a string directly to the  <code>stdin</code>  argument, though. It needs to be something file-like.</p>
<p>Note that the  <code>0</code>  that gets returned first is from the call to  <a href="https://docs.python.org/3/library/io.html?highlight=seek#io.IOBase.seek"><code>seek()</code></a>  which returns the new stream position, which in this case is the start of the stream.</p>
<p>The  <code>input</code>  parameter is similar to the  <code>capture_output</code>  parameter in that it’s a shortcut. Using the  <code>input</code>  parameter will create a buffer to store the contents of  <code>input</code>, and then link the file up to the new process to serve as its  <code>stdin</code>.</p>
<p>To actually link up two processes with a pipe from within  <code>subprocess</code>  is something that you  <em>can’t</em>  do with  <code>run()</code>. Instead, you can delegate the plumbing to the shell, as you did earlier in the  <a href="https://realpython.com/python-subprocess/#introduction-to-the-shell-and-text-based-programs-with-subprocess">Introduction to the Shell and Text Based Programs with  <code>subprocess</code></a>  section.</p>
<p>If you needed to link up different processes without delegating any of the work to the shell, then you  <a href="https://realpython.com/python-subprocess/#connecting-two-processes-together-with-pipes">could do that with the underlying  <code>Popen()</code>  constructor</a>. You’ll cover  <code>Popen()</code>  in a later  <a href="https://realpython.com/python-subprocess/#the-popen-class">section</a>. In the next section, though, you’ll be  <em>simulating</em>  a pipe with  <code>run()</code>  because in most cases, it’s not vital for processes to be linked up directly.</p>
<h3 id="pipe-simulation-with--runhttpsrealpythoncompython-subprocesspipe-simulation-with-run-permanent-link">Pipe Simulation With  <code>run()</code><a href="https://realpython.com/python-subprocess/#pipe-simulation-with-run" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#pipe-simulation-with--runhttpsrealpythoncompython-subprocesspipe-simulation-with-run-permanent-link">#</a></h3>
<p>Though you can’t actually link up two processes together with a pipe by using the  <code>run()</code>  function, at least not without delegating it to the shell, you can simulate piping by judicious use of the  <code>stdout</code>  attribute.</p>
<p>If you’re on a UNIX-based system where almost all typical shell commands are separate executables, then you can just set the  <code>input</code>  of the second process to the  <code>.stdout</code>  attribute of the first  <code>CompletedProcess</code>:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>ls_process = subprocess.run([&ldquo;ls&rdquo;, &ldquo;/usr/bin&rdquo;], stdout=subprocess.PIPE)
grep_process = subprocess.run(
&hellip;     [&ldquo;grep&rdquo;, &ldquo;python&rdquo;], input=ls_process.stdout, stdout=subprocess.PIPE
&hellip; )
print(grep_process.stdout.decode(&ldquo;utf-8&rdquo;))
python3
python3-config
python3.8
python3.8-config
&hellip;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>Here the  <code>.stdout</code>  attribute of the  <code>CompletedProcess</code>  object of  <code>ls</code>  is set to the  <code>input</code>  of the  <code>grep_process</code>. It’s important that it’s set to  <code>input</code>  rather than  <code>stdin</code>. This is because the  <code>.stdout</code>  attribute isn’t a file-like object. It’s a bytes object, so it can’t be used as an argument to  <code>stdin</code>.</p>
<p>As an alternative, you can operate directly with files too, setting them to the standard stream parameters. When using files, you set the file object as the argument to  <code>stdin</code>, instead of using the  <code>input</code>  parameter:</p>
<p>Python</p>
<p>`&raquo;&gt; import subprocess</p>
<blockquote>
<blockquote>
<blockquote>
<p>from tempfile import TemporaryFile
with TemporaryFile() as f:
&hellip;     ls_process = subprocess.run([&ldquo;ls&rdquo;, &ldquo;/usr/bin&rdquo;], stdout=f)
&hellip;     f.seek(0)
&hellip;     grep_process = subprocess.run(
&hellip;         [&ldquo;grep&rdquo;, &ldquo;python&rdquo;], stdin=f, stdout=subprocess.PIPE
&hellip;     )
&hellip;
0 # from f.seek(0)
print(grep_process.stdout.decode(&ldquo;utf-8&rdquo;))
python3
python3-config
python3.8
python3.8-config
&hellip;`</p>
</blockquote>
</blockquote>
</blockquote>
<p>As you learned in the previous section, for Windows PowerShell, doing something like this doesn’t make a whole lot of sense because most of the time, these utilities are part of PowerShell itself. Because you aren’t dealing with separate executables, piping becomes less of a necessity. However, the pattern for piping is still the same if something like this needs to be done.</p>
<p>With most of the tools out the way, it’s now time to think about some practical applications for  <code>subprocess</code>.</p>
<h2 id="practical-ideashttpsrealpythoncompython-subprocesspractical-ideas-permanent-link">Practical Ideas<a href="https://realpython.com/python-subprocess/#practical-ideas" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#practical-ideashttpsrealpythoncompython-subprocesspractical-ideas-permanent-link">#</a></h2>
<p>When you have an issue that you want to solve with Python, sometimes the  <code>subprocess</code>  module is the easiest way to go, even though it may not be the most correct.</p>
<p>Using  <code>subprocess</code>  is often tricky to get working across different platforms, and it has inherent  <a href="https://realpython.com/python-subprocess/#a-security-warning">dangers</a>. But even though it may involve some  <a href="https://www.youtube.com/watch?v=Jd8ulMb6_ls">sloppy Python</a>, using  <code>subprocess</code>  can be a very quick and efficient way to solve a problem.</p>
<p>As mentioned, for most tasks you can imagine doing with  <code>subprocess</code>, there’s usually a library out there that’s dedicated to that specific task. The library will almost certainly use  <code>subprocess</code>, and the developers will have worked hard to make the code reliable and to cover all the corner cases that can make using  <code>subprocess</code>  difficult.</p>
<p>So, even though dedicated libraries exist, it can often be simpler to just use  <code>subprocess</code>, especially if you’re in an environment where you need to limit your dependencies.</p>
<p>In the following sections, you’ll be exploring a couple of practical ideas.</p>
<h3 id="creating-a-new-project-an-examplehttpsrealpythoncompython-subprocesscreating-a-new-project-an-example-permanent-link">Creating a New Project: An Example<a href="https://realpython.com/python-subprocess/#creating-a-new-project-an-example" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#creating-a-new-project-an-examplehttpsrealpythoncompython-subprocesscreating-a-new-project-an-example-permanent-link">#</a></h3>
<p>Say you often need to create new local projects, each complete with a  <a href="https://realpython.com/python-virtual-environments-a-primer/">virtual environment</a>  and initialized as a  <a href="https://realpython.com/python-git-github-intro/">Git repository</a>. You could reach for the  <a href="https://github.com/cookiecutter/cookiecutter">Cookiecutter</a>  library, which is dedicated to that task, and that wouldn’t be a bad idea.</p>
<p>However, using Cookiecutter would mean learning Cookiecutter. Imagine you didn’t have much time, and your environment was extremely minimal anyway—all you could really count on was Git and Python. In these cases,  <code>subprocess</code>  can quickly set up your project for you:</p>
<p>Python</p>
<p>`# create_project.py</p>
<p>from argparse import ArgumentParser
from pathlib import Path
import subprocess</p>
<p>def create_new_project(name):
project_folder = Path.cwd().absolute() / name
project_folder.mkdir()
(project_folder / &ldquo;README.md&rdquo;).touch()
with open(project_folder / &ldquo;.gitignore&rdquo;, mode=&ldquo;w&rdquo;) as f:
f.write(&quot;\n&quot;.join([&ldquo;venv&rdquo;, &ldquo;<strong>pycache</strong>&rdquo;]))
commands = [
[
&ldquo;python&rdquo;,
&ldquo;-m&rdquo;,
&ldquo;venv&rdquo;,
f&quot;{project_folder}/venv&quot;,
],
[&ldquo;git&rdquo;, &ldquo;-C&rdquo;, project_folder, &ldquo;init&rdquo;],
[&ldquo;git&rdquo;, &ldquo;-C&rdquo;, project_folder, &ldquo;add&rdquo;, &ldquo;.&rdquo;],
[&ldquo;git&rdquo;, &ldquo;-C&rdquo;, project_folder, &ldquo;commit&rdquo;, &ldquo;-m&rdquo;, &ldquo;Initial commit&rdquo;],
]
for command in commands:
try:
subprocess.run(command, check=True, timeout=60)
except FileNotFoundError as exc:
print(
f&quot;Command {command} failed because the process &quot;
f&quot;could not be found.\n{exc}&quot;
)
except subprocess.CalledProcessError as exc:
print(
f&quot;Command {command} failed because the process &quot;
f&quot;did not return a successful return code.\n{exc}&quot;
)
except subprocess.TimeoutExpired as exc:
print(f&quot;Command {command} timed out.\n  {exc}&quot;)</p>
<p>if <strong>name</strong> == &ldquo;<strong>main</strong>&rdquo;:
parser = ArgumentParser()
parser.add_argument(&ldquo;project_name&rdquo;, type=str)
args = parser.parse_args()
create_new_project(args.project_name)`</p>
<p>This is a command-line tool that you can call to start a project. It’ll take care of creating a  <code>README.md</code>  file and a  <code>.gitignore</code>  file, and then it’ll run a few commands to create a virtual environment, initialize a git repository, and perform your first commit. It’s even cross-platform, opting to use  <code>pathlib</code>  to create the files and folders, which abstracts away the operating system differences.</p>
<p>Could this be done with Cookiecutter? Could you use  <a href="https://github.com/gitpython-developers/GitPython">GitPython</a>  for the  <code>git</code>  part? Could you use the  <code>venv</code>  module to create the virtual environment? Yes to all. But if you just need something quick and dirty, using commands you already know, then just using  <code>subprocess</code>  can be a great option.</p>
<h3 id="changing-extended-attributeshttpsrealpythoncompython-subprocesschanging-extended-attributes-permanent-link">Changing Extended Attributes<a href="https://realpython.com/python-subprocess/#changing-extended-attributes" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#changing-extended-attributeshttpsrealpythoncompython-subprocesschanging-extended-attributes-permanent-link">#</a></h3>
<p>If you use Dropbox, you may not know that there’s a way to ignore files when syncing. For example, you can keep virtual environments in your project folder and use Dropbox to sync the code, but keep the virtual environment local.</p>
<p>That said, it’s not as easy as adding a  <code>.dropboxignore</code>  file. Rather, it involves adding special attributes to files, which can be done from the command line. These attributes are different between UNIX-like systems and Windows:</p>
<ul>
<li><a href="https://realpython.com/python-subprocess/#windows-5">Windows</a></li>
<li><a href="https://realpython.com/python-subprocess/#linux-5">Linux</a></li>
<li><a href="https://realpython.com/python-subprocess/#macos-5">macOS</a></li>
</ul>
<p>Shell</p>
<p><code>$ attr  -s  com.dropbox.ignored  -V  1  \ /home/yourname/Dropbox/YourFileName.pdf</code></p>
<p>There are some UNIX-based projects, like  <a href="https://github.com/sp1thas/dropboxignore">dropboxignore</a>, that use shell scripts to make it easier to ignore files and folders. The code is relatively complex, and it won’t work on Windows.</p>
<p>With the  <code>subprocess</code>  module, you can wrap the different shell commands quite easily to come up with your own utility:</p>
<p>Python</p>
<p>``# dropbox_ignore.py</p>
<p>import platform
from pathlib import Path
from subprocess import run, DEVNULL</p>
<p>def init_shell():
print(&ldquo;initializing shell&rdquo;)
system = platform.system()
print(f&quot;{system} detected&quot;)
if system == &ldquo;Linux&rdquo;:
return Bash_shell()
elif system == &ldquo;Windows&rdquo;:
return Pwsh_shell()
elif system == &ldquo;Darwin&rdquo;:
raise NotImplementedError</p>
<p>class Pwsh_shell():
def <strong>init</strong>(self) -&gt; None:
try:
run([&ldquo;pwsh&rdquo;, &ldquo;-V&rdquo;], stdout=DEVNULL, stderr=DEVNULL)
self.shell = &ldquo;pwsh&rdquo;
except FileNotFoundError as exc:
print(&ldquo;Powershell Core not installed, falling back to PowerShell&rdquo;)
self.shell = &ldquo;powershell&rdquo;</p>
<pre><code>@staticmethod
def _make_string_path_list(paths: list[Path]) -&gt; str:
    return &quot;', '&quot;.join(str(path).replace(&quot;'&quot;, &quot;`'&quot;) for path in paths)

def ignore_folders(self, paths: list[Path]) -&gt; None:
    path_list = self._make_string_path_list(paths)
    command = (
        f&quot;Set-Content -Path '{path_list}' &quot;
        f&quot;-Stream com.dropbox.ignored -Value 1&quot;
    )
    run([self.shell, &quot;-NoProfile&quot;, &quot;-Command&quot;, command], check=True)
    print(&quot;Done!&quot;)
</code></pre>
<p>class Bash_shell():
@staticmethod
def _make_string_path_list(paths: list[Path]) -&gt; str:
return &ldquo;&rsquo; &lsquo;&quot;.join(str(path).replace(&rdquo;&rsquo;&quot;, &ldquo;\&rsquo;&rdquo;) for path in paths)</p>
<pre><code>def ignore_folders(self, paths: list[Path]) -&gt; None:
    path_list = self._make_string_path_list(paths)
    command = (
        f&quot;for f in '{path_list}'\n do\n &quot;
        f&quot;attr -s com.dropbox.ignored -V 1 $f\ndone&quot;
    )
    run([&quot;bash&quot;, &quot;-c&quot;, command], check=True)
    print(&quot;Done!&quot;)`` 
</code></pre>
<p>This is a simplified snippet from the author’s  <a href="https://github.com/iansedano/dot_dropbox_ignore">dotDropboxIgnore</a>  repository. The  <code>init_shell()</code>  function detects the operating system with the  <a href="https://docs.python.org/3/library/platform.html"><code>platform</code></a>  module and returns an object that’s an abstraction around the system-specific shell. The code hasn’t implemented the behavior on macOS, so it raises a  <code>NotImplementedError</code>  if it detects it’s running on macOS.</p>
<p>The shell object allows you to call an  <code>.ignore_folders()</code>  method with a list of  <a href="https://realpython.com/python-pathlib/"><code>pathlib</code></a>  <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path"><code>Path</code></a>  objects to set Dropbox to ignore those files.</p>
<p>On the  <code>Pwsh_shell</code>  class, the constructor tests to see if PowerShell Core is available, and if not, will fall back to the older Windows PowerShell, which is installed by default on Windows 10.</p>
<p>In the next section, you’ll review some of the other modules that might be interesting to keep in mind when deciding whether to use  <code>subprocess</code>.</p>
<h2 id="python-modules-associated-with--subprocesshttpsrealpythoncompython-subprocesspython-modules-associated-with-subprocess-permanent-link">Python Modules Associated With  <code>subprocess</code><a href="https://realpython.com/python-subprocess/#python-modules-associated-with-subprocess" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#python-modules-associated-with--subprocesshttpsrealpythoncompython-subprocesspython-modules-associated-with-subprocess-permanent-link">#</a></h2>
<p>When deciding whether a certain task is a good fit for  <code>subprocess</code>, there are some associated modules that you may want to be aware of.</p>
<p>Before  <code>subprocess</code>  existed, you could use  <code>os.system()</code>  to run commands. However, as with many things that  <code>os</code>  was used for before, standard library modules have come to replace  <code>os</code>, so it’s mostly used internally. There are hardly any use cases for using  <code>os</code>  yourself.</p>
<p>There’s an  <a href="https://docs.python.org/3/library/subprocess.html#replacing-older-functions-with-the-subprocess-module">official documentation page</a>  where you can examine some of the old ways to accomplish tasks with  <code>os</code>  and learn how you might do the same with  <code>subprocess</code>.</p>
<p>It might be tempting to think that  <code>subprocess</code>  can be used for  <a href="https://realpython.com/python-concurrency/">concurrency</a>, and in simple cases, it can be. But, in line with the sloppy Python philosophy, it’s probably only going to be to hack something together quickly. If you want something more robust, then you’ll probably want to start looking at the  <code>multiprocessing</code>  module.</p>
<p>Depending on the task that you’re attempting, you may be able to accomplish it with the  <a href="https://realpython.com/async-io-python/"><code>asyncio</code></a>  or  <a href="https://realpython.com/intro-to-python-threading/"><code>threading</code></a>  modules. If everything is written in Python, then these modules are likely your best bet.</p>
<p>The  <code>asyncio</code>  module has a  <a href="https://docs.python.org/3/library/asyncio-subprocess.html">high-level API</a>  to create and manage subprocesses too, so if you want more control over non-Python parallel processes, that might be one to check out.</p>
<p>Now it’s time to get deep into  <code>subprocess</code>  and explore the underlying  <code>Popen</code>  class and its constructor.</p>
<h2 id="the--popen--classhttpsrealpythoncompython-subprocessthe-popen-class-permanent-link">The  <code>Popen</code>  Class<a href="https://realpython.com/python-subprocess/#the-popen-class" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#the--popen--classhttpsrealpythoncompython-subprocessthe-popen-class-permanent-link">#</a></h2>
<p>As mentioned, the underlying class for the whole  <code>subprocess</code>  module is the  <code>Popen</code>  class and the  <code>Popen()</code>  constructor. Each function in  <code>subprocess</code>  calls the  <code>Popen()</code>  constructor under the hood. Using the  <code>Popen()</code>  constructor gives you lots of control over the newly started subprocesses.</p>
<p>As a quick summary,  <code>run()</code>  is basically the  <code>Popen()</code>  class constructor, some setup, and then a call to the  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.communicate"><code>.communicate()</code></a>  method on the newly initialized  <code>Popen</code>  object. The  <code>.communicate()</code>  method is a blocking method that returns the  <code>stdout</code>  and  <code>stderr</code>  data once the process has ended.</p>
<p>The name of  <code>Popen</code>  comes from a similar  <a href="https://man7.org/linux/man-pages/man3/popen.3.html">UNIX command</a>  that stands for  <em>pipe open</em>. The command creates a pipe and then starts a new process that invokes the shell. The  <code>subprocess</code>  module, though, doesn’t automatically invoke the shell.</p>
<p>The  <code>run()</code>  function is a  <strong>blocking function</strong>, which means that interacting dynamically with a process isn’t possible with it. However, the  <code>Popen()</code>  constructor starts a new process and continues, leaving the process running in  <em>parallel</em>.</p>
<p>The developer of the reaction game that you were hacking earlier has released a new version of their game, one in which you can’t cheat by loading  <code>stdin</code>  with newlines:</p>
<p>Python</p>
<p>`# reaction_game_v2.py</p>
<p>from random import choice, random
from string import ascii_lowercase
from time import perf_counter, sleep</p>
<p>print(
&ldquo;A letter will appear on screen after a random amount of time,\n&rdquo;
&ldquo;when it appears, type the letter as fast as possible &quot;
&ldquo;and then press enter\n&rdquo;
)
print(&ldquo;Press enter when you are ready&rdquo;)
input()
print(&ldquo;Ok, get ready!&rdquo;)
sleep(random() * 5 + 2)
target_letter = choice(ascii_lowercase)
print(f&rdquo;=====\n= {target_letter} =\n=====\n&quot;)</p>
<p>start = perf_counter()
while True:
if input() == target_letter:
break
else:
print(&ldquo;Nope! Try again.&rdquo;)
end = perf_counter()</p>
<p>print(f&quot;You reacted in {(end  -  start)  *  1000:.0f} milliseconds!\nGoodbye!&quot;)`</p>
<p>Now the program will display a random character, and you need to press that exact character to have the game register your reaction time:</p>
<p>What’s to be done? First, you’ll need to come to grips with using  <code>Popen()</code>  with basic commands, and then you’ll find another way to exploit the reaction game.</p>
<h3 id="using--popenhttpsrealpythoncompython-subprocessusing-popen-permanent-link">Using  <code>Popen()</code><a href="https://realpython.com/python-subprocess/#using-popen" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#using--popenhttpsrealpythoncompython-subprocessusing-popen-permanent-link">#</a></h3>
<p>Using the  <code>Popen()</code>  constructor is very similar in appearance to using  <code>run()</code>. If there’s an argument that you can pass to  <code>run()</code>, then you’ll generally be able to pass it to  <code>Popen()</code>. The fundamental difference is that it’s not a  <a href="https://en.wikipedia.org/wiki/Blocking_(computing)">blocking</a>  call—rather than waiting until the process is finished, it’ll run the process in parallel. So you need to take this non-blocking nature into account if you want to read the new process’s output:</p>
<p>Python</p>
<p>`# popen_timer.py</p>
<p>import subprocess
from time import sleep</p>
<p>with subprocess.Popen(
[&ldquo;python&rdquo;, &ldquo;timer.py&rdquo;, &ldquo;5&rdquo;], stdout=subprocess.PIPE
) as process:</p>
<pre><code>def poll_and_read():
    print(f&quot;Output from poll: {process.poll()}&quot;)
    print(f&quot;Output from stdout: {process.stdout.read1().decode('utf-8')}&quot;)

poll_and_read()
sleep(3)
poll_and_read()
sleep(3)
poll_and_read()` 
</code></pre>
<p>This program calls the timer process in a  <a href="https://realpython.com/python-with-statement/">context manager</a>  and assigns  <code>stdout</code>  to a pipe. Then it runs the  <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen.poll"><code>.poll()</code></a>  method on the  <code>Popen</code>  object and reads its  <code>stdout</code>.</p>
<p>The  <code>.poll()</code>  method is a basic method to check if a process is still running. If it is, then  <code>.poll()</code>  returns  <code>None</code>. Otherwise, it’ll return the process’s exit code.</p>
<p>Then the program uses  <a href="https://docs.python.org/3/library/io.html#io.BufferedIOBase.read1"><code>.read1()</code></a>  to try and read as many bytes as are available at  <code>.stdout</code>.</p>
<p><strong>Note:</strong>  If you put the  <code>Popen</code>  object into  <em>text mode</em>  and then called  <code>.read()</code>  on  <code>.stdout</code>, the call to  <code>.read()</code>  would be  <em>blocking</em>  until it reached a newline. In this case, a newline would coincide with the end of the timer program. This behavior isn’t desired in this situation.</p>
<p>To read as many bytes as are available at that time, disregarding newlines, you need to read with  <code>.read1()</code>. It’s important to note that  <code>.read1()</code>  is only available on byte streams, so you need to make sure to deal with encodings manually and not use  <em>text mode</em>.</p>
<p>The output of this program first prints  <code>None</code>  because the process hasn’t yet finished. The program then prints what is available in  <code>stdout</code>  so far, which is the starting message and the first character of the animation.</p>
<p>After three seconds, the timer hasn’t finished, so you get  <code>None</code>  again, along with two more characters of the animation. After another three seconds, the process has ended, so  <code>.poll()</code>  produces  <code>0</code>, and you get the final characters of the animation and  <code>Done!</code>:</p>
<p>Text</p>
<p><code>Output from poll: None Output from stdout: Starting timer of 5 seconds . Output from poll: None Output from stdout: .. Output from poll: 0 Output from stdout: ..Done!</code></p>
<p>In this example, you’ve seen how the  <code>Popen()</code>  constructor works very differently from  <code>run()</code>. In most cases, you don’t need this kind of fine-grained control. That said, in the next sections, you’ll see how you can pipe one process into another, and how you can hack the new reaction game.</p>
<h3 id="connecting-two-processes-together-with-pipeshttpsrealpythoncompython-subprocessconnecting-two-processes-together-with-pipes-permanent-link">Connecting Two Processes Together With Pipes<a href="https://realpython.com/python-subprocess/#connecting-two-processes-together-with-pipes" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#connecting-two-processes-together-with-pipeshttpsrealpythoncompython-subprocessconnecting-two-processes-together-with-pipes-permanent-link">#</a></h3>
<p>As mentioned in a  <a href="https://realpython.com/python-subprocess/#pipe-simulation-with-run">previous section</a>, if you need to connect processes together with pipes, you need to use the  <code>Popen()</code>  constructor. This is mainly because  <code>run()</code>  is a blocking call, so by the time the next process starts, the first one has ended, meaning that you can’t directly link up to its  <code>stdout</code>.</p>
<p>This procedure will only be demonstrated for UNIX systems, because piping in Windows is far less common, as mentioned in the  <a href="https://realpython.com/python-subprocess/#pipe-simulation-with-run">simulating a pipe</a>  section:</p>
<p>Python</p>
<p>`# popen_pipe.py</p>
<p>import subprocess</p>
<p>ls_process = subprocess.Popen([&ldquo;ls&rdquo;, &ldquo;/usr/bin&rdquo;], stdout=subprocess.PIPE)
grep_process = subprocess.Popen(
[&ldquo;grep&rdquo;, &ldquo;python&rdquo;], stdin=ls_process.stdout, stdout=subprocess.PIPE
)</p>
<p>for line in grep_process.stdout:
print(line.decode(&ldquo;utf-8&rdquo;).strip())`</p>
<p>In this example, the two processes are started in parallel. They are joined with a common pipe, and the  <code>for</code>  loop takes care of reading the pipe at  <code>stdout</code>  to output the lines.</p>
<p>A key point to note is that in contrast to  <code>run()</code>, which returns a  <code>CompletedProcess</code>  object, the  <code>Popen()</code>  constructor returns a  <code>Popen</code>  object. The standard stream attributes of a  <code>CompletedProcess</code>  point to  <em>bytes objects or strings</em>, but the same attributes of a  <code>Popen</code>  object point to the  <em>actual streams</em>. This allows you to communicate with processes as they’re running.</p>
<p>Whether you really need to pipe processes into one another, though, is another matter. Ask yourself if there’s much to be lost by mediating the process with Python and using  <code>run()</code>  exclusively. There are some situations in which you really need  <code>Popen</code>, though, such as hacking the new version of the reaction time game.</p>
<h3 id="interacting-dynamically-with-a-processhttpsrealpythoncompython-subprocessinteracting-dynamically-with-a-process-permanent-link">Interacting Dynamically With a Process<a href="https://realpython.com/python-subprocess/#interacting-dynamically-with-a-process" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#interacting-dynamically-with-a-processhttpsrealpythoncompython-subprocessinteracting-dynamically-with-a-process-permanent-link">#</a></h3>
<p>Now that you know you can use  <code>Popen()</code>  to interact with a process dynamically as it runs, it’s time to turn that knowledge toward exploiting the reaction time game again:</p>
<p>Python</p>
<p>`# reaction_game_v2_hack.py</p>
<p>import subprocess</p>
<p>def get_char(process):
character = process.stdout.read1(1)
print(
character.decode(&ldquo;utf-8&rdquo;),
end=&quot;&quot;,
flush=True,  # Unbuffered print
)
return character.decode(&ldquo;utf-8&rdquo;)</p>
<p>def search_for_output(strings, process):
buffer = &quot;&quot;
while not any(string in buffer for string in strings):
buffer = buffer + get_char(process)</p>
<p>with subprocess.Popen(
[
&ldquo;python&rdquo;,
&ldquo;-u&rdquo;,  # Unbuffered stdout and stderr
&ldquo;reaction_game_v2.py&rdquo;,
],
stdin=subprocess.PIPE,
stdout=subprocess.PIPE,
) as process:
process.stdin.write(b&quot;\n&quot;)
process.stdin.flush()
search_for_output([&quot;==\n= &ldquo;, &ldquo;==\r\n= &ldquo;], process)
target_char = get_char(process)
stdout, stderr = process.communicate(
input=f&rdquo;{target_char}\n&rdquo;.encode(&ldquo;utf-8&rdquo;), timeout=10
)
print(stdout.decode(&ldquo;utf-8&rdquo;))`</p>
<p>With this script, you’re taking complete control of the buffering of a process, which is why you pass in arguments such as  <code>-u</code>  to the Python process and  <a href="https://realpython.com/python-flush-print-output/"><code>flush=True</code>  to  <code>print()</code></a>. These arguments are to ensure that no extra buffering is taking place.</p>
<p>The script works by using a function that’ll search for one of a list of strings by grabbing one character at a time from the process’s  <code>stdout</code>. As each character comes through, the script will search for the string.</p>
<p><strong>Note:</strong>  To make this work on both Windows and UNIX-based systems, two strings are searched for: either  <code>&quot;==\n= &quot;</code>  or  <code>&quot;==\r\n= &quot;</code>. The Windows-style  <a href="https://en.wikipedia.org/wiki/Carriage_return">carriage return</a>  along with the typical newline is required on Windows systems.</p>
<p>After the script has found one of the target strings, which in this case is the sequence of characters before the target letter, it’ll then grab the next character and write that letter to the process’s  <code>stdin</code>  followed by a newline:</p>
<p>At one millisecond, it’s not quite as good as the original hack, but it’s still very much superhuman. Well done!</p>
<p>With all this fun aside, interacting with processes using  <code>Popen</code>  can be very tricky and is prone to errors. First, see if you can use  <code>run()</code>  exclusively before resorting to the  <code>Popen()</code>  constructor.</p>
<p>If you really need to interact with processes at this level, the  <a href="https://realpython.com/async-io-python/"><code>asyncio</code></a>  module has a  <a href="https://docs.python.org/3/library/asyncio-subprocess.html">high-level API</a>  to create and manage subprocesses.</p>
<p>The  <code>asyncio</code>  subprocess functionality is intended for more complex uses of  <code>subprocess</code>  where you may need to orchestrate various processes. This might be the case if you’re performing complex processing of many image, video, or audio files, for example. If you’re using  <code>subprocess</code>  at this level, then you’re probably building a library.</p>
<h2 id="conclusionhttpsrealpythoncompython-subprocessconclusion-permanent-link">Conclusion<a href="https://realpython.com/python-subprocess/#conclusion" title="Permanent link"></a><a hidden class="anchor" aria-hidden="true" href="#conclusionhttpsrealpythoncompython-subprocessconclusion-permanent-link">#</a></h2>
<p>You’ve completed your journey into the Python  <code>subprocess</code>  module. You should now be able to decide whether  <code>subprocess</code>  is a good fit for your problem. You should also be able to decide whether you need to invoke the shell. Aside from that, you should be able to run subprocesses and interact with their inputs and outputs.</p>
<p>You should also be able to start exploring the possibilities of process manipulation with the  <code>Popen()</code>  constructor.</p>
<p>Along the way, you’ve:</p>
<ul>
<li>Learned about  <strong>processes in general</strong></li>
<li>Gone from basic to advanced  <strong>usage of  <code>subprocess</code></strong></li>
<li>Understood how to  <strong>raise and handle errors</strong>  when using  <code>run()</code></li>
<li>Gotten familiar with  <strong>shells</strong>  and their intricacies on both  <strong>Windows and UNIX-like systems</strong></li>
<li>Explored the  <strong>use cases for  <code>subprocess</code></strong>  through  <strong>practical examples</strong></li>
<li>Understood the standard  <strong>I/O streams</strong>  and how to  <strong>interact with them</strong></li>
<li>Come to grips with  <strong>pipes</strong>, both in the shell and with  <code>subprocess</code></li>
<li>Looked at the  <strong><code>Popen()</code>  constructor</strong>  and used it for some advanced process communication</li>
</ul>
<p>You’re now ready to bring a variety of executables into your Pythonic sphere of influence!</p>
<h4 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h4>
<h1 id="standard-commands-in-django-installation">STANDARD COMMANDS IN DJANGO INSTALLATION#<a hidden class="anchor" aria-hidden="true" href="#standard-commands-in-django-installation">#</a></h1>
<ol>
<li>python3 -m venv venv</li>
</ol>
<h1 id="useful-property-and-method-in-django">USEFUL PROPERTY AND METHOD IN DJANGO<a hidden class="anchor" aria-hidden="true" href="#useful-property-and-method-in-django">#</a></h1>
<h2 id="luso-di-queryset">L&rsquo;uso di Queryset<a hidden class="anchor" aria-hidden="true" href="#luso-di-queryset">#</a></h2>
<p>Django querysets have several notable properties and methods that provide flexibility and ease of use when interacting with the database. Here are some key properties and methods of querysets:</p>
<p>Chaining:</p>
<p>Querysets are lazy, meaning they don&rsquo;t hit the database until an action is performed.
Multiple filters and operations can be chained together to build complex queries.
Example:</p>
<p>python
Copy code
queryset = Model.objects.filter(field1=value1).exclude(field2=value2).order_by(&rsquo;-date_created&rsquo;)
Slicing:</p>
<p>Querysets can be sliced to retrieve a specific range of objects.
Example:</p>
<p>python
Copy code
queryset = Model.objects.all()
result_slice = queryset[5:10]  # Retrieve objects 5 through 9
Count:</p>
<p>The count method returns the number of objects in the queryset without fetching the actual objects.
Example:</p>
<p>python
Copy code
count = queryset.count()
Distinct:</p>
<p>The distinct method eliminates duplicate rows from the queryset.
Example:</p>
<p>python
Copy code
distinct_values = Model.objects.values(&lsquo;field&rsquo;).distinct()
Aggregate:</p>
<p>The aggregate method allows for the calculation of aggregate values (e.g., sum, average) on the queryset.
Example:</p>
<p>python
Copy code
from django.db.models import Avg
average_value = Model.objects.aggregate(avg_value=Avg(&rsquo;numeric_field&rsquo;))
Values and ValuesList:</p>
<p>The values method returns a queryset of dictionaries representing the values of specific fields.
The values_list method returns a queryset of tuples representing the values of specific fields.
Example:</p>
<p>python
Copy code
values_queryset = Model.objects.values(&lsquo;field1&rsquo;, &lsquo;field2&rsquo;)
values_list_queryset = Model.objects.values_list(&lsquo;field1&rsquo;, &lsquo;field2&rsquo;)
Exists:</p>
<p>The exists method checks if there are any records in the queryset.
Example:</p>
<p>queryset_exists = Model.objects.filter(field=value).exists()
Update and Delete:</p>
<p>The update method modifies multiple records in the database without fetching them.
The delete method deletes records from the database without fetching them.
Example:</p>
<p>python
Copy code
Model.objects.filter(field=value).update(status=&lsquo;new_status&rsquo;)
Model.objects.filter(field=value).delete()
These are just a few of the many properties and methods provided by Django querysets. They offer a powerful and expressive way to interact with the database.</p>
<h3 id="esempio-in-wagtail">Esempio in wagtail<a hidden class="anchor" aria-hidden="true" href="#esempio-in-wagtail">#</a></h3>
<p>from datetime import datetime, timedelta, timezone
from django.shortcuts import render
from wagtail.core.models import Page
from your_app.models import RoundPage  # Replace &lsquo;your_app&rsquo; with the actual name of your app
from path.to.get_deadline_date_for import get_deadline_date_for  # Replace &lsquo;path.to&rsquo; with the actual path</p>
<p>def docs_internship(request):
now = datetime.now(timezone.utc)
today = get_deadline_date_for(now)
five_weeks_ago = today - timedelta(days=7 * 5)</p>
<pre><code>applicant_round = RoundPage.objects.filter(
    pingnew__lte=today,
    internannounce__gt=today,
).first()

intern_round = RoundPage.objects.filter(
    internannounce__lte=today,
    internends__gt=five_weeks_ago,
).first()

return render(request, 'home/docs/internship_guide.html', {
    'applicant_round': applicant_round,
    'intern_round': intern_round,
})
</code></pre>
<h1 id="git--github-1">GIT &amp; GITHUB<a hidden class="anchor" aria-hidden="true" href="#git--github-1">#</a></h1>
<p>Riferimenti <a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">Mastering MarkDown</a></p>
<h3 id="ricordarsi-di-aggiungere-gitgnore-1">Ricordarsi di aggiungere .gitgnore<a hidden class="anchor" aria-hidden="true" href="#ricordarsi-di-aggiungere-gitgnore-1">#</a></h3>
<p><strong>- git add .gitignore</strong>
<strong>- git commit -m &ldquo;Add .gitignore to exclude compiled Python files&rdquo;</strong></p>
<h3 id="per-effettuare-il-push-da-origine-a-remoto-1">Per effettuare il push da origine a remoto<a hidden class="anchor" aria-hidden="true" href="#per-effettuare-il-push-da-origine-a-remoto-1">#</a></h3>
<p><strong>- git push origin implementazione-pagina</strong></p>
<h3 id="switch-to-the-new-branch-1">Switch to the New Branch:<a hidden class="anchor" aria-hidden="true" href="#switch-to-the-new-branch-1">#</a></h3>
<p><strong>- git checkout new-branch-name</strong></p>
<h3 id="creare-una-nuova-branch-e-posizionarsi-sulla-stessa-1">Creare una nuova branch e posizionarsi sulla stessa<a hidden class="anchor" aria-hidden="true" href="#creare-una-nuova-branch-e-posizionarsi-sulla-stessa-1">#</a></h3>
<h2 id="--git-checkout--b-new-branch-name"><strong>- git checkout -b new-branch-name</strong><a hidden class="anchor" aria-hidden="true" href="#--git-checkout--b-new-branch-name">#</a></h2>
<h2 id="il-comando-può-essere-visto-come-la-sintesi-dei-due-seguenti-comandi"><em>Il comando può essere visto come la sintesi dei due seguenti comandi:</em><a hidden class="anchor" aria-hidden="true" href="#il-comando-può-essere-visto-come-la-sintesi-dei-due-seguenti-comandi">#</a></h2>
<p><strong>- git branch new-branch-name  # Create a new branch</strong>
<strong>- git checkout new-branch-name  # Switch to the new branch</strong></p>
<h2 id="youve-created-a-new-branch-template-tutorial-without-committing-changes-on-your-existing-branch-implementazione-pagina-1">You&rsquo;ve created a new branch (template-tutorial) without committing changes on your existing branch (implementazione-pagina)<a hidden class="anchor" aria-hidden="true" href="#youve-created-a-new-branch-template-tutorial-without-committing-changes-on-your-existing-branch-implementazione-pagina-1">#</a></h2>
<p>To address this, you&rsquo;ll need to follow these steps to commit your changes on the implementazione-pagina branch and then switch back to the template-tutorial branch. Here&rsquo;s a step-by-step guide:</p>
<ul>
<li>Commit Changes on implementazione-pagina:
Assuming you are currently on the template-tutorial branch, ** switch back to the implementazione-pagina branch:**</li>
</ul>
<p><code>git checkout implementazione-pagina</code></p>
<p>Now, add and commit your changes:</p>
<p><code>git add .</code>
<code>git commit -m &quot;Your commit message here&quot;</code></p>
<ul>
<li><strong>Push Changes to Remote (implementazione-pagina):</strong>
Assuming the remote branch is named implementazione-pagina:</li>
</ul>
<p><code>git push origin implementazione-pagina</code></p>
<ul>
<li>** Switch Back to template-tutorial:**
Now, switch back to the template-tutorial branch:</li>
</ul>
<p><code>git checkout template-tutorial</code></p>
<p>*** If you haven&rsquo;t pushed the template-tutorial branch yet, you can push it to the remote repository when you&rsquo;re ready:***</p>
<p><code>git push origin template-tutorial</code></p>
<p>*** How can see from my vsc local if a git branch is present also in the remote github? ***</p>
<p><code>git fetch --all git branch -a </code>
This fetches all branches from the remote repository and lists both local and remote branches. Remote branches are prefixed with &ldquo;remotes/origin/&rdquo;. Check if your branch is listed among the remotes.</p>
<p>*** Come posso creare una nuova branch in local, e poi crearla anche in Github, poi effettuare il push e rendere questa branch principale? ***</p>
<p>Create a new branch locally and switch to it (chimiamo la nuova branch template-tutorial):
<code>git checkout -b template-tutorial</code></p>
<p>Push the new branch to GitHub - *** If you want to make sure that the new branch on GitHub exactly matches your local branch, you can use the -u (or &ndash;set-upstream) option when pushing for the first time ***</p>
<p><code>git push -u origin template-tutorial</code></p>
<p>Set the upstream for the new branch:</p>
<p><code>git branch --set-upstream-to=origin/template-tutorial template-tutorial</code>![alt]( &lsquo;{&ldquo;class&rdquo;: &ldquo;&rdquo;, &ldquo;title&rdquo;: &ldquo;&rdquo;}&rsquo;)</p>
<p>Now, further pushes can be simplified to:</p>
<p><code>git push</code></p>
<p>To revert the changes and go back to the original commit before the changes, you can use the following commands:
<code>git reset --hard HEAD git clean -fd</code></p>
<p>The first command (git reset &ndash;hard HEAD) resets your branch to the latest commit, discarding changes. The second command (git clean -fd) removes untracked files and directories. Use them with caution, as they are not reversible.</p>
<p>-fd stands for what?
In the context of the git clean command:</p>
<p>-f stands for force.
-d stands for directory.
Together, -fd means force removal of untracked directories. This option is used to remove untracked files and directories forcefully.</p>
<h2 id="delete-a-local-branch-and-also-delete-it-on-the-remote-repository-on-github-1">delete a local branch and also delete it on the remote repository on GitHub<a hidden class="anchor" aria-hidden="true" href="#delete-a-local-branch-and-also-delete-it-on-the-remote-repository-on-github-1">#</a></h2>
<p>Delete the local branch:</p>
<p><code>git branch -d branch_name</code>![alt]( &lsquo;{&ldquo;class&rdquo;: &ldquo;&rdquo;, &ldquo;title&rdquo;: &ldquo;&rdquo;}&rsquo;)</p>
<p>Replace branch_name with the name of the branch you want to delete.</p>
<p>If the branch contains unmerged changes, you might need to force delete it:</p>
<p><code>git branch -D branch_name</code></p>
<p>Delete the remote branch:</p>
<p><code>git push origin --delete branch_name</code></p>
<p>This will delete the branch on the remote repository (GitHub).</p>
<p>Update your local repository to reflect the changes on the remote:</p>
<p><code>git fetch --prune</code></p>
<p>The &ndash;prune flag removes any remote tracking branches that no longer exist on the remote.</p>
<h2 id="i-want-to-synch-another-an-oldest-branch-named-template-tutorial-with-a-newest-branch-named-template-sheetlike-and-after-delete-this-last-one-template-sheetlike-1">I want to synch another an oldest branch named &ldquo;template-tutorial&rdquo; with a newest branch named template-sheetlike and after delete this last one (template-sheetlike)<a hidden class="anchor" aria-hidden="true" href="#i-want-to-synch-another-an-oldest-branch-named-template-tutorial-with-a-newest-branch-named-template-sheetlike-and-after-delete-this-last-one-template-sheetlike-1">#</a></h2>
<p>Switch to the template-tutorial branch:
<code>git switch template-tutorial</code></p>
<p>Rebase template-sheetlike onto template-tutorial:
<code>git rebase template-sheetlike</code></p>
<p>Push the changes to the remote repository:
<code>git push origin template-tutorial --force</code>
Note: Force-pushing after a rebase rewrites the commit history. Use it with caution, especially if the branch has already been shared with others</p>
<p>Delete the template-sheetlike branch:
<code>git branch -d template-sheetlike</code>
<code>git push origin --delete template-sheetlike</code></p>
<h3 id="some-useful-notes-1">some useful notes<a hidden class="anchor" aria-hidden="true" href="#some-useful-notes-1">#</a></h3>
<p>Merge:
Creates Merge Commits: When you merge one branch into another, Git creates a new merge commit that has two parent commits: <strong>one from the branch you&rsquo;re merging and another from the branch you&rsquo;re merging into.
This results in a non-linear history with multiple branches merging into each other</strong>
Preserves Original History:</p>
<p>The original commits from both branches remain unchanged. This approach keeps a clear record of when changes were made on each branch.</p>
<h6 id="rebase">Rebase:<a hidden class="anchor" aria-hidden="true" href="#rebase">#</a></h6>
<p>Linearizes History:</p>
<p>Rebase is used to linearize the commit history. It moves or combines a sequence of commits to a new base commit.
When you rebase one branch onto another, it effectively transplants the entire branch onto the tip of the other branch, creating a linear history.
No Merge Commits:</p>
<p>Unlike merge, rebase doesn&rsquo;t create additional merge commits.
It can result in a cleaner, more linear history.
When to Choose Each Approach:</p>
<h6 id="merge">Merge:<a hidden class="anchor" aria-hidden="true" href="#merge">#</a></h6>
<p>Use merge when you want to preserve the original commit history, especially when collaborating with others.
Good for feature branches and when you want to maintain a clear record of branch integration points.
Rebase:</p>
<p>Use rebase when you want a clean, linear history and don&rsquo;t mind rewriting commits.
Useful for feature branches before merging into a shared branch to avoid unnecessary merge commits.
Switch vs. Checkout:
git switch is a more modern and user-friendly command introduced in recent versions of Git. It is designed specifically for branch switching. If you&rsquo;re using a version of Git that supports git switch, you can replace git checkout with git switch:</p>
<h6 id="switching-branch">Switching Branch:<a hidden class="anchor" aria-hidden="true" href="#switching-branch">#</a></h6>
<p>git switch template-tutorial
Both commands essentially do the same thing in this context, but git switch provides a clearer and more explicit syntax for branch-related operations. If your Git version supports it, feel free to use git switch instead of git checkout.</p>
<h1 id="yaml-protocol">YAML PROTOCOL<a hidden class="anchor" aria-hidden="true" href="#yaml-protocol">#</a></h1>
<p>YAML (YAML Ain&rsquo;t Markup Language) is a human-readable data serialization format that is often used for configuration files and data exchange between languages with different data structures. In a YAML file, indentation is crucial, as it determines the structure of the data. Here are some details on writing YAML files:</p>
<h3 id="1-indentation">1. <strong>Indentation:</strong><a hidden class="anchor" aria-hidden="true" href="#1-indentation">#</a></h3>
<ul>
<li>YAML uses indentation to represent the structure of the data. Spaces are recommended for indentation (not tabs), and the number of spaces is significant. Typically, two spaces or four spaces are used for each level of indentation.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">codekey1</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">key2</span>: <span style="color:#ae81ff">value</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">key3</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">item1</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#ae81ff">item2 </span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">### 2. **Key-Value Pairs:**</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">YAML uses a simple key-value format. Keys and values are separated by a colon, and the key-value pair is represented on a new line.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">```yaml</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">codename</span>: <span style="color:#ae81ff">John Doe</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">age</span>: <span style="color:#ae81ff">30</span>
</span></span></code></pre></div><h3 id="3-lists">3. <strong>Lists:</strong><a hidden class="anchor" aria-hidden="true" href="#3-lists">#</a></h3>
<ul>
<li>Lists are represented using a hyphen followed by a space (<code>- </code>). Lists can contain any combination of values, and each item is indented under the list key.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">codefruits</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">apple</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">banana</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#ae81ff">orange</span>
</span></span></code></pre></div><h3 id="4-dictionaries-mappings">4. <strong>Dictionaries (Mappings):</strong><a hidden class="anchor" aria-hidden="true" href="#4-dictionaries-mappings">#</a></h3>
<ul>
<li>Dictionaries or mappings are represented using key-value pairs, and the key-value pairs are indented under the dictionary key.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">John Doe</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">age</span>: <span style="color:#ae81ff">30</span>
</span></span></code></pre></div><h3 id="5-strings">5. <strong>Strings:</strong><a hidden class="anchor" aria-hidden="true" href="#5-strings">#</a></h3>
<ul>
<li>Strings can be written without quotes. However, quotes are used when a string contains special characters or reserved words.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">message</span>: <span style="color:#ae81ff">Hello, World!</span>
</span></span></code></pre></div><h3 id="6-multiline-strings">6. <strong>Multiline Strings:</strong><a hidden class="anchor" aria-hidden="true" href="#6-multiline-strings">#</a></h3>
<ul>
<li>Multiline strings can be represented using the <code>|</code> or <code>&gt;</code> characters. The <code>|</code> preserves newlines, while <code>&gt;</code> folds newlines.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">codemultiline</span>: |<span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  This is a multiline
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  string in YAML.</span>  
</span></span></code></pre></div><h3 id="7-comments">7. <strong>Comments:</strong><a hidden class="anchor" aria-hidden="true" href="#7-comments">#</a></h3>
<ul>
<li>Comments start with the <code>#</code> character and continue to the end of the line.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#ae81ff">code# This is a comment</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">key</span>: <span style="color:#ae81ff">value</span>
</span></span></code></pre></div><h3 id="8-anchors-and-aliases">8. <strong>Anchors and Aliases:</strong><a hidden class="anchor" aria-hidden="true" href="#8-anchors-and-aliases">#</a></h3>
<ul>
<li>YAML supports anchors (<code>&amp;</code>) and aliases (<code>*</code>) for creating references to the same data in multiple places.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">codefirst</span>: <span style="color:#75715e">&amp;anchor_name</span> <span style="color:#ae81ff">John Doe</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">second</span>: <span style="color:#75715e">*anchor_name</span>
</span></span></code></pre></div><p>These are some basic conventions for writing YAML files. Ensure that you are consistent with indentation, use proper syntax for key-value pairs, lists, and dictionaries, and pay attention to the structure of your YAML documents. Many programming languages and tools use YAML, and understanding its syntax is beneficial for working with various configurations and data files.</p>
<h1 id="wagtail-1">WAGTAIL<a hidden class="anchor" aria-hidden="true" href="#wagtail-1">#</a></h1>
<h3 id="how-to-use-streamfield-for-mixed-contenthttpsdocswagtailorgenv521topicsstreamfieldhtml-1"><a href="https://docs.wagtail.org/en/v5.2.1/topics/streamfield.html">How to use StreamField for mixed content</a><a hidden class="anchor" aria-hidden="true" href="#how-to-use-streamfield-for-mixed-contenthttpsdocswagtailorgenv521topicsstreamfieldhtml-1">#</a></h3>
<hr>
<h3 id="streamfield-block-referencehttpsdocswagtailorgenv521referencestreamfieldblockshtmlstreamfield-block-reference-1"><a href="https://docs.wagtail.org/en/v5.2.1/reference/streamfield/blocks.html#streamfield-block-reference">StreamField block reference</a><a hidden class="anchor" aria-hidden="true" href="#streamfield-block-referencehttpsdocswagtailorgenv521referencestreamfieldblockshtmlstreamfield-block-reference-1">#</a></h3>
<h3 id="templating---jinjahttpsdocswagtailorgenv522referencejinja2html-1"><a href="https://docs.wagtail.org/en/v5.2.2/reference/jinja2.html">Templating - Jinja</a><a hidden class="anchor" aria-hidden="true" href="#templating---jinjahttpsdocswagtailorgenv522referencejinja2html-1">#</a></h3>
<h4 id="wrinting-templateshttpsdocswagtailorgenv522topicswriting_templateshtmlwriting-templates-1"><a href="https://docs.wagtail.org/en/v5.2.2/topics/writing_templates.html#writing-templates">Wrinting Templates</a><a hidden class="anchor" aria-hidden="true" href="#wrinting-templateshttpsdocswagtailorgenv522topicswriting_templateshtmlwriting-templates-1">#</a></h4>
<p>La regola da seguire è questa:</p>
<p><!-- raw HTML omitted --><code>code: class wagtail.fields.StreamField(blocks, use_json_field=None, blank=False, min_num=None, max_num=None, block_counts=None, collapsed=False)</code><!-- raw HTML omitted --></p>
<p>E questa la spiegazione:</p>
<p><strong>class wagtail.fields.StreamField</strong>: This line defines a class named StreamField in the wagtail.fields module.</p>
<p><strong>(blocks, use_json_field=None, blank=False, min_num=None, max_num=None, block_counts=None, collapsed=False)</strong>: These are the parameters that the StreamField class constructor (<strong>init</strong> method) accepts. Let&rsquo;s go through each one:</p>
<p><strong>blocks</strong>: This is a required parameter. It represents the blocks that can be used in the stream. It seems like it should be provided when creating an instance of StreamField.</p>
<p><strong>use_json_field</strong>=None: This is an optional parameter with a default value of None. It allows you to specify whether to use a JSON field for storage. If not provided, it defaults to None.</p>
<p><strong>blank</strong>=False: This is an optional parameter with a default value of False. It indicates whether the field is allowed to be blank when used in a form. If not provided, it defaults to False.</p>
<p><strong>min_num</strong>=None: This is an optional parameter with a default value of None. It specifies the minimum number of blocks required. If not provided, it defaults to None.</p>
<p><strong>max_num</strong>=None: This is an optional parameter with a default value of None. It specifies the maximum number of blocks allowed. If not provided, it defaults to None.</p>
<p><strong>block_counts</strong>=None: This is an optional parameter with a default value of None. It seems related to counting blocks. If not provided, it defaults to None.</p>
<p><strong>collapsed</strong>=False: This is an optional parameter with a default value of False. It indicates whether the blocks should be collapsed in the Wagtail admin interface. If not provided, it defaults to False</p>
<p>Così ad esempio per questo codice. Possiamo effettuare il breakdown di questo codice in base alla regola definita:</p>
<p>`class BlogPage(Page):
author = models.CharField(max_length=255, default=&lsquo;Default Author&rsquo;)
date = models.DateField(&ldquo;Post date&rdquo;)</p>
<pre><code>body = StreamField(
    [
        ('heading', blocks.CharBlock(form_classname=&quot;title&quot;)),
        ('paragraph', blocks.RichTextBlock()),
        ('image', ImageChooserBlock()),
        ('code', CodeBlock()),
        ('raw_html', RawHTMLBlock()),
    ],
    use_json_field=True
)

content_panels = Page.content_panels + [
    FieldPanel('author'),
    FieldPanel('date'),
    FieldPanel('body'),
]
</code></pre>
<p>`</p>
<p><strong>author</strong> = models.CharField(max_length=255, default=&lsquo;Default Author&rsquo;): This line defines a character field named author in the BlogPage class. It has a maximum length of 255 characters and a default value of &lsquo;Default Author&rsquo;.</p>
<p><strong>date</strong> = models.DateField(&ldquo;Post date&rdquo;): This line defines a date field named date in the BlogPage class with a human-readable name &ldquo;Post date&rdquo;.</p>
<p><strong>body</strong> = StreamField([&hellip;], use_json_field=True): This line defines a stream field named body in the BlogPage class. It allows the inclusion of different block types, such as CharBlock, RichTextBlock, ImageChooserBlock, CodeBlock, and RawHTMLBlock. <strong>The use_json_field parameter is set to True, indicating that a JSON field will be used for storage.</strong></p>
<p><strong>content_panels</strong> = Page.content_panels + [&hellip;]: This line defines the content panels for the Wagtail admin interface. It includes panels for &lsquo;author&rsquo;, &lsquo;date&rsquo;, and &lsquo;body&rsquo;.</p>
<p>Poi in particolare:</p>
<h4 id="content_panels-definition-in-the-blogpage-class-1">content_panels definition in the BlogPage class:####<a hidden class="anchor" aria-hidden="true" href="#content_panels-definition-in-the-blogpage-class-1">#</a></h4>
<p><code>content_panels = Page.content_panels + [ FieldPanel('author'), FieldPanel('date'), FieldPanel('body'), ]</code></p>
<p><strong>Page.content_panels</strong>: This part includes the content panels defined in the parent Page class. It allows the inclusion of standard page fields, such as title, slug, publish date, etc.</p>
<p><strong>FieldPanel(&lsquo;author&rsquo;)</strong>: This adds a panel for the author field to the content panels. It&rsquo;s likely a simple text input for the author&rsquo;s name.</p>
<p><strong>FieldPanel(&lsquo;date&rsquo;)</strong>: This adds a panel for the date field, probably a date picker for selecting the post date.</p>
<p><strong>FieldPanel(&lsquo;body&rsquo;)</strong>: This adds a panel for the body field. Since it&rsquo;s a StreamField, it might include a dynamic set of blocks like headings, paragraphs, images, code blocks, and raw HTML.</p>
<h2 id="uso-dello-structbox-in-wagtail-1">Uso dello StructBox in Wagtail<a hidden class="anchor" aria-hidden="true" href="#uso-dello-structbox-in-wagtail-1">#</a></h2>
<p>Example Model with StructBlock
Consider a simple model for a page with a StreamField containing a StructBlock named &lsquo;person&rsquo;:</p>
<p><!-- raw HTML omitted -->` # models.py
from django.db import models
from wagtail.core.fields import StreamField
from wagtail.core import blocks
from wagtail.images.blocks import ImageChooserBlock
from wagtail.core.models import Page
from wagtail.admin.edit_handlers import FieldPanel, StreamFieldPanel</p>
<p>class BlogPage(Page):
body = StreamField([
(&lsquo;person&rsquo;, blocks.StructBlock([
(&lsquo;first_name&rsquo;, blocks.CharBlock()),
(&lsquo;surname&rsquo;, blocks.CharBlock()),
(&lsquo;photo&rsquo;, ImageChooserBlock(required=False)),
(&lsquo;biography&rsquo;, blocks.RichTextBlock()),
])),
(&lsquo;heading&rsquo;, blocks.CharBlock(form_classname=&ldquo;title&rdquo;)),
(&lsquo;paragraph&rsquo;, blocks.RichTextBlock()),
(&lsquo;image&rsquo;, ImageChooserBlock()),
], use_json_field=True)</p>
<pre><code>content_panels = Page.content_panels + [
    StreamFieldPanel('body'),
] `&lt;/span&gt;
</code></pre>
<p>Diagram Explanation
Blog Page with StreamField and StructBlock:</p>
<p>A BlogPage contains a StreamField named &lsquo;body&rsquo;.
&lsquo;body&rsquo; includes various block types, one of which is a StructBlock named &lsquo;person&rsquo;.
Person StructBlock:</p>
<p>The &lsquo;person&rsquo; block is a StructBlock containing fields like &lsquo;first_name&rsquo;, &lsquo;surname&rsquo;, &lsquo;photo&rsquo;, and &lsquo;biography&rsquo;.
Block Instances:</p>
<p>When editing a BlogPage, you can add multiple instances of different block types, including &lsquo;person&rsquo;. Each &lsquo;person&rsquo; block instance can have its own &lsquo;first_name&rsquo;, &lsquo;surname&rsquo;, &lsquo;photo&rsquo;, and &lsquo;biography&rsquo;</p>
<p><em><strong>Template Implementation</strong></em></p>
<p>To render this in a template, you can use the following:</p>
<pre tabindex="0"><code>`&lt;!-- templates/blog_page.html --&gt;
{% extends &#34;base.html&#34; %}

{% block content %}
    &lt;article&gt;
        {% for block in page.body %}
            {% if block.block_type == &#39;person&#39; %}
                &lt;div class=&#34;person&#34;&gt;
                    {% if block.value.photo %}
                        {% image block.value.photo width-400 %}
                    {% endif %}
                    &lt;h2&gt;{{ block.value.first_name }} {{ block.value.surname }}&lt;/h2&gt;
                    {{ block.value.biography }}
                &lt;/div&gt;
            {% else %}
                {# Rendering for other block types #}
                &lt;section class=&#34;{{ block.block_type }}&#34;&gt;
                    {% include_block block %}
                &lt;/section&gt;
            {% endif %}
        {% endfor %}
    &lt;/article&gt;
{% endblock %} 
</code></pre><hr>
<p><em><strong>Database Initialization</strong></em></p>
<p>When you run makemigrations and migrate after adding the StructBlock to your model, the necessary database tables and fields are created. The use_json_field=True parameter in the StreamField indicates that the data for the StreamField will be stored as JSON in the database.</p>
<p>Here&rsquo;s how you perform the migration:</p>
<p>bash
Copy code
python manage.py makemigrations
python manage.py migrate
After migration, you can create or edit a BlogPage instance through the Wagtail admin interface. The StructBlock fields will be part of the form for each &lsquo;person&rsquo; block within the &lsquo;body&rsquo; StreamField.</p>
<h3 id="riferimenti-rapidi-wagtail-1">Riferimenti Rapidi Wagtail<a hidden class="anchor" aria-hidden="true" href="#riferimenti-rapidi-wagtail-1">#</a></h3>
<ul>
<li>
<p><a href="https://www.outreachy.org/docs/internship/">Caso Studio web page</a></p>
</li>
<li>
<p><a href="https://docs.wagtail.org/en/v5.2.1/topics/streamfield.html">How to use Streamfield for mixed content</a></p>
</li>
<li>
<p><a href="https://docs.wagtail.org/en/v5.2.1/reference/streamfield/blocks.html#streamfield-block-reference">StreamFieldBlock Reference</a></p>
</li>
</ul>
<h1 id="caratteristiche-avanzate-di-diango---wagtail-1">Caratteristiche avanzate di Diango - Wagtail<a hidden class="anchor" aria-hidden="true" href="#caratteristiche-avanzate-di-diango---wagtail-1">#</a></h1>
<p>Uno dei porblemi che si incontrano effettuando delle tabelle all&rsquo;interno di wagtail ma in generale anche in Django è il caso pratico della renderizzazione degli headers di una tabella se si vogliono recuperare ad esempio i dati all&rsquo;interno delle celle della tabella.</p>
<p><strong>Attenzione!</strong>: questo progetto è illustrato al solo fine didattico. Infatti nell&rsquo;applicazione concreta vi sono notevoli problemi nell&rsquo;effettuare il passaggio dei dati da Django a Wagtail. Per cui ai fini applicativi la via migliore per rendere i dati da Django a Wagtail è quella della costruzione di un API attraverso serializer (vedere capitolo)</p>
<p>Questo codice di esempio effettua il debug su ciò che è successo:</p>
<p>`<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
{% for column in block.value.columns %}
<!-- raw HTML omitted -->
{{ column.header|default:&ldquo;Column Header&rdquo; }}</p>
<pre><code>            &lt;!-- Debugging statements --&gt;
            &lt;p&gt;block.value.rows: {{ block.value.rows|list }}&lt;/p&gt;
            &lt;p&gt;block.value.rows.1: {{ block.value.rows|list.1|default:&quot;&quot; }}&lt;/p&gt;
            
            {% with block.value.rows|list.1|default:&quot;&quot; as row_values %}
                {{ row_values.0|default:&quot;&quot; }}
            {% endwith %}
        &lt;/th&gt;
    {% endfor %}
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<pre><code>                                &lt;th&gt;
                                    Column Header
                                    
                                    &lt;!-- Debugging statements --&gt;
                                    &lt;p&gt;block.value.rows: &amp;lt;generator object TypedTable.rows at 0x7f08958de2e0&amp;gt;&lt;/p&gt;
                                    &lt;p&gt;block.value.rows.1: &lt;/p&gt; `
</code></pre>
<p>Approfondendo la ricerca si artriva a tale indicazione
:::caution
The issue seems to be related to the fact that block.value.rows is a generator object. In Python, generators are lazy and can be consumed only once. If you try to iterate through the generator more than once, you will get an empty result on subsequent iterations.</p>
<p>In your case, it seems like the generator has been consumed once, which is why when you try to access block.value.rows.1, it doesn&rsquo;t contain any values.</p>
<p>To address this issue, you might want to convert the generator to a list so that you can iterate through it multiple times. However, since you are using the TypedTableBlock from wagtail.contrib.typed_table_block, you might need to adjust how you access the rows.</p>
<p>Here is a modification that converts the generator to a list before using it:</p>
<p>django
Copy code</p>
<!-- raw HTML omitted -->
<pre><code>            &lt;!-- Debugging statements --&gt;
            &lt;p&gt;block.value.rows: {{ block.value.rows|list }}&lt;/p&gt;
            &lt;p&gt;block.value.rows.1: {{ block.value.rows|list.1|default:&quot;&quot; }}&lt;/p&gt;
            
            {% with block.value.rows|list.1|default:&quot;&quot; as row_values %}
                {{ row_values.0|default:&quot;&quot; }}
            {% endwith %}
        &lt;/th&gt;
    {% endfor %}
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<h2 id="how-to-feed-a-table-from-django-admin-panel-open-in-as-block-into-wagtail-admin-panel-and-render-it-into-the-wagtail-frontend">HOW TO FEED A TABLE FROM DJANGO ADMIN PANEL, OPEN IN AS BLOCK INTO WAGTAIL ADMIN PANEL AND RENDER IT INTO THE WAGTAIL FRONTEND<a hidden class="anchor" aria-hidden="true" href="#how-to-feed-a-table-from-django-admin-panel-open-in-as-block-into-wagtail-admin-panel-and-render-it-into-the-wagtail-frontend">#</a></h2>
<p>Premessa: prima di effettuare questa complessa operazione va tenuto in conto che i due progetti uno django e l&rsquo;altro wagtail derivano da due repository differenti. Quindi il problema iniziale sarà quello di renedere omogenei i file .git. Per fare ciò dunque di seguito si descrive il metodo migliore individuato:</p>
<p>If you want to consolidate both the Django and Wagtail projects into a single Git repository, and you&rsquo;ve already initialized separate repositories in each project&rsquo;s directory, you have a couple of options:</p>
<p>Option 1: Delete Existing Git Repositories</p>
<ol>
<li>
<p><strong>Delete Git repositories in directory and subdirectories:</strong></p>
<ul>
<li>Navigate to each subdirectory (e.g., <code>django_general_template2</code> and <code>blog_wiki_wag/blog_page_wiki_wag/wiki-wag</code>) containing a Git repository.</li>
<li>Run <code>rm -rf .git</code> to delete the existing Git repository.</li>
</ul>
</li>
<li>
<p><strong>Initialize a new Git repository in the root directory:</strong></p>
<ul>
<li>Run <code>cd /path/to/django_general_template2</code> (replace <code>/path/to/django_general_template2</code> with your actual path).</li>
<li>Run <code>git init</code> to initialize a new Git repository.</li>
</ul>
</li>
<li>
<p><strong>Add, commit, and push:</strong></p>
<ul>
<li>Add all files with <code>git add .</code>.</li>
<li>Commit the changes with <code>git commit -m &quot;Initial commit&quot;</code>.</li>
<li>If you&rsquo;ve already set up a remote repository, push the changes to it.</li>
</ul>
<p>Great! Since you&rsquo;ve deleted the existing Git repositories and initialized a new one in the root directory, here are the steps to create a new GitHub repository (<code>django-wiki-wag</code>) and push your local changes to it:</p>
<ol>
<li>
<p><strong>Create a New GitHub Repository:</strong></p>
<ul>
<li>Go to <a href="https://github.com/">GitHub</a>.</li>
<li>Log in to your account.</li>
<li>Click the &ldquo;+&rdquo; icon in the top right corner and select &ldquo;New repository.&rdquo;</li>
<li>Fill in the repository name (e.g., <code>django-wiki-wag</code>), add a description if you want, and choose other repository settings.</li>
<li>Click &ldquo;Create repository.&rdquo;</li>
</ul>
</li>
<li>
<p><strong>Set the Remote Origin for Your Local Repository:</strong></p>
<ul>
<li>
<p>In your local terminal, navigate to the root directory of your project.</p>
</li>
<li>
<p>Run the following commands, replacing the repository URL with your newly created repository URL:</p>
<pre tabindex="0"><code>bashCopy code
git remote add origin https://github.com/your-username/django-wiki-wag.git
</code></pre></li>
</ul>
</li>
<li>
<p><strong>Add, Commit, and Push:</strong></p>
<ul>
<li>
<p>Run the following commands to add all files, commit your changes, and push to GitHub:</p>
<pre tabindex="0"><code>bashCopy codegit add .
git commit -m &#34;Initial commit&#34;
git push -u origin main
</code></pre></li>
<li>
<p>Note: Replace <code>main</code> with the name of the branch you are working on (it could be <code>master</code> or another branch).</p>
</li>
</ul>
</li>
<li>
<p><strong>Verify on GitHub:</strong></p>
<ul>
<li>Visit your GitHub repository (<code>https://github.com/your-username/django-wiki-wag</code>).</li>
<li>Confirm that your files and project structure are visible.</li>
</ul>
</li>
</ol>
<p>Now, your local project should be synchronized with the new GitHub repository. If you encounter any issues during the process, feel free to ask for further assistance!</p>
</li>
</ol>
<p>To achieve your goal, you&rsquo;ll need to follow a series of steps. I&rsquo;ll provide you with a step-by-step guide to make the necessary changes and additions to your Django admin, Wagtail models, and HTML template.</p>
<ul>
<li>
<p><strong>Step 1: Adjust Wagtail Settings</strong></p>
<p>In the <code>settings.py</code> of your Wagtail project (<code>wiki-wag</code>), ensure that the <code>ALLOWED_HOSTS</code> setting includes the appropriate values for your Django project. Update other settings if needed.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pythonCopy code<span style="color:#75715e"># wiki-wag/settings/base.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ALLOWED_HOSTS <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;yourdjangoapp.com&#39;</span>, <span style="color:#e6db74">&#39;localhost&#39;</span>, <span style="color:#e6db74">&#39;127.0.0.1&#39;</span>]
</span></span></code></pre></div></li>
<li>
<p><strong>Step 2: Add Wagtail settings to Django settings.py</strong></p>
<p>In your Django project (`general_template 1), include the Wagtail settings by updating settings.py:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Django settings for general_template1 project.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Generated by &#39;django-admin startproject&#39; using Django 4.2.2.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">For more information on this file, see
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">https://docs.djangoproject.com/en/4.2/topics/settings/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">For the full list of settings and their values, see
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">https://docs.djangoproject.com/en/4.2/ref/settings/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pathlib <span style="color:#f92672">import</span> Path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Build paths inside the project like this: BASE_DIR / &#39;subdir&#39;.</span>
</span></span><span style="display:flex;"><span>BASE_DIR <span style="color:#f92672">=</span> Path(__file__)<span style="color:#f92672">.</span>resolve()<span style="color:#f92672">.</span>parent<span style="color:#f92672">.</span>parent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Quick-start development settings - unsuitable for production</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># See https://docs.djangoproject.com/en/4.2/howto/deployment/checklist/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SECURITY WARNING: keep the secret key used in production secret!</span>
</span></span><span style="display:flex;"><span>SECRET_KEY <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;django-insecure-2-yc!0z!mcv#w$3vk6#s5i635l+bg#x3+24w2!26ikg4o-dj4u&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># SECURITY WARNING: don&#39;t run with debug turned on in production!</span>
</span></span><span style="display:flex;"><span>DEBUG <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ALLOWED_HOSTS = [&#39;127.0.0.1&#39;, &#39;localhost&#39;, &#39;146.190.169.21&#39;] # tiene conto delle attività su droplet</span>
</span></span><span style="display:flex;"><span>ALLOWED_HOSTS <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;app.sgbh.org&#39;</span>, <span style="color:#e6db74">&#39;www.sgbh.org&#39;</span>, <span style="color:#e6db74">&#39;127.0.0.1&#39;</span>, <span style="color:#e6db74">&#39;localhost&#39;</span>, <span style="color:#e6db74">&#39;146.190.169.21&#39;</span>]
</span></span><span style="display:flex;"><span>SECURE_PROXY_SSL_HEADER <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;HTTP_X_FORWARDED_PROTO&#39;</span>, <span style="color:#e6db74">&#39;https&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Application definition</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.contrib.forms&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.contrib.redirects&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.embeds&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.sites&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.users&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.snippets&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.documents&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.images&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.search&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.admin&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;taggit&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;modelcluster&#39;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.admin&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.auth&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.contenttypes&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sessions&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.messages&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.staticfiles&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;sgq&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail&#39;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>MIDDLEWARE <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.middleware.security.SecurityMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.middleware.common.CommonMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.middleware.csrf.CsrfViewMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;wagtail.contrib.redirects.middleware.RedirectMiddleware&#39;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ROOT_URLCONF <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;general_template1.urls&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TEMPLATES <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;BACKEND&#39;</span>: <span style="color:#e6db74">&#39;django.template.backends.django.DjangoTemplates&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;DIRS&#39;</span>: [],
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;APP_DIRS&#39;</span>: <span style="color:#66d9ef">True</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;OPTIONS&#39;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;context_processors&#39;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;django.template.context_processors.debug&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;django.template.context_processors.request&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;django.contrib.auth.context_processors.auth&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;django.contrib.messages.context_processors.messages&#39;</span>,
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WSGI_APPLICATION <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;general_template1.wsgi.application&#39;</span>
</span></span><span style="display:flex;"><span>WSGI_SERVER_PORT <span style="color:#f92672">=</span> <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Database</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://docs.djangoproject.com/en/4.2/ref/settings/#databases</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DATABASES <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;default&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;ENGINE&#39;</span>: <span style="color:#e6db74">&#39;django.db.backends.sqlite3&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: BASE_DIR <span style="color:#f92672">/</span> <span style="color:#e6db74">&#39;db.sqlite3&#39;</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Password validation</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://docs.djangoproject.com/en/4.2/ref/settings/#auth-password-validators</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AUTH_PASSWORD_VALIDATORS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: <span style="color:#e6db74">&#39;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: <span style="color:#e6db74">&#39;django.contrib.auth.password_validation.MinimumLengthValidator&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: <span style="color:#e6db74">&#39;django.contrib.auth.password_validation.CommonPasswordValidator&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: <span style="color:#e6db74">&#39;django.contrib.auth.password_validation.NumericPasswordValidator&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Internationalization</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://docs.djangoproject.com/en/4.2/topics/i18n/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LANGUAGE_CODE <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;en-us&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TIME_ZONE <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;UTC&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USE_I18N <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>USE_TZ <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Static files (CSS, JavaScript, Images)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://docs.djangoproject.com/en/4.2/howto/static-files/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>STATIC_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;static/&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Default primary key field type</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># https://docs.djangoproject.com/en/4.2/ref/settings/#default-auto-field</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DEFAULT_AUTO_FIELD <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;django.db.models.BigAutoField&#39;</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Step 3: Add Wagtail URLs to Django URLs</strong></p>
<p>In your Django project (`general_template 1), include the Wagtail urls by updating urls.py:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path, include
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail <span style="color:#f92672">import</span> urls <span style="color:#66d9ef">as</span> wagtail_urls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;&#39;</span>, include(<span style="color:#e6db74">&#39;sgq.urls&#39;</span>)),  <span style="color:#75715e"># Include the app-level URLs</span>
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;admin/&#39;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># path(&#39;wagtail/&#39;, include(&#39;wagtail.core.urls&#39;)), # nuovo inserimento</span>
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;wagtail/&#39;</span>, include(wagtail_urls)), <span style="color:#75715e"># nuovo inserimento</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
<li>
<p>**Step 4: Add a Fixed Table Block to Your Models **and Update BlogPage Model **
In your <strong>blog/models.py</strong>, add the FixedTableBlock to the list of available blocks. This block will represent the fixed table content. Include the FixedTableBlock in the StreamField of your BlogPage model.</p>
<ul>
<li>The key changes here are adding the import for <code>FixedTableBlock</code> and including it in the <code>StreamField</code> under the name <code>'fixed_table'</code>.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.images.blocks <span style="color:#f92672">import</span> ImageChooserBlock
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.fields <span style="color:#f92672">import</span> StreamField, RichTextField
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.admin.panels <span style="color:#f92672">import</span> FieldPanel
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.documents.blocks <span style="color:#f92672">import</span> DocumentChooserBlock
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.models <span style="color:#f92672">import</span> Page
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail <span style="color:#f92672">import</span> blocks
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.contrib.table_block.blocks <span style="color:#f92672">import</span> TableBlock
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.contrib.routable_page.models <span style="color:#f92672">import</span> RoutablePageMixin, path
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.search <span style="color:#f92672">import</span> index
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> modelcluster.fields <span style="color:#f92672">import</span> ParentalKey
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.contrib.forms.models <span style="color:#f92672">import</span> AbstractEmailForm, AbstractFormField
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .blocks <span style="color:#f92672">import</span> PublicationBlock <span style="color:#75715e"># rif 1 - Adding in rendering get_absolute_url</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.contrib.typed_table_block.blocks <span style="color:#f92672">import</span> TypedTableBlock
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wagtail.images.blocks <span style="color:#f92672">import</span> ImageChooserBlock
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RawHTMLBlock</span>(blocks<span style="color:#f92672">.</span>RawHTMLBlock):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Meta</span>:
</span></span><span style="display:flex;"><span>        icon <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;code&#34;</span>  <span style="color:#75715e"># Set a suitable icon from available Wagtail icons</span>
</span></span><span style="display:flex;"><span>        template <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blog/raw_html_block.html&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CodeBlock</span>(blocks<span style="color:#f92672">.</span>StructBlock):
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> blocks<span style="color:#f92672">.</span>TextBlock()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Meta</span>:
</span></span><span style="display:flex;"><span>        template <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blog/code_block.html&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FixedTableBlock</span>(blocks<span style="color:#f92672">.</span>StructBlock):
</span></span><span style="display:flex;"><span>    fixed_table_text <span style="color:#f92672">=</span> blocks<span style="color:#f92672">.</span>CharBlock()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Meta</span>:
</span></span><span style="display:flex;"><span>        icon <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;table&#39;</span>  <span style="color:#75715e"># Set an icon for the block</span>
</span></span><span style="display:flex;"><span>        template <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blog/fixed_table_block.html&#39;</span>  <span style="color:#75715e"># Create this template for rendering the block</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BlogPage</span>(Page):
</span></span><span style="display:flex;"><span>    author <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>, default<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Default Author&#39;</span>)
</span></span><span style="display:flex;"><span>    date <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>DateField(<span style="color:#e6db74">&#34;Post date&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># New field for content choice</span>
</span></span><span style="display:flex;"><span>    content_choice <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(
</span></span><span style="display:flex;"><span>        max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>        choices<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;choice_one&#39;</span>, <span style="color:#e6db74">&#39;Choice One&#39;</span>),
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;choice_two&#39;</span>, <span style="color:#e6db74">&#39;Choice Two&#39;</span>),
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>        default<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;choice_one&#39;</span>,  <span style="color:#75715e"># Set a default choice</span>
</span></span><span style="display:flex;"><span>        help_text<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Select the content to be displayed on the page.&#34;</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    body <span style="color:#f92672">=</span> StreamField([
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;heading&#39;</span>, blocks<span style="color:#f92672">.</span>CharBlock(form_classname<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;title&#34;</span>)),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;paragraph&#39;</span>, blocks<span style="color:#f92672">.</span>RichTextBlock()),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;image&#39;</span>, ImageChooserBlock()),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;code&#39;</span>, CodeBlock()),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;raw_html&#39;</span>, RawHTMLBlock()),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;publication&#39;</span>, PublicationBlock()), <span style="color:#75715e"># rif 1 - Adding in rendering get_absolute_url</span>
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;table&#39;</span>, TypedTableBlock([
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;text&#39;</span>, blocks<span style="color:#f92672">.</span>CharBlock()),
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;numeric&#39;</span>, blocks<span style="color:#f92672">.</span>FloatBlock()),
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;rich_text&#39;</span>, blocks<span style="color:#f92672">.</span>RichTextBlock()),
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;image&#39;</span>, ImageChooserBlock()),
</span></span><span style="display:flex;"><span>            (<span style="color:#e6db74">&#39;country&#39;</span>, blocks<span style="color:#f92672">.</span>ChoiceBlock(choices<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;be&#39;</span>, <span style="color:#e6db74">&#39;Belgium&#39;</span>),
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;fr&#39;</span>, <span style="color:#e6db74">&#39;France&#39;</span>),
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;de&#39;</span>, <span style="color:#e6db74">&#39;Germany&#39;</span>),
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;nl&#39;</span>, <span style="color:#e6db74">&#39;Netherlands&#39;</span>),
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;pl&#39;</span>, <span style="color:#e6db74">&#39;Poland&#39;</span>),
</span></span><span style="display:flex;"><span>                (<span style="color:#e6db74">&#39;uk&#39;</span>, <span style="color:#e6db74">&#39;United Kingdom&#39;</span>),
</span></span><span style="display:flex;"><span>            ])),
</span></span><span style="display:flex;"><span>        ])),
</span></span><span style="display:flex;"><span>        (<span style="color:#e6db74">&#39;fixed_table&#39;</span>, FixedTableBlock()),  <span style="color:#75715e"># Add the FixedTableBlock</span>
</span></span><span style="display:flex;"><span>    ], use_json_field<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    content_panels <span style="color:#f92672">=</span> Page<span style="color:#f92672">.</span>content_panels <span style="color:#f92672">+</span> [
</span></span><span style="display:flex;"><span>        FieldPanel(<span style="color:#e6db74">&#39;author&#39;</span>),
</span></span><span style="display:flex;"><span>        FieldPanel(<span style="color:#e6db74">&#39;date&#39;</span>),
</span></span><span style="display:flex;"><span>        FieldPanel(<span style="color:#e6db74">&#39;content_choice&#39;</span>),
</span></span><span style="display:flex;"><span>        FieldPanel(<span style="color:#e6db74">&#39;body&#39;</span>),
</span></span><span style="display:flex;"><span>    ]
</span></span></code></pre></div><p>**Step 5: **Go in the <strong>Wagtail manage.py level</strong> and make sure to run migrations after making these changes:</p>
<pre tabindex="0"><code>python3 manage.py makemigrations
python3 manage.py migrate
</code></pre><p>Now you can use the Wagtail admin to add and edit the content for the <code>fixed_table</code> block in your <code>BlogPage</code>. This content should then be rendered in your <code>blog_page.html</code></p>
<blockquote>
<p>At this stage you go into Wagtail Project via **python3 manage.py runserver ** into admin panel and if all works you can access and add the table. In the wagtail preview mode you receive a visualization error because the <strong>blog/fixed_table_block.html</strong> does not exists!</p>
</blockquote>
<p><strong>Step 6 - Creation of blog/fixed_table_block.html</strong></p>
<p>So before to jump to Django admin level to create an input data entry let&rsquo;s try to enter the data from <strong>FixedTableBlock()</strong>. In this manner sure that all is working fine just until now.   To do this First, update the <code>FixedTableBlock</code> in <code>models.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pythonCopy codefrom wagtail<span style="color:#f92672">.</span>core <span style="color:#f92672">import</span> blocks
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FixedTableBlock</span>(blocks<span style="color:#f92672">.</span>StructBlock):
</span></span><span style="display:flex;"><span>    nation <span style="color:#f92672">=</span> blocks<span style="color:#f92672">.</span>CharBlock(required<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, help_text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Enter nation&#39;</span>)
</span></span><span style="display:flex;"><span>    capital <span style="color:#f92672">=</span> blocks<span style="color:#f92672">.</span>CharBlock(required<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, help_text<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Enter capital&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Meta</span>:
</span></span><span style="display:flex;"><span>        template <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;blog/fixed_table_block.html&#39;</span>
</span></span></code></pre></div><p>Then, create or update the template file at <strong>blog/templates/blog/fixed_table_block.html</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>htmlCopy code&lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">table</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;table table-bordered table-striped&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">thead</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">th</span>&gt;Nation&lt;/<span style="color:#f92672">th</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">th</span>&gt;Capital&lt;/<span style="color:#f92672">th</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">thead</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">tbody</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;{{ value.nation }}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">td</span>&gt;{{ value.capital }}&lt;/<span style="color:#f92672">td</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">tr</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">tbody</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">table</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p><strong>Go in the Wagtail manage.py level</strong> and make sure to run migrations after making these changes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 manage.py makemigrations
</span></span><span style="display:flex;"><span>python3 manage.py migrate
</span></span><span style="display:flex;"><span>python3 manage.py migrate
</span></span></code></pre></div><p>If all works you are able to input the data and see the table in Wagtail preview mode</p>
<blockquote>
<p><strong>Always remeber to conslidate you commmit pushing on Github</strong></p>
</blockquote>
<p><strong>Step 7 - Implementation models.py - Django side</strong></p>
<p><strong>Create a Django model for the content you want to manage:</strong></p>
<p>Define a Django model in your <code>models.py</code> that represents the content you want to associate with the <code>FixedTableBlock</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pythonCopy code<span style="color:#75715e"># models.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FixedTableContent</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    nation <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>    capital <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>nation
</span></span></code></pre></div><p><strong>Step 8 - Implementation admin.py - Django side</strong></p>
<p><strong>Create an admin class for the new model:</strong></p>
<p>Create an admin class for your new model in the <code>admin.py</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># admin.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> FixedTableContent
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@admin.register</span>(FixedTableContent)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FixedTableContentAdmin</span>(admin<span style="color:#f92672">.</span>ModelAdmin):
</span></span><span style="display:flex;"><span>    list_display <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;nation&#39;</span>, <span style="color:#e6db74">&#39;capital&#39;</span>)
</span></span></code></pre></div><p>This admin class will allow you to manage instances of <code>FixedTableContent</code> in the Django admin.</p>
<p>&mdash;&mdash;&mdash; FINO A QUI &ndash;</p>
<p>template.Step 3: Create Template for FixedTableBlock
Create a template file at blog/templates/blog/fixed_table_block.html for rendering the FixedTableBlock. This template will be used to display the fixed table content.</p>
<p>html
Copy code
<!-- raw HTML omitted -->{{ value.fixed_table_text }}<!-- raw HTML omitted -->
Step 4: Run Migrations
Run the following commands to apply the model changes:</p>
<p>bash
Copy code
python manage.py makemigrations
python manage.py migrate
Step 5: Update Django Admin
Create an admin class for BlogPage in blog/wagtail_hooks.py:</p>
<p>python
Copy code
from wagtail.contrib.modeladmin.options import (
ModelAdmin, modeladmin_register, ModelAdminGroup
)
from .models import BlogPage</p>
<p>class BlogPageAdmin(ModelAdmin):
model = BlogPage
menu_label = &lsquo;Blog Pages&rsquo;
menu_icon = &lsquo;doc-full-inverse&rsquo;
menu_order = 200
add_to_settings_menu = False
exclude_from_explorer = False
list_display = (&rsquo;title&rsquo;, &lsquo;author&rsquo;, &lsquo;date&rsquo;, &lsquo;content_choice&rsquo;)
search_fields = (&rsquo;title&rsquo;, &lsquo;author&rsquo;, &lsquo;date&rsquo;, &lsquo;content_choice&rsquo;)</p>
<p>modeladmin_register(BlogPageAdmin)
Step 6: Include Admin CSS
In your blog/static/css/admin.css file, add the following CSS to improve the display of the custom block in the admin.</p>
<p>css
Copy code
.wagtail-edit-handler-fixed_table .field-content textarea {
height: 100px; /* Adjust the height as needed */
}
Step 7: Update BlogPage Admin Panels
Update the content_panels in BlogPage to include the new block:</p>
<p>python
Copy code</p>
<h1 id="heading-1">&hellip;<a hidden class="anchor" aria-hidden="true" href="#heading-1">#</a></h1>
<p>class BlogPage(Page):
# &hellip;</p>
<pre><code>content_panels = Page.content_panels + [
    FieldPanel('author'),
    FieldPanel('date'),
    FieldPanel('content_choice'),
    FieldPanel('body'),
]
</code></pre>
<p>Step 8: Update blog_page.html
Update blog/templates/blog/blog_page.html to render the new FixedTableBlock.</p>
<p>html
Copy code</p>
<!-- raw HTML omitted -->
<p>{% for block in page.body %}
{% if block.block_type == &lsquo;fixed_table&rsquo; %}
{% include_block block %}
{% elif block.block_type == &rsquo;table&rsquo; %}
<!-- raw HTML omitted -->
{% elif block.block_type == &lsquo;heading&rsquo; %}
<!-- raw HTML omitted -->
{% elif block.block_type == &lsquo;publication&rsquo; %}
<!-- raw HTML omitted -->
{% else %}
<!-- raw HTML omitted -->
{% endif %}
{% endfor %}</p>
<!-- raw HTML omitted -->
<p>Step 9: Restart Server
Restart your development server to see the changes:</p>
<p>bash
Copy code
python manage.py runserver
Now you should be able to add and edit the fixed table content in the Django admin and see it rendered on your blog_page.html. Adjust the styles and templates according to your design preferences.</p>
<p>This guide assumes a basic project structure, so adjust the paths if your project structure is different. Let me know if you have any questions or if there&rsquo;s anything specific you&rsquo;d like to clarify!</p>
<hr>
<h3 id="wagtail-upgrade-process-1">WAGTAIL Upgrade process<a hidden class="anchor" aria-hidden="true" href="#wagtail-upgrade-process-1">#</a></h3>
<p>We recommend upgrading one feature release at a time, even if your project is several versions behind the current one. This has a number of advantages over skipping directly to the newest release:</p>
<p>If anything breaks as a result of the upgrade, you will know which version caused it, and will be able to troubleshoot accordingly;</p>
<p>Deprecation warnings shown in the console output will notify you of any code changes you need to make before upgrading to the following version;</p>
<p>Some releases make database schema changes that need to be reflected on your project by running ./manage.py makemigrations - this is liable to fail if too many schema changes happen in one go.</p>
<p>Before upgrading to a new feature release:</p>
<p>Check your project’s console output for any deprecation warnings, and fix them where necessary;</p>
<p>Check the new version’s release notes, and the Compatible Django / Python versions table below, for any dependencies that need upgrading first;</p>
<p>Make a backup of your database.</p>
<p>To upgrade:</p>
<p>Update the wagtail line in your project’s requirements.txt file to specify the latest patch release of the version you wish to install. For example, to upgrade to version 1.8.x, the line should read:
`wagtail&gt;=1.8,&lt;1.9
Run:</p>
<p>pip install -r requirements.txt
./manage.py makemigrations
./manage.py migrate`</p>
<p>Make any necessary code changes as directed in the “Upgrade considerations” section of the release notes.</p>
<p>Test that your project is working as expected.</p>
<p>Remember that the JavaScript and CSS files used in the Wagtail admin may have changed between releases - if you encounter erratic behaviour on upgrading, ensure that you have cleared your browser cache. When deploying the upgrade to a production server, be sure to run ./manage.py collectstatic to make the updated static files available to the web server. In production, we recommend enabling ManifestStaticFilesStorage in the STATICFILES_STORAGE setting - this ensures that different versions of files are assigned distinct URLs.</p>
<h1 id="feeding-data-from-django-to-wagatail-via-api">FEEDING DATA FROM DJANGO TO WAGATAIL VIA API<a hidden class="anchor" aria-hidden="true" href="#feeding-data-from-django-to-wagatail-via-api">#</a></h1>
<p>Steps:</p>
<p>To create a Django API app and expose the data to your Wagtail project, you can follow these steps:</p>
<h3 id="step-1-create-django-api-app-create-a-django-app-from-0create-a-django-app-from-0">Step 1: Create Django API App (<a href="#create-a-django-app-from-0">create a Django app from 0)</a><a hidden class="anchor" aria-hidden="true" href="#step-1-create-django-api-app-create-a-django-app-from-0create-a-django-app-from-0">#</a></h3>
<ol>
<li>
<p>Open your terminal and navigate to the root directory of your Django project.</p>
</li>
<li>
<p>Run the following command to create a new Django app for your API:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python manage<span style="color:#f92672">.</span>py startapp django_api_for_wagtail
</span></span></code></pre></div></li>
<li>
<p>Install the Django REST framework to use it in your Django API app. Django REST framework is a powerful and flexible toolkit for building Web APIs in Django.</p>
<p>You can install it using <code>pip</code>. Open your terminal and navigate to your project&rsquo;s root directory. Then, run the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip3 install djangorestframework
</span></span></code></pre></div></li>
<li>
<p>After installing, you&rsquo;ll need to add <code>'rest_framework'</code> to the <code>INSTALLED_APPS</code> in your project&rsquo;s <code>settings.py</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># myproject/settings.py</span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;rest_framework&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><p>Now that you have a separate app named <code>django_api_for_wagtail</code> for the purpose, let&rsquo;s create a data input example. Assuming you&rsquo;ve created your <code>Nation</code> model within this app, here are the corrected steps:</p>
<h3 id="django-api-django-side">Django API (Django Side):<a hidden class="anchor" aria-hidden="true" href="#django-api-django-side">#</a></h3>
<h4 id="modelspy-in-django_api_for_wagtail-app">models.py in <code>django_api_for_wagtail</code> app:<a hidden class="anchor" aria-hidden="true" href="#modelspy-in-django_api_for_wagtail-app">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/models.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Nation</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>, unique<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    capital <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>name
</span></span></code></pre></div><h4 id="serializerspy-in-django_api_for_wagtail-app">serializers.py in <code>django_api_for_wagtail</code> app:<a hidden class="anchor" aria-hidden="true" href="#serializerspy-in-django_api_for_wagtail-app">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/serializers.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> rest_framework <span style="color:#f92672">import</span> serializers
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Nation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NationSerializer</span>(serializers<span style="color:#f92672">.</span>ModelSerializer):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Meta</span>:
</span></span><span style="display:flex;"><span>        model <span style="color:#f92672">=</span> Nation
</span></span><span style="display:flex;"><span>        fields <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;__all__&#39;</span>
</span></span></code></pre></div><h4 id="viewspy-in-django_api_for_wagtail-app">views.py in <code>django_api_for_wagtail</code> app:<a hidden class="anchor" aria-hidden="true" href="#viewspy-in-django_api_for_wagtail-app">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#django_api_for_wagtail/views.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> rest_framework <span style="color:#f92672">import</span> generics
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Nation
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .serializers <span style="color:#f92672">import</span> NationSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NationAPIView</span>(generics<span style="color:#f92672">.</span>ListCreateAPIView):
</span></span><span style="display:flex;"><span>    queryset <span style="color:#f92672">=</span> Nation<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    serializer_class <span style="color:#f92672">=</span> NationSerializer
</span></span></code></pre></div><h4 id="urlspy-in-django_api_for_wagtail-app">urls.py in <code>django_api_for_wagtail</code> app:<a hidden class="anchor" aria-hidden="true" href="#urlspy-in-django_api_for_wagtail-app">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/urls.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .views <span style="color:#f92672">import</span> NationAPIView
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;nations/&#39;</span>, NationAPIView<span style="color:#f92672">.</span>as_view(), name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nation-api&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Add more URL patterns as needed</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><h4 id="adminpy-in-django_api_for_wagtail-app">admin.py in django_api_for_wagtail app:<a hidden class="anchor" aria-hidden="true" href="#adminpy-in-django_api_for_wagtail-app">#</a></h4>
<p>Here&rsquo;s an example of how you should register the <code>Nation</code> model in the admin.py file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/admin.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Nation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@admin.register</span>(Nation)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NationAdmin</span>(admin<span style="color:#f92672">.</span>ModelAdmin):
</span></span><span style="display:flex;"><span>    list_display <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;name&#39;</span>, <span style="color:#e6db74">&#39;capital&#39;</span>)
</span></span></code></pre></div><h4 id="urlspy-in-progetto_api-project">urls.py in progetto_api project:<a hidden class="anchor" aria-hidden="true" href="#urlspy-in-progetto_api-project">#</a></h4>
<p>To make Django recognize the URLs of your <code>django_api_for_wagtail</code> app, you need to include the URLs of your app in the <code>urls.py</code> file at the project level. You can do this using Django’s <code>include()</code> function, which allows you to reference other URL configurations.</p>
<p>Here’s how you might update your <code>urls.py</code> file at the project level:Python</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> include, path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#34;admin/&#34;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#34;django_api_for_wagtail/&#34;</span>, include(<span style="color:#e6db74">&#39;django_api_for_wagtail.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
</ol>
<h3 id="test-if-the-steps-are-correct">Test if the steps are correct<a hidden class="anchor" aria-hidden="true" href="#test-if-the-steps-are-correct">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py makemigrations
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py migrate
</span></span></code></pre></div><p>If all is ok you can try:</p>
<p>http://127.0.0.1:8000/django_api_for_wagtail/nations/ (frontend side - with json results)</p>
<p>http://127.0.0.1:8000/admin/django_api_for_wagtail/nation/ (backend side - with admin panel)</p>
<p>In this way, I can verify the correct data entry on the backend side and the correct management in JSON on the frontend side.</p>
<h3 id="step-2-create-views-for-api">Step 2: Create Views for API<a hidden class="anchor" aria-hidden="true" href="#step-2-create-views-for-api">#</a></h3>
<ol>
<li>
<p>In the <code>api</code> app directory, create a <code>views.py</code> file.</p>
</li>
<li>
<p>Define a view for your API in <code>views.py</code>. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> rest_framework <span style="color:#f92672">import</span> generics
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> blog.models <span style="color:#f92672">import</span> BlogPage
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .serializers <span style="color:#f92672">import</span> BlogPageSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BlogPageAPIView</span>(generics<span style="color:#f92672">.</span>ListAPIView):
</span></span><span style="display:flex;"><span>    queryset <span style="color:#f92672">=</span> BlogPage<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    serializer_class <span style="color:#f92672">=</span> BlogPageSerializer
</span></span></code></pre></div></li>
</ol>
<h3 id="step-3-configure-urls-for-api">Step 3: Configure URLs for API<a hidden class="anchor" aria-hidden="true" href="#step-3-configure-urls-for-api">#</a></h3>
<ol>
<li>
<p>In the <code>api</code> app directory, create a <code>urls.py</code> file.</p>
</li>
<li>
<p>Define the URL patterns for your API in <code>urls.py</code>. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .views <span style="color:#f92672">import</span> BlogPageAPIView
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;blog/&#39;</span>, BlogPageAPIView<span style="color:#f92672">.</span>as_view(), name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;blog-api&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Add more URL patterns as needed</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
</ol>
<h3 id="step-4-configure-main-project-urls">Step 4: Configure Main Project URLs<a hidden class="anchor" aria-hidden="true" href="#step-4-configure-main-project-urls">#</a></h3>
<ol>
<li>
<p>In the main project directory, open the <code>urls.py</code> file.</p>
</li>
<li>
<p>Include the URLs of your API app in the project&rsquo;s URL configuration. Update the <code>urlpatterns</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path, include
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;admin/&#39;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;api/&#39;</span>, include(<span style="color:#e6db74">&#39;api.urls&#39;</span>)),  <span style="color:#75715e"># Adjust the URL pattern as needed</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Add other URL patterns as needed</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
</ol>
<h3 id="step-5-run-migrations-and-start-the-development-server">Step 5: Run Migrations and Start the Development Server<a hidden class="anchor" aria-hidden="true" href="#step-5-run-migrations-and-start-the-development-server">#</a></h3>
<ol>
<li>
<p>Run the following commands to apply migrations and start the development server:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>manage.py makemigrations
</span></span><span style="display:flex;"><span>python manage.py migrate
</span></span><span style="display:flex;"><span>python manage.py runserver
</span></span></code></pre></div></li>
</ol>
<h2 id="definitive-code-for-mini-django-project-api">Definitive Code for mini Django project API<a hidden class="anchor" aria-hidden="true" href="#definitive-code-for-mini-django-project-api">#</a></h2>
<h3 id="step-6-create-the-a-frontend-to-see-the-data-">Step 6: create the a frontend (to see the data )<a hidden class="anchor" aria-hidden="true" href="#step-6-create-the-a-frontend-to-see-the-data-">#</a></h3>
<p>To create a simple frontend to visualize the results from your Django API, you can use Django&rsquo;s built-in templates. Here&rsquo;s a step-by-step guide:</p>
<ol>
<li>
<p>Create a <code>templates</code> directory within your <code>django_api_for_wagtail</code> app.</p>
</li>
<li>
<p>Inside the <code>templates</code> directory, create an HTML file for rendering the nation data. Let&rsquo;s call it <code>nations_list.html</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- django_api_for_wagtail/templates/nations_list.html --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">title</span>&gt;Nations List&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">h1</span>&gt;Nations List&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>        {% for nation in nations %}
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">li</span>&gt;{{ nation.name }} - {{ nation.capital }}&lt;/<span style="color:#f92672">li</span>&gt;
</span></span><span style="display:flex;"><span>        {% endfor %}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">ul</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div></li>
<li>
<p>Update your <code>views.py</code> to use this template:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/views.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.shortcuts <span style="color:#f92672">import</span> render
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> rest_framework <span style="color:#f92672">import</span> generics
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Nation
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .serializers <span style="color:#f92672">import</span> NationSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NationAPIView</span>(generics<span style="color:#f92672">.</span>ListCreateAPIView):
</span></span><span style="display:flex;"><span>    queryset <span style="color:#f92672">=</span> Nation<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    serializer_class <span style="color:#f92672">=</span> NationSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">list</span>(self, request, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        nations <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_queryset()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> render(request, <span style="color:#e6db74">&#39;nations_list.html&#39;</span>, {<span style="color:#e6db74">&#39;nations&#39;</span>: nations})
</span></span></code></pre></div><p>It is worth to breakdown the code above:</p>
<p>Let&rsquo;s break down the <code>list</code> method in the <code>NationAPIView</code> class:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/views.py</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.shortcuts <span style="color:#f92672">import</span> render
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> rest_framework <span style="color:#f92672">import</span> generics
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .models <span style="color:#f92672">import</span> Nation
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .serializers <span style="color:#f92672">import</span> NationSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NationAPIView</span>(generics<span style="color:#f92672">.</span>ListCreateAPIView):
</span></span><span style="display:flex;"><span>    queryset <span style="color:#f92672">=</span> Nation<span style="color:#f92672">.</span>objects<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    serializer_class <span style="color:#f92672">=</span> NationSerializer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">list</span>(self, request, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>        nations <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_queryset()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> render(request, <span style="color:#e6db74">&#39;nations_list.html&#39;</span>, {<span style="color:#e6db74">&#39;nations&#39;</span>: nations})
</span></span></code></pre></div><ol>
<li><strong><code>queryset</code> and <code>serializer_class</code></strong>: These are attributes of the <code>NationAPIView</code> class. <code>queryset</code> defines the initial query set of nations, and <code>serializer_class</code> specifies the serializer to be used for serializing the data.</li>
<li><strong><code>list</code> method</strong>: This method is part of the <code>ListCreateAPIView</code> class provided by Django REST Framework. It handles the HTTP GET request for the list view.</li>
<li><strong><code>self.get_queryset()</code></strong>: This method retrieves the query set of nations. In this case, it gets all the objects from the <code>Nation</code> model specified in the <code>queryset</code> attribute.</li>
<li><strong><code>render</code> function</strong>: This function is used to render an HTML template. It takes the following parameters:
<ul>
<li><code>request</code>: The HTTP request object.</li>
<li><code>'nations_list.html'</code>: The name of the template file to be rendered.</li>
<li><code>{'nations': nations}</code>: A dictionary containing data to be passed to the template. In this case, it includes the retrieved nations from the query set.</li>
</ul>
</li>
<li><strong><code>return render(...)</code></strong>: This line returns the rendered HTML content as an HTTP response. The rendered content will be the result of applying the data from the <code>nations</code> query set to the &rsquo;nations_list.html&rsquo; template.</li>
</ol>
<p>In summary, when a user accesses the URL associated with the <code>NationAPIView</code>, the <code>list</code> method is called. It retrieves the list of nations, passes them to the &rsquo;nations_list.html&rsquo; template, renders the HTML content, and returns it as an HTTP response. This allows you to view a list of nations in a web browser when accessing the corresponding URL.</p>
<p>Let&rsquo;s break down the <code>list</code> method in more detail:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(self, request, <span style="color:#f92672">*</span>args, <span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>    nations <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>get_queryset()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render(request, <span style="color:#e6db74">&#39;nations_list.html&#39;</span>, {<span style="color:#e6db74">&#39;nations&#39;</span>: nations})
</span></span></code></pre></div><ol>
<li>
<p><strong><code>self</code></strong>: In Python, <code>self</code> is a convention for referring to the instance of the class. In this context, it represents an instance of the <code>NationAPIView</code> class.</p>
</li>
<li>
<p><strong><code>request</code></strong>: This is the HTTP request object that is passed to the view. It contains information about the incoming request, such as the method (GET, POST, etc.), headers, and any data sent in the request.</p>
</li>
<li>
<p><strong><code>\*args</code> and <code>\**kwargs</code></strong>: These are used to collect additional positional and keyword arguments. In this case, they are not used in the method body, but the method signature includes them to allow flexibility.The usage of <code>*args</code> and <code>**kwargs</code> provides flexibility when defining functions or methods that can accept a variable number of arguments.</p>
<h6 id="using-args-for-variable-positional-arguments"><strong>Using <code>\*args</code> for Variable Positional Arguments:</strong><a hidden class="anchor" aria-hidden="true" href="#using-args-for-variable-positional-arguments">#</a></h6>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>example_function(<span style="color:#f92672">*</span>args):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> arg <span style="color:#f92672">in</span> args:
</span></span><span style="display:flex;"><span>        print(arg)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>example_function(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;four&#39;</span>)
</span></span></code></pre></div><p>In this example, <code>*args</code> allows the function to accept any number of positional arguments. It collects them into a tuple named <code>args</code>, and the function can iterate over them.</p>
<ol>
<li>
<p><strong>Using <code>\**kwargs</code> for Variable Keyword Arguments:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>example_function(<span style="color:#f92672">**</span>kwargs):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> key, value <span style="color:#f92672">in</span> kwargs<span style="color:#f92672">.</span>items():
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>key<span style="color:#e6db74">}</span><span style="color:#e6db74">: </span><span style="color:#e6db74">{</span>value<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>example_function(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;John&#39;</span>, age<span style="color:#f92672">=</span><span style="color:#ae81ff">25</span>, city<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;New York&#39;</span>)
</span></span></code></pre></div><p>In this example, <code>**kwargs</code> allows the function to accept any number of keyword arguments. It collects them into a dictionary named <code>kwargs</code>, and the function can iterate over the key-value pairs.</p>
</li>
<li>
<p><strong>Combining <code>\*args</code> and <code>\**kwargs</code>:</strong></p>
<pre tabindex="0"><code>example_function(arg1, arg2, *args, **kwargs):
    print(f&#34;arg1: {arg1}&#34;)
    print(f&#34;arg2: {arg2}&#34;)
    print(f&#34;Additional positional arguments: {args}&#34;)
    print(f&#34;Additional keyword arguments: {kwargs}&#34;)

example_function(1, 2, 3, 4, key1=&#39;value1&#39;, key2=&#39;value2&#39;)
</code></pre><p>In this example, <code>arg1</code> and <code>arg2</code> are regular positional arguments, <code>*args</code> collects additional positional arguments into a tuple, and <code>**kwargs</code> collects additional keyword arguments into a dictionary.</p>
</li>
</ol>
<p>Using <code>*args</code> and <code>**kwargs</code> allows a function or method to be more flexible and accommodate a varying number of arguments without explicitly specifying them in the function signature. This is particularly useful in cases where the number of arguments might change or when writing functions that need to work with a wide range of inputs.</p>
</li>
<li>
<p><strong><code>self.get_queryset()</code></strong>: This method is inherited from the <code>ListCreateAPIView</code> class of Django REST Framework. It retrieves the queryset of nations. The <code>get_queryset</code> method is responsible for returning the list of objects that will be used in the view.</p>
</li>
<li>
<p><strong><code>nations</code></strong>: This variable stores the queryset of nations obtained from <code>self.get_queryset()</code>.</p>
</li>
<li>
<p><strong><code>render(request, 'nations_list.html', {'nations': nations})</code></strong>: The <code>render</code> function is a shortcut provided by Django for rendering an HTML template. It takes the following arguments:</p>
<ul>
<li><code>request</code>: The HTTP request object.</li>
</ul>
</li>
</ol>
<ul>
<li><code>'nations_list.html'</code>: The name of the HTML template file to be rendered.
<ul>
<li><code>{'nations': nations}</code>: A dictionary containing data to be passed to the template. In this case, it includes the list of nations obtained from the queryset.</li>
</ul>
</li>
</ul>
<ol start="8">
<li><strong><code>return render(...)</code></strong>: This line returns the rendered HTML content as an HTTP response. The rendered content will be the result of applying the data from the <code>nations</code> queryset to the &rsquo;nations_list.html&rsquo; template.</li>
</ol>
<p>In summary, the <code>list</code> method is responsible for retrieving a queryset of nations and rendering an HTML template (&rsquo;nations_list.html&rsquo;) with the nations&rsquo; data. The rendered HTML content is then returned as an HTTP response. This is a common pattern for providing a list view in a Django REST Framework API.</p>
</li>
<li>
<h4 id="update-your-urlspy-to-include-a-url-pattern-for-rendering-the-nations-list">Update your <code>urls.py</code> to include a URL pattern for rendering the nations list:<a hidden class="anchor" aria-hidden="true" href="#update-your-urlspy-to-include-a-url-pattern-for-rendering-the-nations-list">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># django_api_for_wagtail/urls.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> .views <span style="color:#f92672">import</span> NationAPIView
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;nations/&#39;</span>, NationAPIView<span style="color:#f92672">.</span>as_view(), name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nation-api&#39;</span>),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;nations/list/&#39;</span>, NationAPIView<span style="color:#f92672">.</span>as_view(), name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nations-list&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Add more URL patterns as needed</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
<li>
<p>Finally, update your <code>urls.py</code> at the project level to include the <code>django_api_for_wagtail</code> URLs:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># progetto_api/urls.py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.contrib <span style="color:#f92672">import</span> admin
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> django.urls <span style="color:#f92672">import</span> path, include
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>urlpatterns <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;admin/&#39;</span>, admin<span style="color:#f92672">.</span>site<span style="color:#f92672">.</span>urls),
</span></span><span style="display:flex;"><span>    path(<span style="color:#e6db74">&#39;django_api_for_wagtail/&#39;</span>, include(<span style="color:#e6db74">&#39;django_api_for_wagtail.urls&#39;</span>)),
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div></li>
</ol>
<p>Now, when you visit the URL http://127.0.0.1:8000/django_api_for_wagtail/nations/list/, it should render the nations list using the template.</p>
<hr>
<p>Fino a qui</p>
<h3 id="step-6-access-the-api">Step 6: Access the API<a hidden class="anchor" aria-hidden="true" href="#step-6-access-the-api">#</a></h3>
<ol>
<li>Open your web browser and navigate to <code>http://127.0.0.1:8000/api/blog/</code> (or the URL you configured).</li>
<li>You should see the serialized data from your Wagtail model.</li>
</ol>
<h3 id="step-7-integrate-with-wagtail">Step 7: Integrate with Wagtail<a hidden class="anchor" aria-hidden="true" href="#step-7-integrate-with-wagtail">#</a></h3>
<ol>
<li>In your Wagtail project, you can now fetch data from the API endpoint (<code>http://127.0.0.1:8000/api/blog/</code>) using Django&rsquo;s <code>requests</code> library or any other method you prefer.</li>
<li>Use the retrieved data to populate your Wagtail views/templates as needed.</li>
</ol>
<p>This is a basic setup, and you may need to customize it based on your specific requirements. Additionally, you might want to add authentication and permission controls to secure your API.</p>
<h3 id="wagtail-compatibility-with-django----linkhttpsdocswagtailorgenlatestreleasesupgradinghtml">WAGTAIL COMPATIBILITY WITH DJANGO ## - <a href="https://docs.wagtail.org/en/latest/releases/upgrading.html">link</a><a hidden class="anchor" aria-hidden="true" href="#wagtail-compatibility-with-django----linkhttpsdocswagtailorgenlatestreleasesupgradinghtml">#</a></h3>
<h1 id="python-1">PYTHON<a hidden class="anchor" aria-hidden="true" href="#python-1">#</a></h1>
<h2 id="spiegazione-attraverso-codice-di-__init__-__getattribute__-e-super-1">Spiegazione attraverso codice di <strong>init</strong>, <strong>getattribute</strong> e super<a hidden class="anchor" aria-hidden="true" href="#spiegazione-attraverso-codice-di-__init__-__getattribute__-e-super-1">#</a></h2>
<p>Spesso nei moduli di wagtail si fa riferimento alla classazione e subclassazione. Avere chiri alcuni termini è necessario. Questa è la breve sintesi attraverso un sempio</p>
<p><code>class Vehicle: def </code><strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)`
</code></pre>
<p>This is a simple class representing a vehicle with a brand.
It has an <strong>init</strong> method that initializes the brand attribute and a start method to print a message when the vehicle starts.
Car (inherits from Vehicle):</p>
<p>python
Copy code
class Car(Vehicle):
def <strong>init</strong>(self, brand, model):
# No use of super()
self.model = model</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} {self.model} car started.&quot;)
</code></pre>
<p>This class represents a specific type of vehicle, a Car, inheriting from the Vehicle class.
It has its own <strong>init</strong> method, but it doesn&rsquo;t use super(), and it has a start method that overrides the start method in the Vehicle class.
CarWithSuper (inherits from Car):</p>
<p>class CarWithSuper(Car):
def <strong>init</strong>(self, brand, model, color):
super().<strong>init</strong>(brand, model)
self.color = color</p>
<pre><code>def start(self):
    super().start()
    print(f&quot;The {self.color} car is ready to go.&quot;)

def __getattribute__(self, name):
    # Modifying __getattribute__ to add a prefix to the brand attribute
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__(name)
    else:
        return super().__getattribute__(name)
</code></pre>
<p>This class inherits from Car and introduces a new attribute color.
It uses super() in the <strong>init</strong> method to call the <strong>init</strong> method of the parent class (Car).
It overrides the start method, calls the parent&rsquo;s start method using super(), and adds an additional message.
It also modifies <strong>getattribute</strong> to add a prefix (&ldquo;Awesome&rdquo;) to the brand attribute.
Examples:
Example without super(), <strong>init</strong>, and <strong>getattribute</strong>:</p>
<p><code>car_without_super = Car(brand=&quot;Toyota&quot;, model=&quot;Camry&quot;) print(car_without_super.model)  # Output: Camry An instance of Car is created without using super(). __init__ in Car is called, but __init__ of the parent (Vehicle) is not called. start method from Vehicle is not available in car_without_super. Example with super(), __init__, and __getattribute__: car_with_super = CarWithSuper(brand=&quot;Ford&quot;, model=&quot;Mustang&quot;, color=&quot;red&quot;) print(car_with_super.brand)  # Output: Awesome Ford car_with_super.start()  # Output: Ford Mustang car started. The red car is ready to go.</code></p>
<p>An instance of CarWithSuper is created using super() to call <strong>init</strong> of the parent (Car).
<strong>getattribute</strong> is modified to add a prefix to the brand attribute.
start method calls the parent&rsquo;s (Car) start method using super() and adds an additional message.
Roles:</p>
<p><em><strong><strong>init</strong>:</strong></em>
Used for initializing the attributes of an object.
In the inheritance chain, it&rsquo;s common to use super().<strong>init</strong>(&hellip;) to call the initializer of the parent class.</p>
<p><em><strong><strong>getattribute</strong>:</strong></em> Called whenever an attribute of an object is accessed.
Can be modified to customize attribute access.
Used here to modify the behavior of accessing the brand attribute.</p>
<p><em><strong>super():</strong></em> Used to refer to the parent class.
In <strong>init</strong>, it&rsquo;s used to call the initializer of the parent class.
In methods, it&rsquo;s used to call methods from the parent class.
In the provided example, super() helps maintain the hierarchy in inheritance, ensuring that the methods of the parent classes are appropriately called. <strong>init</strong> is used for object initialization, and <strong>getattribute</strong> is modified to customize attribute access.</p>
<h3 id="vediamo-ora-cosa-succede-se-non-utilizziamo-i-metodi-1">Vediamo ora cosa succede se non utilizziamo i metodi<a hidden class="anchor" aria-hidden="true" href="#vediamo-ora-cosa-succede-se-non-utilizziamo-i-metodi-1">#</a></h3>
<h3 id="assenza-di-__init__-1">Assenza di <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#assenza-di-__init__-1">#</a></h3>
<p>If you don&rsquo;t use the <strong>init</strong> method in the Vehicle class, the class will still be valid, but instances of the class won&rsquo;t have a constructor to initialize their state. The <strong>init</strong> method is a special method in Python classes that is automatically called when an object is created. It is used for initializing the attributes of the object.</p>
<p>Here&rsquo;s what happens when you don&rsquo;t include <strong>init</strong>:</p>
<p>python
Copy code
class Vehicle:
def start(self):
print(&ldquo;Vehicle started.&rdquo;)</p>
<h2 id="creating-an-instance-without-__init__-1">Creating an instance without <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-without-__init__-1">#</a></h2>
<p>vehicle_instance = Vehicle()</p>
<h2 id="this-will-not-raise-an-error-but-the-instance-wont-have-a-brand-attribute-1">This will not raise an error, but the instance won&rsquo;t have a &lsquo;brand&rsquo; attribute.<a hidden class="anchor" aria-hidden="true" href="#this-will-not-raise-an-error-but-the-instance-wont-have-a-brand-attribute-1">#</a></h2>
<h3 id="if-you-try-to-access-brand-it-will-result-in-an-attributeerror-1">If you try to access &lsquo;brand&rsquo;, it will result in an AttributeError.<a hidden class="anchor" aria-hidden="true" href="#if-you-try-to-access-brand-it-will-result-in-an-attributeerror-1">#</a></h3>
<p>print(vehicle_instance.start())  # Output: Vehicle started.
print(vehicle_instance.brand)  # AttributeError: &lsquo;Vehicle&rsquo; object has no attribute &lsquo;brand&rsquo;
In the example above, creating an instance of Vehicle without an <strong>init</strong> method is allowed. However, without an <strong>init</strong> method, instances won&rsquo;t have any attributes initialized during instantiation. If you try to access an attribute that hasn&rsquo;t been defined, you will get an AttributeError.</p>
<p>Including the <strong>init</strong> method allows you to initialize the state of an object when it is created. For example:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<h1 id="creating-an-instance-with-__init__-1">Creating an instance with <strong>init</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-with-__init__-1">#</a></h1>
<p>vehicle_instance = Vehicle(brand=&ldquo;Toyota&rdquo;)</p>
<h1 id="now-the-brand-attribute-is-initialized-during-instantiation">Now, the &lsquo;brand&rsquo; attribute is initialized during instantiation.<a hidden class="anchor" aria-hidden="true" href="#now-the-brand-attribute-is-initialized-during-instantiation">#</a></h1>
<p>print(vehicle_instance.start())  # Output: Toyota vehicle started.
print(vehicle_instance.brand)  # Output: Toyota
In the second example, the <strong>init</strong> method is used to initialize the brand attribute when a Vehicle instance is created. This ensures that the instance has a properly initialized state from the beginning.</p>
<h4 id="ed-ora-quando-posso-usare-e-non-usare-__getattribute__-1">Ed ora quando posso usare e non usare <strong>getattribute</strong>?###<a hidden class="anchor" aria-hidden="true" href="#ed-ora-quando-posso-usare-e-non-usare-__getattribute__-1">#</a></h4>
<p>If you don&rsquo;t define the <strong>getattribute</strong> method in a class, Python will use the default behavior for attribute access. The default behavior involves looking up the attribute in the object&rsquo;s dictionary and returning its value if found. If the attribute is not found in the object&rsquo;s dictionary, Python looks for the attribute in the class hierarchy.</p>
<p>Here&rsquo;s what happens if you don&rsquo;t use <strong>getattribute</strong>:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<h2 id="creating-an-instance-without-__getattribute__-1">Creating an instance without <strong>getattribute</strong><a hidden class="anchor" aria-hidden="true" href="#creating-an-instance-without-__getattribute__-1">#</a></h2>
<p>vehicle_instance = Vehicle(brand=&ldquo;Toyota&rdquo;)</p>
<h2 id="accessing-the-brand-attribute-without-a-custom-__getattribute__-1">Accessing the &lsquo;brand&rsquo; attribute without a custom <strong>getattribute</strong><a hidden class="anchor" aria-hidden="true" href="#accessing-the-brand-attribute-without-a-custom-__getattribute__-1">#</a></h2>
<p>print(vehicle_instance.brand)  # Output: Toyota</p>
<h3 id="the-default-behavior-is-used-and-there-is-no-need-for-a-custom-__getattribute__-in-this-case-1">The default behavior is used, and there is no need for a custom <strong>getattribute</strong> in this case.<a hidden class="anchor" aria-hidden="true" href="#the-default-behavior-is-used-and-there-is-no-need-for-a-custom-__getattribute__-in-this-case-1">#</a></h3>
<p>In the example above, we create a Vehicle class with an <strong>init</strong> method to initialize the brand attribute. When we access the brand attribute, the default attribute access behavior is used, and there is no need for a custom <strong>getattribute</strong>. The attribute is found in the instance&rsquo;s dictionary, and its value is returned.</p>
<p>The <strong>getattribute</strong> method is a powerful tool for customizing attribute access, and it allows you to intercept attribute access calls and customize the behavior. However, in many cases, you may not need to override it, and the default behavior is sufficient for basic attribute access. Only when you need to customize the attribute access behavior should you consider defining a <strong>getattribute</strong> method.</p>
<p>In the example provided, the <strong>getattribute</strong> method is used to customize the behavior of accessing the brand attribute in the CarWithSuper class. Specifically, it adds a prefix (&ldquo;Awesome&rdquo;) to the value of the brand attribute before returning it.</p>
<p>Here&rsquo;s the relevant part of the code:</p>
<p>python
Copy code
class CarWithSuper(Car):
# &hellip;</p>
<pre><code>def __getattribute__(self, name):
    # Modifying __getattribute__ to add a prefix to the brand attribute
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__(name)
    else:
        return super().__getattribute__(name)
</code></pre>
<p>In this case, the <strong>getattribute</strong> method is modifying the behavior of accessing the brand attribute. Without this customization, accessing car_with_super.brand would simply return the value of the brand attribute. With the custom <strong>getattribute</strong>, it returns the value with the added prefix.</p>
<p>So, you might need to use <strong>getattribute</strong> when you want to customize or intercept attribute access calls and modify the behavior based on your specific requirements. It&rsquo;s a powerful tool, but it should be used judiciously, as unnecessary or incorrect use may lead to unexpected behavior and potential issues.</p>
<h2 id="mixin-1">MIXIN<a hidden class="anchor" aria-hidden="true" href="#mixin-1">#</a></h2>
<p>L&rsquo;esempio esposto e che di seguito si ripropone risulta anche un ottimo esempio di mixin</p>
<p>Yes, the provided example with Vehicle, Car, and CarWithSuper can be considered an example of mixin-like behavior. Let me break it down:</p>
<p>Vehicle Class:</p>
<p>python
Copy code
class Vehicle:
def <strong>init</strong>(self, brand):
self.brand = brand</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} vehicle started.&quot;)
</code></pre>
<p>This is the base class representing a generic vehicle. It has an <strong>init</strong> method to initialize the brand attribute and a start method.</p>
<p>Car Class (Inherits from Vehicle):</p>
<p>python
Copy code
class Car(Vehicle):
def <strong>init</strong>(self, brand, model):
super().<strong>init</strong>(brand)
self.model = model</p>
<pre><code>def start(self):
    print(f&quot;{self.brand} {self.model} car started.&quot;)
</code></pre>
<p>The Car class inherits from Vehicle. It has its own <strong>init</strong> method but uses super() to call the <strong>init</strong> method of the parent class (Vehicle). It also has its own start method, overriding the start method of Vehicle.</p>
<p>CarWithSuper Class (Inherits from Car):</p>
<p>python
Copy code
class CarWithSuper(Car):
def <strong>init</strong>(self, brand, model, color):
super().<strong>init</strong>(brand, model)
self.color = color</p>
<pre><code>def start(self):
    super().start()
    print(f&quot;The {self.color} car is ready to go.&quot;)

def __getattribute__(self, name):
    if name == &quot;brand&quot;:
        return &quot;Awesome &quot; + super().__getattribute__('brand')
    else:
        return super().__getattribute__(name)
</code></pre>
<p>The CarWithSuper class inherits from Car and introduces a new attribute (color). It uses super() to call the <strong>init</strong> method of the parent class (Car). It also overrides the start method, calling the parent&rsquo;s (Car) start method using super() and adding an additional message. Additionally, it modifies <strong>getattribute</strong> to add a prefix (&ldquo;Awesome&rdquo;) to the brand attribute.</p>
<p>So, in this example, the classes are organized in a way that exhibits mixin-like behavior. The CarWithSuper class enhances the behavior of the Car class by adding attributes and modifying methods, and it uses super() to maintain the hierarchy and call methods from parent classes. While it may not strictly adhere to the classic definition of a mixin, it shares some characteristics of mixin-like behavior.</p>
<h3 id="definizione-di-mixin-1">Definizione di mixin<a hidden class="anchor" aria-hidden="true" href="#definizione-di-mixin-1">#</a></h3>
<p>In object-oriented programming, a mixin is a class that provides a certain functionality to be inherited by a subclass, but is not meant to stand alone. Mixins are used to enhance the functionality of a class without the need for multiple inheritance.</p>
<p>Here are some key characteristics and features of mixins:</p>
<p>Purpose-Specific Functionality: Mixins are designed to provide a specific set of functionalities or behaviors that can be easily added to other classes. They encapsulate a piece of behavior.</p>
<p>Reusability: Mixins promote code reuse. Instead of duplicating code in multiple classes, you can create a mixin and include it in various classes that need that particular behavior.</p>
<p>No Standalone Use: Mixins are not meant to be instantiated or used independently. They lack the complete implementation to be used as standalone classes. They are intended to be combined with other classes.</p>
<p>Flexible Composition: Since a class can inherit from multiple mixins, it allows for flexible composition of functionalities. This is in contrast to languages that do not support multiple inheritance directly.</p>
<p>Avoids Diamond Problem: Mixins can help avoid the &ldquo;diamond problem&rdquo; that arises in languages with multiple inheritance, where a class inherits from two classes that have a common ancestor.</p>
<p>Small and Focused: Mixins are typically small and focused on a specific task. This makes them easy to understand, maintain, and reuse.</p>
<h1 id="standard-commands-in-django-installation-1">STANDARD COMMANDS IN DJANGO INSTALLATION#<a hidden class="anchor" aria-hidden="true" href="#standard-commands-in-django-installation-1">#</a></h1>
<ol>
<li>python3 -m venv venv</li>
</ol>
<h1 id="useful-property-and-method-in-django-1">USEFUL PROPERTY AND METHOD IN DJANGO<a hidden class="anchor" aria-hidden="true" href="#useful-property-and-method-in-django-1">#</a></h1>
<h2 id="luso-di-queryset-1">L&rsquo;uso di Queryset<a hidden class="anchor" aria-hidden="true" href="#luso-di-queryset-1">#</a></h2>
<p>Django querysets have several notable properties and methods that provide flexibility and ease of use when interacting with the database. Here are some key properties and methods of querysets:</p>
<p>Chaining:</p>
<p>Querysets are lazy, meaning they don&rsquo;t hit the database until an action is performed.
Multiple filters and operations can be chained together to build complex queries.
Example:</p>
<p>python
Copy code
queryset = Model.objects.filter(field1=value1).exclude(field2=value2).order_by(&rsquo;-date_created&rsquo;)
Slicing:</p>
<p>Querysets can be sliced to retrieve a specific range of objects.
Example:</p>
<p>python
Copy code
queryset = Model.objects.all()
result_slice = queryset[5:10]  # Retrieve objects 5 through 9
Count:</p>
<p>The count method returns the number of objects in the queryset without fetching the actual objects.
Example:</p>
<p>python
Copy code
count = queryset.count()
Distinct:</p>
<p>The distinct method eliminates duplicate rows from the queryset.
Example:</p>
<p>python
Copy code
distinct_values = Model.objects.values(&lsquo;field&rsquo;).distinct()
Aggregate:</p>
<p>The aggregate method allows for the calculation of aggregate values (e.g., sum, average) on the queryset.
Example:</p>
<p>python
Copy code
from django.db.models import Avg
average_value = Model.objects.aggregate(avg_value=Avg(&rsquo;numeric_field&rsquo;))
Values and ValuesList:</p>
<p>The values method returns a queryset of dictionaries representing the values of specific fields.
The values_list method returns a queryset of tuples representing the values of specific fields.
Example:</p>
<p>python
Copy code
values_queryset = Model.objects.values(&lsquo;field1&rsquo;, &lsquo;field2&rsquo;)
values_list_queryset = Model.objects.values_list(&lsquo;field1&rsquo;, &lsquo;field2&rsquo;)
Exists:</p>
<p>The exists method checks if there are any records in the queryset.
Example:</p>
<p>queryset_exists = Model.objects.filter(field=value).exists()
Update and Delete:</p>
<p>The update method modifies multiple records in the database without fetching them.
The delete method deletes records from the database without fetching them.
Example:</p>
<p>python
Copy code
Model.objects.filter(field=value).update(status=&lsquo;new_status&rsquo;)
Model.objects.filter(field=value).delete()
These are just a few of the many properties and methods provided by Django querysets. They offer a powerful and expressive way to interact with the database.</p>
<h3 id="esempio-in-wagtail-1">Esempio in wagtail<a hidden class="anchor" aria-hidden="true" href="#esempio-in-wagtail-1">#</a></h3>
<p>from datetime import datetime, timedelta, timezone
from django.shortcuts import render
from wagtail.core.models import Page
from your_app.models import RoundPage  # Replace &lsquo;your_app&rsquo; with the actual name of your app
from path.to.get_deadline_date_for import get_deadline_date_for  # Replace &lsquo;path.to&rsquo; with the actual path</p>
<p>def docs_internship(request):
now = datetime.now(timezone.utc)
today = get_deadline_date_for(now)
five_weeks_ago = today - timedelta(days=7 * 5)</p>
<pre><code>applicant_round = RoundPage.objects.filter(
    pingnew__lte=today,
    internannounce__gt=today,
).first()

intern_round = RoundPage.objects.filter(
    internannounce__lte=today,
    internends__gt=five_weeks_ago,
).first()

return render(request, 'home/docs/internship_guide.html', {
    'applicant_round': applicant_round,
    'intern_round': intern_round,
})
</code></pre>
<h2 id="-strumenti-avanzati-creare-una-pagina-wagtail-allinterno-di-un-sito-django"># Strumenti avanzati: Creare una pagina wagtail all&rsquo;interno di un sito Django <a hidden class="anchor" aria-hidden="true" href="#-strumenti-avanzati-creare-una-pagina-wagtail-allinterno-di-un-sito-django">#</a></h2>
<ul>
<li>
<p>(link)[https://docs.wagtail.org/en/latest/advanced_topics/add_to_django_project.html]</p>
</li>
<li>
<p>Installazione in Django al pari livello di manage.py: <code>python3 manage.py startapp blog_wiki_wag</code></p>
</li>
<li>
<p>Verifica in Wagtail di requirements.txt della compatibilità delle versioni tra Django e Wagtail. Nel caso specifico Django&gt;=4.2,&lt;4.3 - wagtail&gt;=5.1,&lt;5.2</p>
</li>
<li>
<p>Verifica in Django di requirements.txt: Django==4.2.2</p>
</li>
<li>
<p>Se vi è compatibilità in Wagtal: <code>pip3 freeze requriments.txt</code></p>
</li>
<li>
<p>*** Verifica del motore Database in Wagtail in base.py: ***</p>
</li>
<li>
<p><code>DATABASES = { &quot;default&quot;: { &quot;ENGINE&quot;: &quot;django.db.backends.sqlite3&quot;, &quot;NAME&quot;: os.path.join(BASE_DIR, &quot;db.sqlite3&quot;), } }</code></p>
</li>
<li>
<p>*** Verifica del motore database in Django in settings.py: ***</p>
</li>
<li>
<p><code>DATABASES = { 'default': { 'ENGINE': 'django.db.backends.sqlite3', 'NAME': BASE_DIR / 'db.sqlite3', } }</code></p>
</li>
<li>
<p>Come si può vedere sopra i due motori DB sono identici</p>
</li>
<li>
<p>Ora creare la subdirectory di progetto wagtail che conterrà tutti i file dell&rsquo;app wagtail (quella con il quale si effettuato il requirements.txt)</p>
</li>
<li>
<p>effettuare il clone del branch da GB del progetto wagtail (vedere git e github per i dettagli)</p>
</li>
<li>
<p>a questo punto lanciare il comando Install the Project:</p>
</li>
</ul>
<p>Navigate to the wagtail-wag directory in your terminal: <code>pip install -r requirements.txt</code></p>
<ul>
<li>
<p>Add Wagtail URLs to Django URLs: <code>path('wagtail/', include('wiki-wag.wagtail_urls')), # nuovo inserimento</code></p>
</li>
<li>
<p>Add the required wagtail modules in setting.py: `INSTALLED_APPS = [</p>
<p>&lsquo;wagtail.contrib.forms&rsquo;,
&lsquo;wagtail.contrib.redirects&rsquo;,
&lsquo;wagtail.embeds&rsquo;,
&lsquo;wagtail.sites&rsquo;,
&lsquo;wagtail.users&rsquo;,
&lsquo;wagtail.snippets&rsquo;,
&lsquo;wagtail.documents&rsquo;,
&lsquo;wagtail.images&rsquo;,
&lsquo;wagtail.search&rsquo;,
&lsquo;wagtail.admin&rsquo;,</p>
<p>&rsquo;taggit&rsquo;,
&lsquo;modelcluster&rsquo;,</p>
<p>&lsquo;django.contrib.admin&rsquo;,
&lsquo;django.contrib.auth&rsquo;,
&lsquo;django.contrib.contenttypes&rsquo;,
&lsquo;django.contrib.sessions&rsquo;,
&lsquo;django.contrib.messages&rsquo;,
&lsquo;django.contrib.staticfiles&rsquo;,
&lsquo;sgq&rsquo;,
&lsquo;wagtail&rsquo;,
]`</p>
</li>
<li>
<p>Add&rsquo;wiki-wag&rsquo; app in your Django INSTALLED_APPS as well. Add it if it&rsquo;s not present.</p>
</li>
</ul>
<p>INSTALLED_APPS = [
# &hellip;
&lsquo;wiki-wag&rsquo;,
# &hellip;
]</p>
<ul>
<li>
<p>add in Django settings this:
` MIDDLEWARE = [
&lsquo;django.contrib.sessions.middleware.SessionMiddleware&rsquo;,
&lsquo;django.middleware.common.CommonMiddleware&rsquo;,
&lsquo;django.middleware.csrf.CsrfViewMiddleware&rsquo;,
&lsquo;django.contrib.auth.middleware.AuthenticationMiddleware&rsquo;,
&lsquo;django.contrib.messages.middleware.MessageMiddleware&rsquo;,
&lsquo;django.middleware.clickjacking.XFrameOptionsMiddleware&rsquo;,
&lsquo;django.middleware.security.SecurityMiddleware&rsquo;,</p>
<p>&lsquo;wagtail.contrib.redirects.middleware.RedirectMiddleware&rsquo;,
] `</p>
</li>
</ul>
<p>A questo punto dvrebbe apparire un Warning che indica qualcosa di questo genere
:::caution
WARNINGS:
?: (wagtailadmin.W003) The WAGTAILADMIN_BASE_URL setting is not defined
HINT: This should be the base URL used to access the Wagtail admin site. Without this, URLs in notification emails will not display correctly
:::</p>
<p>Proseguire e verificare se in admin panel appaiono gli elementi di inpunt in Admin Panel</p>
<h2 id="so-now-update-the-urls-and-run-makemirgations-and-migrate">So now update the urls and run makemirgations and migrate<a hidden class="anchor" aria-hidden="true" href="#so-now-update-the-urls-and-run-makemirgations-and-migrate">#</a></h2>
<p>from django.contrib import admin
from django.urls import path, include
from wagtail import urls as wagtail_urls</p>
<p>urlpatterns = [
path(&rsquo;&rsquo;, include(&lsquo;sgq.urls&rsquo;)),  # Include the app-level URLs
path(&lsquo;admin/&rsquo;, admin.site.urls),
# path(&lsquo;wagtail/&rsquo;, include(&lsquo;wagtail.core.urls&rsquo;)), # nuovo inserimento
path(&lsquo;wagtail/&rsquo;, include(wagtail_urls)), # nuovo inserimento</p>
<p>]</p>
<h1 id="django">DJANGO<a hidden class="anchor" aria-hidden="true" href="#django">#</a></h1>
<h2 id="create-a-django-app-from-0-from-create-django-api-appcreate-django-api-app-">Create a Django App from 0 (from <a href="#create-django-api-app">Create Django API App</a> )<a hidden class="anchor" aria-hidden="true" href="#create-a-django-app-from-0-from-create-django-api-appcreate-django-api-app-">#</a></h2>
<h3 id="step-1-create-a-virtual-environment-optional-but-recommended">Step 1: Create a Virtual Environment (Optional but recommended)<a hidden class="anchor" aria-hidden="true" href="#step-1-create-a-virtual-environment-optional-but-recommended">#</a></h3>
<p>Open your terminal and navigate to the directory where you want to create your Django project. Run the following commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 <span style="color:#f92672">-</span>m venv venv
</span></span><span style="display:flex;"><span>source venv<span style="color:#f92672">/</span>bin<span style="color:#f92672">/</span>activate
</span></span></code></pre></div><h3 id="step-2-install-django">Step 2: Install Django<a hidden class="anchor" aria-hidden="true" href="#step-2-install-django">#</a></h3>
<p>While in the activated virtual environment, install Django using the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip3 install django
</span></span></code></pre></div><p>Step 3: Create a Django Project</p>
<p>Run the following command to create a new Django project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>django<span style="color:#f92672">-</span>admin startproject progetto_api
</span></span></code></pre></div><p>Replace <code>myproject</code> with the desired name for your project.</p>
<h3 id="step-4-navigate-to-the-project-directory">Step 4: Navigate to the Project Directory<a hidden class="anchor" aria-hidden="true" href="#step-4-navigate-to-the-project-directory">#</a></h3>
<p>Change into the project directory:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>cd progetto_api
</span></span></code></pre></div><h3 id="step-5-create-a-django-app">Step 5: Create a Django App<a hidden class="anchor" aria-hidden="true" href="#step-5-create-a-django-app">#</a></h3>
<p>Run the following command to create a new Django app:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py startapp django_api_for_wagtail
</span></span></code></pre></div><h3 id="step-6-configure-database">Step 6: Configure Database<a hidden class="anchor" aria-hidden="true" href="#step-6-configure-database">#</a></h3>
<p>Open the <code>myproject/settings.py</code> file and configure the app and the database settings. By default, Django uses SQLite for development (if not already configured):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># myproject/settings.py</span>
</span></span><span style="display:flex;"><span>INSTALLED_APPS <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;django_api_for_wagtail&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ...</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># .... #</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DATABASES <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;default&#39;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;ENGINE&#39;</span>: <span style="color:#e6db74">&#39;django.db.backends.sqlite3&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;NAME&#39;</span>: BASE_DIR <span style="color:#f92672">/</span> <span style="color:#e6db74">&#34;db.sqlite3&#34;</span>,
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="step-7-apply-migrations">Step 7: Apply Migrations<a hidden class="anchor" aria-hidden="true" href="#step-7-apply-migrations">#</a></h3>
<p>Run the following commands to apply initial migrations:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py makemigrations
</span></span><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py migrate
</span></span></code></pre></div><h3 id="step-8-create-a-superuser-optional-but-recommended">Step 8: Create a Superuser (Optional but recommended)<a hidden class="anchor" aria-hidden="true" href="#step-8-create-a-superuser-optional-but-recommended">#</a></h3>
<p>Run the following command to create a superuser account for the Django admin:</p>
<pre tabindex="0"><code>bashCopy code
python manage.py createsuperuser
</code></pre><p>Follow the prompts to set a username, email, and password.</p>
<h3 id="step-9-run-the-development-server">Step 9: Run the Development Server<a hidden class="anchor" aria-hidden="true" href="#step-9-run-the-development-server">#</a></h3>
<p>Start the Django development server:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py runserver
</span></span></code></pre></div><p>Visit <code>http://127.0.0.1:8000/</code> in your web browser to see the Django welcome page.</p>
<h3 id="step-10-create-a-superuser">Step 10: Create a Superuser<a hidden class="anchor" aria-hidden="true" href="#step-10-create-a-superuser">#</a></h3>
<ol>
<li>
<p>After running the development server return e to your project directory (at manage.py level).</p>
</li>
<li>
<p>Run the following command to create a superuser account:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py createsuperuser
</span></span></code></pre></div></li>
<li>
<p>Follow the prompts to set a username, email, and password for the superuser account.</p>
</li>
</ol>
<h3 id="step-11-run-the-development-server">Step 11: Run the Development Server<a hidden class="anchor" aria-hidden="true" href="#step-11-run-the-development-server">#</a></h3>
<p>Ensure that the development server is still running:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>python3 manage<span style="color:#f92672">.</span>py runserver
</span></span></code></pre></div><h3 id="step-12-open-the-admin-interface">Step 12: Open the Admin Interface<a hidden class="anchor" aria-hidden="true" href="#step-12-open-the-admin-interface">#</a></h3>
<p>Visit <code>http://127.0.0.1:8000/admin/</code> in your web browser. Log in with the superuser credentials you just created.</p>
<h3 id="step-13-verify-admin-interface">Step 13: Verify Admin Interface<a hidden class="anchor" aria-hidden="true" href="#step-13-verify-admin-interface">#</a></h3>
<p>Verify that the Django admin interface is working correctly</p>
<h3 id="step-14-initialize-a-git-repository">Step 14: Initialize a Git Repository<a hidden class="anchor" aria-hidden="true" href="#step-14-initialize-a-git-repository">#</a></h3>
<ol>
<li>
<p>Open a new terminal window in your project directory</p>
</li>
<li>
<p>The Git commands to initialize a repository, add files, and make an initial commit should be executed at the root level of your project, where your <code>manage.py</code> file is located. The <code>manage.py</code> file is typically located at the top level of your Django project, not within the virtual environment (<code>venv</code>).</p>
</li>
<li>
<p>Run the following commands to initialize a Git repository, add all files, and make an initial commit:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Initial commit&#34;</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="step-15-create-a-github-repository">Step 15: Create a GitHub Repository<a hidden class="anchor" aria-hidden="true" href="#step-15-create-a-github-repository">#</a></h3>
<ol>
<li>Go to the <a href="https://github.com/">GitHub website</a> and log in or create a new account.</li>
<li>Click on the &ldquo;+&rdquo; icon in the top right corner and select &ldquo;New repository.&rdquo;</li>
<li>Follow the instructions to create a new repository on GitHub.</li>
<li>git repo name <a href="https://github.com/progettazionemauro/django-api">https://github.com/progettazionemauro/django-api</a></li>
</ol>
<h3 id="step-16-connect-local-repository-to-github">Step 16: Connect Local Repository to GitHub<a hidden class="anchor" aria-hidden="true" href="#step-16-connect-local-repository-to-github">#</a></h3>
<ol>
<li>
<p>After creating the GitHub repository follow those instructions.</p>
<ul>
<li>
<p><code>git remote add origin https://github.com/progettazionemauro/django-api</code></p>
</li>
<li>
<p>git branch -M main</p>
<p>note: The <code>git branch -M main</code> command is used to rename the current branch. In Git, it&rsquo;s a way to both rename the current branch and force-update the tracking branches.</p>
<p>Here&rsquo;s what the command does:</p>
<ul>
<li><code>git branch</code>: This command is used for creating, listing, renaming, and deleting branches in Git. When used without additional options, it lists all the local branches.</li>
<li><code>-M main</code>: This option is used to rename the current branch to &ldquo;main&rdquo;. The <code>-M</code> flag is a shortcut for <code>--move</code>, which is used for renaming branches.</li>
</ul>
<p>When you create a new Git repository or clone an existing one, the default branch is usually named &ldquo;master.&rdquo; However, in recent years, there has been a movement in the Git community to use more inclusive and neutral terminology. As a result, many projects are now using &ldquo;main&rdquo; instead of &ldquo;master&rdquo; as the default branch name.</p>
<p>The <code>git branch -M main</code> command is often used after creating a new repository or when transitioning from &ldquo;master&rdquo; to &ldquo;main&rdquo; to update the branch name.</p>
<p>It&rsquo;s important to note that if you&rsquo;re renaming the branch you are currently on, you might need to update the remote repository to reflect the new branch name.</p>
</li>
</ul>
<pre tabindex="0"><code>git remote add origin https://github.com/progettazionemauro/django-api
git branch -M main
git push -u origin main
</code></pre><p>Make sure to replace &ldquo;your-username&rdquo; and &ldquo;your-repo&rdquo; with your GitHub username and repository name.</p>
<h3 id="step-17-bis-problems-with-git-push">Step 17 bis: problems with git push<a hidden class="anchor" aria-hidden="true" href="#step-17-bis-problems-with-git-push">#</a></h3>
<p>In doing push it can happen to find issues related to pushing for the first time into Github. For example when you created the repo and added readme.md and it is not present into local repo this can generate a misealignment that che lead to generate an error likse that:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push origin main
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>To https://github.com/progettazionemauro/django-api<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">`</span>! <span style="color:#f92672">[</span>rejected<span style="color:#f92672">]</span>        main -&gt; main <span style="color:#f92672">(</span>non-fast-forward<span style="color:#f92672">)</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>error: push di alcuni riferimenti su <span style="color:#e6db74">&#39;https://github.com/progettazionemauro/django-api&#39;</span> non riuscito<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>suggerimento: Gli aggiornamenti sono stati rifiutati perché l<span style="color:#e6db74">&#39;ultimo commit del branch`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`suggerimento: attuale è rimasto indietro rispetto alla sua controparte remota.`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`suggerimento: Integra le modifiche remote (ad es. con &#39;</span>git pull ...<span style="color:#e6db74">&#39;) prima di`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`suggerimento: eseguire nuovamente il push.`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`suggerimento: Vedi la &#39;</span>Nota sui fast forward<span style="color:#e6db74">&#39; in &#39;</span>git push --help<span style="color:#960050;background-color:#1e0010">&#39;</span> per ulteriori<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>suggerimento: dettagli.<span style="color:#e6db74">`</span>
</span></span></code></pre></div><p>So it this is the case the best option if to do this:</p>
<p>In alternativa, puoi anche eseguire il comando:<code>git push --force</code> per forzare il push delle tue modifiche, anche se non sono un fast forward. Tuttavia, questa è una soluzione rischiosa perché potrebbe sovrascrivere le modifiche remote che non hai ancora integrato nel tuo branch locale.</p>
<p>Per capire meglio cosa significa &ldquo;non-fast-forward&rdquo;, è necessario comprendere il concetto di fast forward. Un fast forward è un tipo di push che aggiorna un branch locale con le ultime modifiche apportate a un branch remoto. Il fast forward è possibile solo se le modifiche apportate ai due branch sono consecutive.</p>
</li>
</ol>
<h3 id="step-18-verify-github-repository">Step 18: Verify GitHub Repository<a hidden class="anchor" aria-hidden="true" href="#step-18-verify-github-repository">#</a></h3>
<p>Go to your GitHub repository in the web browser and verify that your code has been pushed successfully.</p>
<p>That&rsquo;s it! Now you have a Django project with a superuser account, and your code is version-controlled using Git and hosted on GitHub.</p>
<h3 id="step-19-create-models-views-and-templates-optional">Step 19: Create Models, Views, and Templates (Optional)<a hidden class="anchor" aria-hidden="true" href="#step-19-create-models-views-and-templates-optional">#</a></h3>
<p>You can now start building your Django app by creating models, views, and templates. Define your models in the <code>models.py</code> file, create views in the <code>views.py</code> file, and add templates in the <code>templates</code> directory.</p>
<h3 id="step-20-create-api-app-optional">Step 20: Create API App (Optional)<a hidden class="anchor" aria-hidden="true" href="#step-20-create-api-app-optional">#</a></h3>
<p>If you want to create a separate app for your API, follow the instructions provided in the previous response to create an <code>api</code> app and set up serializers, views, and URLs.</p>
<p>That&rsquo;s it! You now have a basic Django project and app set up. Customize it based on your specific requirements and integrate it with your Wagtail project as needed.</p>
<h2 id="working-with-django-app">Working with Django APP<a hidden class="anchor" aria-hidden="true" href="#working-with-django-app">#</a></h2>
<h3 id="add-new-database-in-the-app">Add new database in the app<a hidden class="anchor" aria-hidden="true" href="#add-new-database-in-the-app">#</a></h3>
<p>To create a new model in your Django <code>blog</code> app that holds information about files, images, text, and image links, you can modify your <code>models.py</code> file as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> django.db <span style="color:#f92672">import</span> models
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Post</span>(models<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    title <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)
</span></span><span style="display:flex;"><span>    text <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>TextField()
</span></span><span style="display:flex;"><span>    file_name <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>, unique<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  <span style="color:#75715e"># Name of the file</span>
</span></span><span style="display:flex;"><span>    image_name <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>CharField(max_length<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)  <span style="color:#75715e"># Name of the image</span>
</span></span><span style="display:flex;"><span>    image_link <span style="color:#f92672">=</span> models<span style="color:#f92672">.</span>URLField()  <span style="color:#75715e"># Link to the image</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __str__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>title
</span></span></code></pre></div><p>In this model:</p>
<ul>
<li><code>title</code>: Represents the title of the post.</li>
<li><code>text</code>: Represents the content of the post (text).</li>
<li><code>file_name</code>: Represents the name of the file produced by your autogenerative Python code.</li>
<li><code>image_name</code>: Represents the name of the associated image.</li>
<li><code>image_link</code>: Represents the link to the image.</li>
</ul>
<p>You can adjust the field types and lengths according to your requirements.</p>
<pre tabindex="0"><code>
Once the model is created and migrated, you can register it in the Django admin site to manage it:

```python
from django.contrib import admin
from .models import Post

@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display = (&#39;title&#39;, &#39;file_name&#39;, &#39;image_name&#39;, &#39;image_link&#39;)
</code></pre><p>After defining the model, don&rsquo;t forget to run the following commands to create and apply the migrations:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python manage.py makemigrations
</span></span><span style="display:flex;"><span>python manage.py migrate
</span></span></code></pre></div><p>With this setup, you&rsquo;ll be able to add, edit, and delete posts with associated file names, image names, and image links through the Django admin interface. You can also access and manipulate this data programmatically through your Django views and templates as needed.</p>
<h1 id="advanced-bash-commands--django">ADVANCED BASH COMMANDS &amp; DJANGO<a hidden class="anchor" aria-hidden="true" href="#advanced-bash-commands--django">#</a></h1>
<h2 id="comando-per-generare-pagine-in-hugo">Comando per generare pagine in Hugo<a hidden class="anchor" aria-hidden="true" href="#comando-per-generare-pagine-in-hugo">#</a></h2>
<p>#!/bin/bash</p>
<pre><code># Define paths

posts_dir=&quot;../sgb_start/content/posts&quot;

template_file=&quot;./../cheatsheet.md&quot;  # Adjust this path to the location of your cheatsheet.md file

  

# Check if the posts directory exists

if [ !  -d  &quot;$posts_dir&quot; ]; then

echo  &quot;Error: Hugo posts directory not found!&quot;

exit  1

fi

  

# Check if the template file exists

if [ !  -f  &quot;$template_file&quot; ]; then

echo  &quot;Error: Template file not found!&quot;

exit  1

fi

  

# Define the new file name

new_post_file=&quot;$posts_dir/il_mio_secondo_post.md&quot;

  

# Check if the new post file already exists

if [ -f  &quot;$new_post_file&quot; ]; then

echo  &quot;Error: il_mio_secondo_post.md already exists!&quot;

exit  1

fi

  

# Extract front matter using sed

front_matter=$(sed  -n '/^\+\+\+/,/^\+\+\+/p' &quot;$posts_dir/il_mio_primo_post.md&quot;)

  

# Check if front matter is empty

if [ -z  &quot;$front_matter&quot; ]; then

echo  &quot;Error: Front matter not found in il_mio_primo_post.md&quot;

exit  1

fi

  

# Append the front matter to the new post file

echo  &quot;$front_matter&quot;  &gt;  &quot;$new_post_file&quot;

  

# Append the content of the template file to the new post file

cat  &quot;$template_file&quot;  &gt;&gt;  &quot;$new_post_file&quot;

  

echo  &quot;New post created successfully: $new_post_file&quot;
</code></pre>
<h3 id="implementazione-del-comando-add_sheetsh-into-django-nella-medesima-app">Implementazione del comando add_sheet.sh into Django (nella medesima app)<a hidden class="anchor" aria-hidden="true" href="#implementazione-del-comando-add_sheetsh-into-django-nella-medesima-app">#</a></h3>
<h3 id="django-app-adminpy">Django app: admin.py<a hidden class="anchor" aria-hidden="true" href="#django-app-adminpy">#</a></h3>
<pre><code>from  django.contrib  import  admin

from .models  import  Nation, CustomFeature

import  os

import  subprocess

  

@admin.register(Nation)

class  NationAdmin(admin.ModelAdmin):

list_display  = ('name', 'capital')

  

@admin.register(CustomFeature)

class  CustomFeatureAdmin(admin.ModelAdmin):

list_display  = ('name', 'description')

  

def  run_script(self, request, queryset):

try:

# This line retrieves the directory path of the current Python script (admin.py in this case) using __file__,

# which is a special attribute in Python that represents the current file path.
### Django app: admin.py
    current_dir  =  os.path.dirname(__file__)
    
    script_path  =  os.path.abspath(os.path.join(current_dir, 'add_page.sh'))
    
    print(&quot;Absolute path to script:&quot;, script_path) # Print out the absolute path
    
    subprocess.run([script_path], check=True)
    
    self.message_user(request, &quot;Script executed successfully&quot;)
    
    except  Exception  as  e:
    
    self.message_user(request, f&quot;Script execution failed: {e}&quot;, level='ERROR')
    
      
      
    
    run_script.short_description =  &quot;Run add_page.sh&quot;
    
      
    
    actions  = [run_script]
</code></pre>
<h3 id="django-app-modelspy">Django app: models.py<a hidden class="anchor" aria-hidden="true" href="#django-app-modelspy">#</a></h3>
<pre><code>from  django.db  import  models

  

class  Nation(models.Model):

name  =  models.CharField(max_length=255, unique=True)

capital  =  models.CharField(max_length=255)

  

def  __str__(self):

return  self.name

  

class  CustomFeature(models.Model):

name  =  models.CharField(max_length=255, unique=True)

description  =  models.TextField()

  

def  __str__(self):

return  self.name
</code></pre>
<h3 id="addendum-for-test-pathpy">Addendum for test: path.py<a hidden class="anchor" aria-hidden="true" href="#addendum-for-test-pathpy">#</a></h3>
<pre><code>import  os

  

def  run_script1():

# Get the directory containing the current script file

current_dir  =  os.path.dirname(__file__)

# Construct the full path to the script

script_path  =  os.path.abspath(os.path.join(current_dir, '..', '..', 'progetto_api', 'add_page.sh'))

return  script_path

  

def  runs_script2():

current_dir  =  os.path.dirname(__file__)

script_path2  =  os.path.abspath(os.path.join(current_dir, 'add_page.sh'))

return  script_path2

  

# Print the output directly in the terminal

print(run_script1())

print(runs_script2())
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/post_number_11/">
    <span class="title">« Prev</span>
    <br>
    <span></span>
  </a>
  <a class="next" href="http://localhost:1313/posts/search/">
    <span class="title">Next »</span>
    <br>
    <span>Pagina di ricerca</span>
  </a>
</nav>

  </footer>
</article>
        <p><a href="http://localhost:1313/">back to the homepage</a></p>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">My New Hugo Site</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
